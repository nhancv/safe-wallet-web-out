{"version":3,"file":"static/chunks/1018.71f47321f0e96fb5.js","mappings":"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","sources":["webpack://_N_E/./node_modules/@cowprotocol/widget-react/index.js","webpack://_N_E/../../node_modules/@cowprotocol/widget-lib/index.js","webpack://_N_E/../../node_modules/@cowprotocol/events/index.js"],"sourcesContent":["\"use strict\";var G=Object.defineProperty;var j=(e,n,t)=>n in e?G(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;var _=(e,n,t)=>(j(e,typeof n!=\"symbol\"?n+\"\":n,t),t);Object.defineProperty(exports,Symbol.toStringTag,{value:\"Module\"});const W=require(\"react/jsx-runtime\"),g=require(\"react\");class U{constructor(n){this.key=n}postMessageToWindow(n,t,r){const p=typeof r==\"object\"?r:{},h={key:this.key,method:t,...p};n.postMessage(h,\"*\")}listenToMessageFromWindow(n,t,r){const p=h=>{!Q(h.data)||h.data.key!==this.key||h.data.method!==t||r(h.data)};return n.addEventListener(\"message\",p),p}stopListeningToMessageFromWindow(n,t,r){n.removeEventListener(\"message\",r)}stopListeningWindowListener(n,t){n.removeEventListener(\"message\",t)}}function Q(e){return typeof e==\"object\"&&e!==null&&\"key\"in e&&\"method\"in e&&typeof e.key==\"string\"&&typeof e.method==\"string\"}var C=(e=>(e.PROVIDER_RPC_REQUEST=\"PROVIDER_RPC_REQUEST\",e.PROVIDER_RPC_RESPONSE=\"PROVIDER_RPC_RESPONSE\",e.PROVIDER_ON_EVENT=\"PROVIDER_ON_EVENT\",e))(C||{});const O=new U(\"cowSwapIframeRpcProviderTransport\"),$=[\"connect\",\"disconnect\",\"close\",\"chainChanged\",\"accountsChanged\"];class q{constructor(n){_(this,\"ethereumProvider\",null);_(this,\"requestWaitingForConnection\",{});_(this,\"processRpcCallFromWindow\",({rpcRequest:n})=>{if(!this.ethereumProvider){n.id&&(this.requestWaitingForConnection[n.id]=n);return}this.processRpcRequest(n)});this.iframeWidow=n}disconnect(){this.ethereumProvider=null,O.stopListeningToMessageFromWindow(window,C.PROVIDER_RPC_REQUEST,this.processRpcCallFromWindow)}onConnect(n){this.ethereumProvider?this.disconnect():O.listenToMessageFromWindow(window,C.PROVIDER_RPC_REQUEST,this.processRpcCallFromWindow),this.ethereumProvider=n,this.processPendingRequests(),$.forEach(t=>{n.on(t,r=>this.onProviderEvent(t,r))})}processPendingRequests(){Object.keys(this.requestWaitingForConnection).forEach(n=>{this.processRpcRequest(this.requestWaitingForConnection[n])}),this.requestWaitingForConnection={}}processRpcRequest(n){const{id:t,jsonrpc:r,method:p}=n;if(!this.ethereumProvider||!t)return;(p===\"enable\"?this.ethereumProvider.enable():this.ethereumProvider.request({...n,id:t})).then(w=>this.forwardRpcResponseToIframe({rpcResponse:{jsonrpc:r,id:t,result:w}})).catch(w=>this.forwardRpcResponseToIframe({rpcResponse:{jsonrpc:r,id:t,error:w}}))}onProviderEvent(n,t){O.postMessageToWindow(this.iframeWidow,C.PROVIDER_ON_EVENT,{event:n,params:t})}forwardRpcResponseToIframe(n){O.postMessageToWindow(this.iframeWidow,C.PROVIDER_RPC_RESPONSE,n)}}var B={exports:{}};(function(e){var n=Object.prototype.hasOwnProperty,t=\"~\";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(t=!1));function p(c,i,s){this.fn=c,this.context=i,this.once=s||!1}function h(c,i,s,o,d){if(typeof s!=\"function\")throw new TypeError(\"The listener must be a function\");var u=new p(s,o||c,d),l=t?t+i:i;return c._events[l]?c._events[l].fn?c._events[l]=[c._events[l],u]:c._events[l].push(u):(c._events[l]=u,c._eventsCount++),c}function w(c,i){--c._eventsCount===0?c._events=new r:delete c._events[i]}function f(){this._events=new r,this._eventsCount=0}f.prototype.eventNames=function(){var i=[],s,o;if(this._eventsCount===0)return i;for(o in s=this._events)n.call(s,o)&&i.push(t?o.slice(1):o);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(s)):i},f.prototype.listeners=function(i){var s=t?t+i:i,o=this._events[s];if(!o)return[];if(o.fn)return[o.fn];for(var d=0,u=o.length,l=new Array(u);d<u;d++)l[d]=o[d].fn;return l},f.prototype.listenerCount=function(i){var s=t?t+i:i,o=this._events[s];return o?o.fn?1:o.length:0},f.prototype.emit=function(i,s,o,d,u,l){var m=t?t+i:i;if(!this._events[m])return!1;var a=this._events[m],v=arguments.length,R,E;if(a.fn){switch(a.once&&this.removeListener(i,a.fn,void 0,!0),v){case 1:return a.fn.call(a.context),!0;case 2:return a.fn.call(a.context,s),!0;case 3:return a.fn.call(a.context,s,o),!0;case 4:return a.fn.call(a.context,s,o,d),!0;case 5:return a.fn.call(a.context,s,o,d,u),!0;case 6:return a.fn.call(a.context,s,o,d,u,l),!0}for(E=1,R=new Array(v-1);E<v;E++)R[E-1]=arguments[E];a.fn.apply(a.context,R)}else{var H=a.length,y;for(E=0;E<H;E++)switch(a[E].once&&this.removeListener(i,a[E].fn,void 0,!0),v){case 1:a[E].fn.call(a[E].context);break;case 2:a[E].fn.call(a[E].context,s);break;case 3:a[E].fn.call(a[E].context,s,o);break;case 4:a[E].fn.call(a[E].context,s,o,d);break;default:if(!R)for(y=1,R=new Array(v-1);y<v;y++)R[y-1]=arguments[y];a[E].fn.apply(a[E].context,R)}}return!0},f.prototype.on=function(i,s,o){return h(this,i,s,o,!1)},f.prototype.once=function(i,s,o){return h(this,i,s,o,!0)},f.prototype.removeListener=function(i,s,o,d){var u=t?t+i:i;if(!this._events[u])return this;if(!s)return w(this,u),this;var l=this._events[u];if(l.fn)l.fn===s&&(!d||l.once)&&(!o||l.context===o)&&w(this,u);else{for(var m=0,a=[],v=l.length;m<v;m++)(l[m].fn!==s||d&&!l[m].once||o&&l[m].context!==o)&&a.push(l[m]);a.length?this._events[u]=a.length===1?a[0]:a:w(this,u)}return this},f.prototype.removeAllListeners=function(i){var s;return i?(s=t?t+i:i,this._events[s]&&w(this,s)):(this._events=new r,this._eventsCount=0),this},f.prototype.off=f.prototype.removeListener,f.prototype.addListener=f.prototype.on,f.prefixed=t,f.EventEmitter=f,e.exports=f})(B);class J{constructor(){_(this,\"subscriptions\",{})}on(n){const{event:t,handler:r}=n;return this.subscriptions[t]||(this.subscriptions[t]=[]),this.subscriptions[t].push(r),n}off(n){const{event:t,handler:r}=n;return this.subscriptions[t]&&(this.subscriptions[t]=this.subscriptions[t].filter(p=>p!==r)),n}emit(n,t){this.subscriptions[n]&&this.subscriptions[n].forEach(r=>r(t))}}var P=(e=>(e.ACTIVATE=\"ACTIVATE\",e.UPDATE_HEIGHT=\"UPDATE_HEIGHT\",e.SET_FULL_HEIGHT=\"SET_FULL_HEIGHT\",e.EMIT_COW_EVENT=\"EMIT_COW_EVENT\",e.PROVIDER_RPC_REQUEST=\"PROVIDER_RPC_REQUEST\",e.INTERCEPT_WINDOW_OPEN=\"INTERCEPT_WINDOW_OPEN\",e))(P||{}),S=(e=>(e.UPDATE_PARAMS=\"UPDATE_PARAMS\",e.UPDATE_APP_DATA=\"UPDATE_APP_DATA\",e.PROVIDER_RPC_RESPONSE=\"PROVIDER_RPC_RESPONSE\",e.PROVIDER_ON_EVENT=\"PROVIDER_ON_EVENT\",e))(S||{}),I=(e=>(e.SWAP=\"swap\",e.LIMIT=\"limit\",e.ADVANCED=\"advanced\",e.YIELD=\"yield\",e))(I||{});const z=[\"primary\",\"background\",\"paper\",\"text\",\"danger\",\"warning\",\"alert\",\"info\",\"success\"],T=new U(\"cowSwapWidget\");class Y{constructor(n,t=[]){_(this,\"eventEmitter\",new J);_(this,\"listeners\",[]);_(this,\"widgetListener\");this.contentWindow=n,this.updateListeners(t),this.widgetListener=T.listenToMessageFromWindow(this.contentWindow,P.EMIT_COW_EVENT,r=>this.eventEmitter.emit(r.event,r.payload))}stopListeningIframe(){T.stopListeningWindowListener(this.contentWindow,this.widgetListener)}updateListeners(n){for(const t of this.listeners)this.eventEmitter.off(t);this.listeners=n||[];for(const t of this.listeners)this.eventEmitter.on(t)}}class K{constructor(n,t){_(this,\"forwardSdkMessage\");this.appWindow=n,this.iframeWidow=t,this.forwardSdkMessage=r=>{X(r.data)&&r.origin!==window.location.origin&&(Z(r.data)?this.appWindow.parent.postMessage(r.data,\"*\"):ee(r.data)&&this.iframeWidow.postMessage(r.data,\"*\"))},this.startListening()}startListening(){this.appWindow.addEventListener(\"message\",this.forwardSdkMessage)}stopListening(){this.appWindow.removeEventListener(\"message\",this.forwardSdkMessage)}}function X(e){return typeof e==\"object\"&&e!==null&&\"id\"in e&&typeof e.id==\"string\"}function Z(e){return\"method\"in e&&typeof e.method==\"string\"&&\"params\"in e&&\"env\"in e&&typeof e.env==\"object\"&&e.env!==null&&\"sdkVersion\"in e.env}function ee(e){return\"success\"in e&&typeof e.success==\"boolean\"&&\"version\"in e&&typeof e.version==\"string\"}function V(e){return!!(e&&typeof e==\"object\")}const b=\"_\";function te(e){const n=typeof e.baseUrl==\"string\"?e.baseUrl:\"https://swap.cow.fi\",t=x(e);return n+\"/#\"+t+\"?\"+F(e)}function x(e){const{chainId:n=1,sell:t,buy:r,tradeType:p=I.SWAP}=e,h=[(t==null?void 0:t.asset)||b,(r==null?void 0:r.asset)||b].map(encodeURIComponent).join(\"/\");return`/${n}/widget/${p}/${h}`}function F(e){const n=new URLSearchParams;return re(ne(n,e),e)}function ne(e,n){const{sell:t,buy:r}=n;return t!=null&&t.amount&&e.append(\"sellAmount\",t.amount),r!=null&&r.amount&&e.append(\"buyAmount\",r.amount),e}function re(e,n){const t=n.theme;return t?(V(t)?(e.append(\"palette\",encodeURIComponent(JSON.stringify(t))),e.append(\"theme\",t.baseTheme)):(e.append(\"palette\",\"null\"),e.append(\"theme\",t)),e):(e.append(\"palette\",\"null\"),e)}const k=\"640px\",se=\"450px\",oe=20;function L(e,n){const{params:t,provider:r,listeners:p}=n;let h=r,w=t;const f=ie(t);e.innerHTML=\"\",e.appendChild(f);const{contentWindow:c}=f;if(!c)throw console.error(\"Iframe does not contain a window\",f),new Error(\"Iframe does not contain a window!\");const i=[];i.push(ae(c,t.appCode)),i.push(...ue(f,t.height,t.maxHeight)),i.push(ce());const s=new Y(window,p);let o=N(c,null,h);f.addEventListener(\"load\",()=>M(c,w,h));const d=new K(window,c);return{updateParams:u=>{w=u,M(c,w,h)},updateListeners:u=>s.updateListeners(u),updateProvider:u=>{h=u,o=N(c,o,u)},destroy:()=>{o.disconnect(),s.stopListeningIframe(),i.forEach(u=>window.removeEventListener(\"message\",u)),d.stopListening(),e.removeChild(f)}}}function N(e,n,t){n&&n.disconnect();const r=n||new q(e);return t&&r.onConnect(t),r}function ie(e){const{width:n=se,height:t=k}=e,r=document.createElement(\"iframe\");return r.src=te(e),r.width=n,r.height=t,r.style.border=\"0\",r.allow=\"clipboard-read; clipboard-write\",r}function M(e,n,t){const r=!!t,p=x(n),h=F(n).toString(),{theme:w,...f}=n;T.postMessageToWindow(e,S.UPDATE_PARAMS,{urlParams:{pathname:p,search:h},appParams:f,hasProvider:r})}function ae(e,n){return T.listenToMessageFromWindow(window,P.ACTIVATE,()=>{T.postMessageToWindow(e,S.UPDATE_APP_DATA,{metaData:n?{appCode:n}:void 0})})}function ce(){return T.listenToMessageFromWindow(window,P.INTERCEPT_WINDOW_OPEN,({href:e,rel:n,target:t})=>{const r=e.toString();if(!r.startsWith(\"http\")&&r.match(/^[a-zA-Z0-9]+:\\/\\//)){window.open(r,t,n);return}})}function ue(e,n=k,t){return[T.listenToMessageFromWindow(window,P.UPDATE_HEIGHT,r=>{const p=r.height?r.height+oe:void 0;e.style.height=p?`${t?Math.min(p,t):p}px`:n}),T.listenToMessageFromWindow(window,P.SET_FULL_HEIGHT,({isUpToSmall:r})=>{e.style.height=r?n:`${t||document.body.offsetHeight}px`})]}const fe=Object.values(I);function de(e,n,t){if(A(e)){const r=e[t];return D(r)?r[n]:r}if(D(e)){const r=e[n];return A(r)?r[t]:r}return e}function A(e){return typeof e!=\"object\"?!1:Object.keys(e).every(n=>fe.includes(n))}const pe=/^\\d+$/;function D(e){return typeof e!=\"object\"?!1:Object.keys(e).every(n=>typeof n==\"number\"||pe.test(n))}function le(e){const{params:n,provider:t,listeners:r}=e,[p,h]=g.useState(null),w=g.useRef(null),f=g.useRef(t),c=g.useRef(r),i=g.useRef(null),s=g.useRef(null),o=g.useCallback((d,u)=>{try{console.log(`[WIDGET] ${d}`),u()}catch(l){const m=`Error ${d.toLowerCase()}`;console.error(`[WIDGET] ${m}`,l),h({message:m,error:l})}},[]);return g.useEffect(()=>()=>{w.current=null,f.current=void 0,c.current=void 0;const d=s.current;d&&(o(\"💥 Destroy widget\",()=>d.destroy()),s.current=null)},[]),g.useEffect(()=>{if(!i.current||JSON.stringify(w.current)===JSON.stringify(n))return;const d=i.current,u=s.current;w.current=n,u===null?o(\"Creating a new widget\",()=>{s.current=L(d,{params:n,provider:f.current,listeners:r}),c.current=r}):o(\"Updating the widget\",()=>u.updateParams(n))},[n,o]),g.useEffect(()=>{if(!s.current||f.current===t)return;f.current=t;const d=i.current;d&&o(\"Updating the provider\",()=>{var u;(u=s.current)==null||u.destroy(),s.current=L(d,{params:n,provider:f.current,listeners:r})})},[t,o]),g.useEffect(()=>{if(!s.current||c.current===r)return;const d=s.current;o(\"Updating the listeners\",()=>d.updateListeners(r))},[r,o]),p?W.jsxs(\"div\",{style:{color:\"#ff3a3a\"},children:[p.message,p.error.message&&W.jsx(\"pre\",{style:{whiteSpace:\"pre-wrap\",fontSize:\"0.75em\"},children:p.error.message})]}):W.jsx(\"div\",{ref:i,style:{width:\"100%\"}})}exports.CowSwapWidget=le;exports.TradeType=I;exports.WIDGET_PALETTE_COLORS=z;exports.WidgetMethodsEmit=P;exports.WidgetMethodsListen=S;exports.createCowSwapWidget=L;exports.isCowSwapWidgetPalette=V;exports.isPerNetworkConfig=D;exports.isPerTradeTypeConfig=A;exports.resolveFlexibleConfig=de;exports.widgetIframeTransport=T;\n","\"use strict\";var k=Object.defineProperty;var x=(e,n,t)=>n in e?k(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;var T=(e,n,t)=>(x(e,typeof n!=\"symbol\"?n+\"\":n,t),t);Object.defineProperty(exports,Symbol.toStringTag,{value:\"Module\"});class b{constructor(n){this.key=n}postMessageToWindow(n,t,s){const d=typeof s==\"object\"?s:{},l={key:this.key,method:t,...d};n.postMessage(l,\"*\")}listenToMessageFromWindow(n,t,s){const d=l=>{!H(l.data)||l.data.key!==this.key||l.data.method!==t||s(l.data)};return n.addEventListener(\"message\",d),d}stopListeningToMessageFromWindow(n,t,s){n.removeEventListener(\"message\",s)}stopListeningWindowListener(n,t){n.removeEventListener(\"message\",t)}}function H(e){return typeof e==\"object\"&&e!==null&&\"key\"in e&&\"method\"in e&&typeof e.key==\"string\"&&typeof e.method==\"string\"}var C=(e=>(e.PROVIDER_RPC_REQUEST=\"PROVIDER_RPC_REQUEST\",e.PROVIDER_RPC_RESPONSE=\"PROVIDER_RPC_RESPONSE\",e.PROVIDER_ON_EVENT=\"PROVIDER_ON_EVENT\",e))(C||{});const y=new b(\"cowSwapIframeRpcProviderTransport\"),G=[\"connect\",\"disconnect\",\"close\",\"chainChanged\",\"accountsChanged\"];class Q{constructor(n){T(this,\"ethereumProvider\",null);T(this,\"requestWaitingForConnection\",{});T(this,\"processRpcCallFromWindow\",({rpcRequest:n})=>{if(!this.ethereumProvider){n.id&&(this.requestWaitingForConnection[n.id]=n);return}this.processRpcRequest(n)});this.iframeWidow=n}disconnect(){this.ethereumProvider=null,y.stopListeningToMessageFromWindow(window,C.PROVIDER_RPC_REQUEST,this.processRpcCallFromWindow)}onConnect(n){this.ethereumProvider?this.disconnect():y.listenToMessageFromWindow(window,C.PROVIDER_RPC_REQUEST,this.processRpcCallFromWindow),this.ethereumProvider=n,this.processPendingRequests(),G.forEach(t=>{n.on(t,s=>this.onProviderEvent(t,s))})}processPendingRequests(){Object.keys(this.requestWaitingForConnection).forEach(n=>{this.processRpcRequest(this.requestWaitingForConnection[n])}),this.requestWaitingForConnection={}}processRpcRequest(n){const{id:t,jsonrpc:s,method:d}=n;if(!this.ethereumProvider||!t)return;(d===\"enable\"?this.ethereumProvider.enable():this.ethereumProvider.request({...n,id:t})).then(w=>this.forwardRpcResponseToIframe({rpcResponse:{jsonrpc:s,id:t,result:w}})).catch(w=>this.forwardRpcResponseToIframe({rpcResponse:{jsonrpc:s,id:t,error:w}}))}onProviderEvent(n,t){y.postMessageToWindow(this.iframeWidow,C.PROVIDER_ON_EVENT,{event:n,params:t})}forwardRpcResponseToIframe(n){y.postMessageToWindow(this.iframeWidow,C.PROVIDER_RPC_RESPONSE,n)}}var j={exports:{}};(function(e){var n=Object.prototype.hasOwnProperty,t=\"~\";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(t=!1));function d(c,r,o){this.fn=c,this.context=r,this.once=o||!1}function l(c,r,o,i,E){if(typeof o!=\"function\")throw new TypeError(\"The listener must be a function\");var f=new d(o,i||c,E),p=t?t+r:r;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],f]:c._events[p].push(f):(c._events[p]=f,c._eventsCount++),c}function w(c,r){--c._eventsCount===0?c._events=new s:delete c._events[r]}function u(){this._events=new s,this._eventsCount=0}u.prototype.eventNames=function(){var r=[],o,i;if(this._eventsCount===0)return r;for(i in o=this._events)n.call(o,i)&&r.push(t?i.slice(1):i);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(o)):r},u.prototype.listeners=function(r){var o=t?t+r:r,i=this._events[o];if(!i)return[];if(i.fn)return[i.fn];for(var E=0,f=i.length,p=new Array(f);E<f;E++)p[E]=i[E].fn;return p},u.prototype.listenerCount=function(r){var o=t?t+r:r,i=this._events[o];return i?i.fn?1:i.length:0},u.prototype.emit=function(r,o,i,E,f,p){var _=t?t+r:r;if(!this._events[_])return!1;var a=this._events[_],P=arguments.length,v,h;if(a.fn){switch(a.once&&this.removeListener(r,a.fn,void 0,!0),P){case 1:return a.fn.call(a.context),!0;case 2:return a.fn.call(a.context,o),!0;case 3:return a.fn.call(a.context,o,i),!0;case 4:return a.fn.call(a.context,o,i,E),!0;case 5:return a.fn.call(a.context,o,i,E,f),!0;case 6:return a.fn.call(a.context,o,i,E,f,p),!0}for(h=1,v=new Array(P-1);h<P;h++)v[h-1]=arguments[h];a.fn.apply(a.context,v)}else{var U=a.length,R;for(h=0;h<U;h++)switch(a[h].once&&this.removeListener(r,a[h].fn,void 0,!0),P){case 1:a[h].fn.call(a[h].context);break;case 2:a[h].fn.call(a[h].context,o);break;case 3:a[h].fn.call(a[h].context,o,i);break;case 4:a[h].fn.call(a[h].context,o,i,E);break;default:if(!v)for(R=1,v=new Array(P-1);R<P;R++)v[R-1]=arguments[R];a[h].fn.apply(a[h].context,v)}}return!0},u.prototype.on=function(r,o,i){return l(this,r,o,i,!1)},u.prototype.once=function(r,o,i){return l(this,r,o,i,!0)},u.prototype.removeListener=function(r,o,i,E){var f=t?t+r:r;if(!this._events[f])return this;if(!o)return w(this,f),this;var p=this._events[f];if(p.fn)p.fn===o&&(!E||p.once)&&(!i||p.context===i)&&w(this,f);else{for(var _=0,a=[],P=p.length;_<P;_++)(p[_].fn!==o||E&&!p[_].once||i&&p[_].context!==i)&&a.push(p[_]);a.length?this._events[f]=a.length===1?a[0]:a:w(this,f)}return this},u.prototype.removeAllListeners=function(r){var o;return r?(o=t?t+r:r,this._events[o]&&w(this,o)):(this._events=new s,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=t,u.EventEmitter=u,e.exports=u})(j);class ${constructor(){T(this,\"subscriptions\",{})}on(n){const{event:t,handler:s}=n;return this.subscriptions[t]||(this.subscriptions[t]=[]),this.subscriptions[t].push(s),n}off(n){const{event:t,handler:s}=n;return this.subscriptions[t]&&(this.subscriptions[t]=this.subscriptions[t].filter(d=>d!==s)),n}emit(n,t){this.subscriptions[n]&&this.subscriptions[n].forEach(s=>s(t))}}var g=(e=>(e.ACTIVATE=\"ACTIVATE\",e.UPDATE_HEIGHT=\"UPDATE_HEIGHT\",e.SET_FULL_HEIGHT=\"SET_FULL_HEIGHT\",e.EMIT_COW_EVENT=\"EMIT_COW_EVENT\",e.PROVIDER_RPC_REQUEST=\"PROVIDER_RPC_REQUEST\",e.INTERCEPT_WINDOW_OPEN=\"INTERCEPT_WINDOW_OPEN\",e))(g||{}),O=(e=>(e.UPDATE_PARAMS=\"UPDATE_PARAMS\",e.UPDATE_APP_DATA=\"UPDATE_APP_DATA\",e.PROVIDER_RPC_RESPONSE=\"PROVIDER_RPC_RESPONSE\",e.PROVIDER_ON_EVENT=\"PROVIDER_ON_EVENT\",e))(O||{}),I=(e=>(e.SWAP=\"swap\",e.LIMIT=\"limit\",e.ADVANCED=\"advanced\",e.YIELD=\"yield\",e))(I||{});const B=[\"primary\",\"background\",\"paper\",\"text\",\"danger\",\"warning\",\"alert\",\"info\",\"success\"],m=new b(\"cowSwapWidget\");class q{constructor(n,t=[]){T(this,\"eventEmitter\",new $);T(this,\"listeners\",[]);T(this,\"widgetListener\");this.contentWindow=n,this.updateListeners(t),this.widgetListener=m.listenToMessageFromWindow(this.contentWindow,g.EMIT_COW_EVENT,s=>this.eventEmitter.emit(s.event,s.payload))}stopListeningIframe(){m.stopListeningWindowListener(this.contentWindow,this.widgetListener)}updateListeners(n){for(const t of this.listeners)this.eventEmitter.off(t);this.listeners=n||[];for(const t of this.listeners)this.eventEmitter.on(t)}}class Y{constructor(n,t){T(this,\"forwardSdkMessage\");this.appWindow=n,this.iframeWidow=t,this.forwardSdkMessage=s=>{z(s.data)&&s.origin!==window.location.origin&&(J(s.data)?this.appWindow.parent.postMessage(s.data,\"*\"):K(s.data)&&this.iframeWidow.postMessage(s.data,\"*\"))},this.startListening()}startListening(){this.appWindow.addEventListener(\"message\",this.forwardSdkMessage)}stopListening(){this.appWindow.removeEventListener(\"message\",this.forwardSdkMessage)}}function z(e){return typeof e==\"object\"&&e!==null&&\"id\"in e&&typeof e.id==\"string\"}function J(e){return\"method\"in e&&typeof e.method==\"string\"&&\"params\"in e&&\"env\"in e&&typeof e.env==\"object\"&&e.env!==null&&\"sdkVersion\"in e.env}function K(e){return\"success\"in e&&typeof e.success==\"boolean\"&&\"version\"in e&&typeof e.version==\"string\"}function N(e){return!!(e&&typeof e==\"object\")}const A=\"_\";function X(e){const n=typeof e.baseUrl==\"string\"?e.baseUrl:\"https://swap.cow.fi\",t=M(e);return n+\"/#\"+t+\"?\"+V(e)}function M(e){const{chainId:n=1,sell:t,buy:s,tradeType:d=I.SWAP}=e,l=[(t==null?void 0:t.asset)||A,(s==null?void 0:s.asset)||A].map(encodeURIComponent).join(\"/\");return`/${n}/widget/${d}/${l}`}function V(e){const n=new URLSearchParams;return ee(Z(n,e),e)}function Z(e,n){const{sell:t,buy:s}=n;return t!=null&&t.amount&&e.append(\"sellAmount\",t.amount),s!=null&&s.amount&&e.append(\"buyAmount\",s.amount),e}function ee(e,n){const t=n.theme;return t?(N(t)?(e.append(\"palette\",encodeURIComponent(JSON.stringify(t))),e.append(\"theme\",t.baseTheme)):(e.append(\"palette\",\"null\"),e.append(\"theme\",t)),e):(e.append(\"palette\",\"null\"),e)}const F=\"640px\",te=\"450px\",ne=20;function se(e,n){const{params:t,provider:s,listeners:d}=n;let l=s,w=t;const u=re(t);e.innerHTML=\"\",e.appendChild(u);const{contentWindow:c}=u;if(!c)throw console.error(\"Iframe does not contain a window\",u),new Error(\"Iframe does not contain a window!\");const r=[];r.push(oe(c,t.appCode)),r.push(...ae(u,t.height,t.maxHeight)),r.push(ie());const o=new q(window,d);let i=L(c,null,l);u.addEventListener(\"load\",()=>D(c,w,l));const E=new Y(window,c);return{updateParams:f=>{w=f,D(c,w,l)},updateListeners:f=>o.updateListeners(f),updateProvider:f=>{l=f,i=L(c,i,f)},destroy:()=>{i.disconnect(),o.stopListeningIframe(),r.forEach(f=>window.removeEventListener(\"message\",f)),E.stopListening(),e.removeChild(u)}}}function L(e,n,t){n&&n.disconnect();const s=n||new Q(e);return t&&s.onConnect(t),s}function re(e){const{width:n=te,height:t=F}=e,s=document.createElement(\"iframe\");return s.src=X(e),s.width=n,s.height=t,s.style.border=\"0\",s.allow=\"clipboard-read; clipboard-write\",s}function D(e,n,t){const s=!!t,d=M(n),l=V(n).toString(),{theme:w,...u}=n;m.postMessageToWindow(e,O.UPDATE_PARAMS,{urlParams:{pathname:d,search:l},appParams:u,hasProvider:s})}function oe(e,n){return m.listenToMessageFromWindow(window,g.ACTIVATE,()=>{m.postMessageToWindow(e,O.UPDATE_APP_DATA,{metaData:n?{appCode:n}:void 0})})}function ie(){return m.listenToMessageFromWindow(window,g.INTERCEPT_WINDOW_OPEN,({href:e,rel:n,target:t})=>{const s=e.toString();if(!s.startsWith(\"http\")&&s.match(/^[a-zA-Z0-9]+:\\/\\//)){window.open(s,t,n);return}})}function ae(e,n=F,t){return[m.listenToMessageFromWindow(window,g.UPDATE_HEIGHT,s=>{const d=s.height?s.height+ne:void 0;e.style.height=d?`${t?Math.min(d,t):d}px`:n}),m.listenToMessageFromWindow(window,g.SET_FULL_HEIGHT,({isUpToSmall:s})=>{e.style.height=s?n:`${t||document.body.offsetHeight}px`})]}const ce=Object.values(I);function ue(e,n,t){if(W(e)){const s=e[t];return S(s)?s[n]:s}if(S(e)){const s=e[n];return W(s)?s[t]:s}return e}function W(e){return typeof e!=\"object\"?!1:Object.keys(e).every(n=>ce.includes(n))}const fe=/^\\d+$/;function S(e){return typeof e!=\"object\"?!1:Object.keys(e).every(n=>typeof n==\"number\"||fe.test(n))}exports.TradeType=I;exports.WIDGET_PALETTE_COLORS=B;exports.WidgetMethodsEmit=g;exports.WidgetMethodsListen=O;exports.createCowSwapWidget=se;exports.isCowSwapWidgetPalette=N;exports.isPerNetworkConfig=S;exports.isPerTradeTypeConfig=W;exports.resolveFlexibleConfig=ue;exports.widgetIframeTransport=m;\n","\"use strict\";var I=Object.defineProperty;var S=(E,_,R)=>_ in E?I(E,_,{enumerable:!0,configurable:!0,writable:!0,value:R}):E[_]=R;var O=(E,_,R)=>(S(E,typeof _!=\"symbol\"?_+\"\":_,R),R);Object.defineProperty(exports,Symbol.toStringTag,{value:\"Module\"});var D=(E=>(E.SWAP_ETH_FLOW_SENT_TX=\"SWAP_ETH_FLOW_SENT_TX\",E.ORDER_CREATED=\"ORDER_CREATED\",E.SWAP_SIGNING_ERROR=\"SWAP_SIGNING_ERROR\",E.ORDER_FULFILLED=\"ORDER_FULFILLED\",E.ORDER_CANCELLED=\"ORDER_CANCELLED\",E.ORDER_EXPIRED=\"ORDER_EXPIRED\",E.ORDER_PRESIGNED=\"ORDER_PRESIGNED\",E.ONCHAIN_TRANSACTION_MINED=\"ONCHAIN_TRANSACTION_MINED\",E.ONCHAIN_TRANSACTION_FAILED=\"ONCHAIN_TRANSACTION_FAILED\",E))(D||{}),A=(E=>(E.ON_TOAST_MESSAGE=\"ON_TOAST_MESSAGE\",E.ON_POSTED_ORDER=\"ON_POSTED_ORDER\",E.ON_FULFILLED_ORDER=\"ON_FULFILLED_ORDER\",E.ON_CANCELLED_ORDER=\"ON_CANCELLED_ORDER\",E.ON_EXPIRED_ORDER=\"ON_EXPIRED_ORDER\",E.ON_PRESIGNED_ORDER=\"ON_PRESIGNED_ORDER\",E.ON_ONCHAIN_TRANSACTION=\"ON_ONCHAIN_TRANSACTION\",E.ON_CHANGE_TRADE_PARAMS=\"ON_CHANGE_TRADE_PARAMS\",E))(A||{});class r{constructor(){O(this,\"subscriptions\",{})}on(_){const{event:R,handler:N}=_;this.subscriptions[R]||(this.subscriptions[R]=[]),this.subscriptions[R].push(N)}off(_){const{event:R,handler:N}=_;this.subscriptions[R]&&(this.subscriptions[R]=this.subscriptions[R].filter(i=>i!==N))}emit(_,R){this.subscriptions[_]&&this.subscriptions[_].forEach(N=>N(R))}}exports.CowEvents=A;exports.SimpleCowEventEmitter=r;exports.ToastMessageType=D;\n"],"names":[],"sourceRoot":"","ignoreList":[0,1,2]}