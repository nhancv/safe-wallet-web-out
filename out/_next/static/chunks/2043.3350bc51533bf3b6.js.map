{"version":3,"file":"static/chunks/2043.3350bc51533bf3b6.js","mappings":"iOAaO,IAAMA,EAA4B,OAAC,QACxCC,CAAM,UACNC,CAAQ,UACRC,CAAQ,CAIR,GACM,WAAEC,CAAS,gBAAEC,CAAc,CAAE,CAAGC,CAAAA,EAAAA,EAAAA,UAAAA,CAAUA,CAACC,EAAAA,CAAaA,EACxDC,EAAUC,CAAAA,EAAAA,EAAAA,EAAAA,CAAUA,GACpB,MAAEC,CAAI,CAAE,CAAGC,CAAAA,EAAAA,EAAAA,CAAAA,CAAWA,GAE5BC,CAAAA,EAAAA,EAAAA,SAAAA,CAASA,CAAC,SACHF,EAAL,GAAI,UAACA,EAAAA,EAAKG,OAAO,GAAZH,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAcI,MAAAA,EAAQ,OAE3B,IAAMC,EAAuBC,CAAAA,EAAAA,EAAAA,EAAAA,CAAqCA,CAACR,EAASE,EAAKG,OAAO,EACxF,GAAI,CAACE,EAAsB,OAG3B,IAAME,EADyBC,CAAAA,EAAAA,EAAAA,EAAAA,CAAyBA,GAClBC,kBAAkB,CAAC,kBAAmB,CAC1ElB,EAAOmB,WAAW,CAClBnB,EAAOoB,KAAK,CAACC,OAAO,CACrB,EAQDC,CAAAA,EAAAA,EAAAA,EAAAA,CAAQA,CANS,CACfC,GAAIT,EACJU,MAAO,IACPC,KAAMT,CACR,GAEmBU,IAAI,CAACvB,GAAWwB,KAAK,CAACvB,EAC3C,EAAG,CAACG,EAASP,EAAOmB,WAAW,CAAEnB,EAAOoB,KAAK,CAAEjB,EAAWC,EAAgBK,EAAKG,OAAO,CAAC,EAEvF,IAAMgB,EAAeC,CAAAA,EAAAA,EAAAA,WAAAA,CAAWA,CAAC,KAC/BC,CAAAA,EAAAA,EAAAA,EAAAA,CAAUA,CAACC,EAAAA,EAAeA,CAACC,cAAc,CAACC,aAAa,EACvDhC,GACF,EAAG,CAACA,EAAS,EAEb,MAAO,UAACiC,EAAAA,CAAiBA,CAAAA,CAACjC,SAAU2B,WAAe1B,GACrD,EAAC,0BCzBD,MAnBgC,OAAC,cAmBlBiC,CAnBoBC,CAAa,CAAyC,GACjFC,EAA6BC,CAAAA,EAAAA,EAAAA,OAAAA,CAAOA,CACxC,CAiBkCH,EAAA,CAhBhC,SAASI,CAA+B,EACtC,MAAO,UAACxC,EAAyBA,CAACC,OAAQoC,EAAgB,GAAGI,CAAK,EACpE,EACF,CAACJ,EAAc,EAFsBrC,MAMrC,UAAC0C,EAAAA,CAAMA,CAAAA,CACLC,SAAS,wBACTC,cAAeC,EAAAA,EAAUA,CAACC,qBAAqB,CAC/CC,KAAMC,EAAAA,CAAeA,CACrBV,2BAA4BA,GAGlC","sources":["webpack://_N_E/./src/components/tx-flow/flows/RemoveSpendingLimit/RemoveSpendingLimitReview.tsx","webpack://_N_E/./src/components/tx-flow/flows/RemoveSpendingLimit/index.tsx"],"sourcesContent":["import {\n  getSpendingLimitInterface,\n  getDeployedSpendingLimitModuleAddress,\n} from '@/services/contracts/spendingLimitContracts'\nimport useChainId from '@/hooks/useChainId'\nimport { type PropsWithChildren, useCallback, useContext, useEffect } from 'react'\nimport { SafeTxContext } from '../../SafeTxProvider'\nimport type { SpendingLimitState } from '@/store/spendingLimitsSlice'\nimport { trackEvent, SETTINGS_EVENTS } from '@/services/analytics'\nimport { createTx } from '@/services/tx/tx-sender'\nimport useSafeInfo from '@/hooks/useSafeInfo'\nimport ReviewTransaction from '@/components/tx/ReviewTransactionV2'\n\nexport const RemoveSpendingLimitReview = ({\n  params,\n  onSubmit,\n  children,\n}: PropsWithChildren<{\n  params: SpendingLimitState\n  onSubmit: () => void\n}>) => {\n  const { setSafeTx, setSafeTxError } = useContext(SafeTxContext)\n  const chainId = useChainId()\n  const { safe } = useSafeInfo()\n\n  useEffect(() => {\n    if (!safe.modules?.length) return\n\n    const spendingLimitAddress = getDeployedSpendingLimitModuleAddress(chainId, safe.modules)\n    if (!spendingLimitAddress) return\n\n    const spendingLimitInterface = getSpendingLimitInterface()\n    const txData = spendingLimitInterface.encodeFunctionData('deleteAllowance', [\n      params.beneficiary,\n      params.token.address,\n    ])\n\n    const txParams = {\n      to: spendingLimitAddress,\n      value: '0',\n      data: txData,\n    }\n\n    createTx(txParams).then(setSafeTx).catch(setSafeTxError)\n  }, [chainId, params.beneficiary, params.token, setSafeTx, setSafeTxError, safe.modules])\n\n  const onFormSubmit = useCallback(() => {\n    trackEvent(SETTINGS_EVENTS.SPENDING_LIMIT.LIMIT_REMOVED)\n    onSubmit()\n  }, [onSubmit])\n\n  return <ReviewTransaction onSubmit={onFormSubmit}>{children}</ReviewTransaction>\n}\n","import { RemoveSpendingLimitReview } from 'src/components/tx-flow/flows/RemoveSpendingLimit/RemoveSpendingLimitReview'\nimport type { SpendingLimitState } from '@/store/spendingLimitsSlice'\nimport SaveAddressIcon from '@/public/images/common/save-address.svg'\nimport { useMemo } from 'react'\nimport { TxFlowType } from '@/services/analytics'\nimport { TxFlow } from '../../TxFlow'\nimport type ReviewTransaction from '@/components/tx/ReviewTransactionV2'\n\nconst RemoveSpendingLimitFlow = ({ spendingLimit }: { spendingLimit: SpendingLimitState }) => {\n  const ReviewTransactionComponent = useMemo<typeof ReviewTransaction>(\n    () =>\n      function ReviewRemoveSpendingLimit(props) {\n        return <RemoveSpendingLimitReview params={spendingLimit} {...props} />\n      },\n    [spendingLimit],\n  )\n\n  return (\n    <TxFlow\n      subtitle=\"Remove spending limit\"\n      eventCategory={TxFlowType.REMOVE_SPENDING_LIMIT}\n      icon={SaveAddressIcon}\n      ReviewTransactionComponent={ReviewTransactionComponent}\n    />\n  )\n}\n\nexport default RemoveSpendingLimitFlow\n"],"names":["RemoveSpendingLimitReview","params","onSubmit","children","setSafeTx","setSafeTxError","useContext","SafeTxContext","chainId","useChainId","safe","useSafeInfo","useEffect","modules","length","spendingLimitAddress","getDeployedSpendingLimitModuleAddress","txData","getSpendingLimitInterface","encodeFunctionData","beneficiary","token","address","createTx","to","value","data","then","catch","onFormSubmit","useCallback","trackEvent","SETTINGS_EVENTS","SPENDING_LIMIT","LIMIT_REMOVED","ReviewTransaction","RemoveSpendingLimitFlow","spendingLimit","ReviewTransactionComponent","useMemo","ReviewRemoveSpendingLimit","props","TxFlow","subtitle","eventCategory","TxFlowType","REMOVE_SPENDING_LIMIT","icon","SaveAddressIcon"],"sourceRoot":"","ignoreList":[]}