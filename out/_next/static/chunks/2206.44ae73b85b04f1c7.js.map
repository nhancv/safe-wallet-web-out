{"version":3,"file":"static/chunks/2206.44ae73b85b04f1c7.js","mappings":"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","sources":["webpack://_N_E/./src/components/tx-flow/flows/NestedTxSuccessScreen/styles.module.css","webpack://_N_E/./src/components/common/Mui/index.tsx","webpack://_N_E/./public/images/common/arrow-down.svg","webpack://_N_E/./src/components/tx-flow/flows/NestedTxSuccessScreen/index.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"icon\":\"styles_icon__dmWWt\"};","export * from \"/app/apps/web/src/components/common/Mui/index.tsx\"","var _path;\nvar _excluded = [\"title\", \"titleId\"];\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nfunction _objectWithoutProperties(e, t) { if (null == e) return {}; var o, r, i = _objectWithoutPropertiesLoose(e, t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); for (r = 0; r < n.length; r++) o = n[r], -1 === t.indexOf(o) && {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]); } return i; }\nfunction _objectWithoutPropertiesLoose(r, e) { if (null == r) return {}; var t = {}; for (var n in r) if ({}.hasOwnProperty.call(r, n)) { if (-1 !== e.indexOf(n)) continue; t[n] = r[n]; } return t; }\nimport * as React from \"react\";\nvar SvgArrowDown = function SvgArrowDown(_ref) {\n  var title = _ref.title,\n    titleId = _ref.titleId,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 16,\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M11.7664 9.11708C11.455 8.78255 10.9458 8.78255 10.6344 9.11708L8.801 11.0814V2.85779C8.801 2.38601 8.44073 2 8.0004 2C7.55927 2 7.1998 2.38601 7.1998 2.85779V11.0814L5.36562 9.11708C5.05419 8.7834 4.54501 8.7834 4.23358 9.11708C3.92214 9.45076 3.92214 9.99632 4.23358 10.33L7.43438 13.7586C7.48081 13.8101 7.54005 13.8375 7.5945 13.8727C7.62812 13.8941 7.65534 13.925 7.69217 13.9422C7.72499 13.9576 7.76182 13.9576 7.79625 13.9662C7.96597 14.0151 8.14531 14.0142 8.30863 13.9422C8.34386 13.9259 8.37028 13.8958 8.4031 13.8744C8.45914 13.8392 8.51759 13.8109 8.56642 13.7586L11.7664 10.33C12.0779 9.99632 12.0779 9.45076 11.7664 9.11708Z\",\n    fill: \"currentColor\"\n  })));\n};\nexport default SvgArrowDown;","import { useState, useEffect } from 'react'\nimport { Box, Container, Paper, Stack, SvgIcon, Typography } from '@mui/material'\nimport { PendingStatus, selectPendingTxById } from '@/store/pendingTxsSlice'\nimport EthHashInfo from '@/components/common/EthHashInfo'\nimport ErrorMessage from '@/components/tx/ErrorMessage'\nimport useAddressBook from '@/hooks/useAddressBook'\nimport NestedSafeIcon from '@/public/images/transactions/nestedTx.svg'\nimport ArrowDownIcon from '@/public/images/common/arrow-down.svg'\n\nimport css from './styles.module.css'\nimport Link from 'next/link'\nimport { AppRoutes } from '@/config/routes'\nimport { useAppSelector } from '@/store'\nimport ExternalLink from '@/components/common/ExternalLink'\nimport { MODALS_EVENTS } from '@/services/analytics'\nimport Track from '@/components/common/Track'\nimport useAsync from '@safe-global/utils/hooks/useAsync'\nimport { getSafeTransaction } from '@/utils/transactions'\nimport { isMultisigDetailedExecutionInfo } from '@/utils/transaction-guards'\n\ntype Props = {\n  txId: string\n}\nconst NestedTxSuccessScreen = ({ txId }: Props) => {\n  const addressBook = useAddressBook()\n\n  // _pendingTx eventually clears from the store, so we need to cache it\n  const _pendingTx = useAppSelector((state) => (txId ? selectPendingTxById(state, txId) : undefined))\n  const [cachedPendingTx, setCachedPendingTx] = useState(_pendingTx)\n  useEffect(() => {\n    if (_pendingTx) {\n      setCachedPendingTx(_pendingTx)\n    }\n  }, [_pendingTx])\n\n  const [safeTx] = useAsync(() => {\n    if (cachedPendingTx?.status == PendingStatus.NESTED_SIGNING) {\n      return getSafeTransaction(\n        cachedPendingTx.txHashOrParentSafeTxHash,\n        cachedPendingTx.chainId,\n        cachedPendingTx.signerAddress,\n      )\n    }\n  }, [cachedPendingTx])\n  const isSafeTxHash =\n    cachedPendingTx?.status == PendingStatus.NESTED_SIGNING &&\n    !!safeTx &&\n    isMultisigDetailedExecutionInfo(safeTx.detailedExecutionInfo) &&\n    safeTx.detailedExecutionInfo.safeTxHash === cachedPendingTx.txHashOrParentSafeTxHash\n\n  if (cachedPendingTx?.status !== PendingStatus.NESTED_SIGNING) {\n    return <ErrorMessage>No transaction data found</ErrorMessage>\n  }\n\n  const currentSafeAddress = addressBook[cachedPendingTx.safeAddress]\n  const parentSafeAddress = addressBook[cachedPendingTx.signerAddress]\n\n  return (\n    <Container\n      component={Paper}\n      disableGutters\n      sx={{\n        textAlign: 'center',\n        maxWidth: `${900 - 75}px`, // md={11}\n      }}\n      maxWidth={false}\n    >\n      <Box padding={3} mt={3} display=\"flex\" flexDirection=\"column\" alignItems=\"center\" gap={2}>\n        <Box className={css.icon}>\n          <SvgIcon component={NestedSafeIcon} inheritViewBox fontSize=\"large\" alt=\"Nested Safe\" />\n        </Box>\n        <Typography data-testid=\"transaction-status\" variant=\"h6\" marginTop={2} fontWeight={700}>\n          A nested transaction was created\n        </Typography>\n        <Typography variant=\"body2\" mb={3}>\n          Once confirmed and executed this signer transaction will confirm the child Safe&apos;s transaction.\n        </Typography>\n        <Stack spacing={2} width=\"70%\">\n          <Box display=\"flex\" flexDirection=\"column\" alignItems=\"start\" gap={1}>\n            <Typography variant=\"body2\" color=\"text.secondary\">\n              Parent Safe\n            </Typography>\n            <EthHashInfo\n              address={cachedPendingTx.signerAddress}\n              name={parentSafeAddress}\n              isAddressBookName={Boolean(parentSafeAddress)}\n              shortAddress={false}\n            />\n          </Box>\n          <Stack direction=\"row\" spacing={2} alignItems=\"center\" pl={1}>\n            <SvgIcon component={ArrowDownIcon} fontSize=\"medium\" color=\"border\" inheritViewBox />\n            <Typography\n              component=\"code\"\n              variant=\"body2\"\n              color=\"primary.light\"\n              sx={{\n                backgroundColor: 'background.main',\n                px: 1,\n                py: 0.5,\n                borderRadius: 0.5,\n                fontFamily: 'monospace',\n                whiteSpace: 'nowrap',\n              }}\n            >\n              approveHash\n            </Typography>\n          </Stack>\n          <Box display=\"flex\" flexDirection=\"column\" alignItems=\"start\" gap={1}>\n            <Typography variant=\"body2\" color=\"text.secondary\">\n              Current Safe\n            </Typography>\n            <EthHashInfo\n              address={cachedPendingTx.safeAddress}\n              name={currentSafeAddress}\n              isAddressBookName={Boolean(currentSafeAddress)}\n              shortAddress={false}\n            />\n          </Box>\n        </Stack>\n        <Track {...MODALS_EVENTS.OPEN_PARENT_TX}>\n          <Link\n            href={\n              isSafeTxHash\n                ? {\n                    pathname: AppRoutes.transactions.tx,\n                    query: {\n                      safe: cachedPendingTx.signerAddress,\n                      chainId: cachedPendingTx.chainId,\n                      id: cachedPendingTx.txHashOrParentSafeTxHash,\n                    },\n                  }\n                : {\n                    pathname: AppRoutes.transactions.queue,\n                    query: {\n                      safe: cachedPendingTx.signerAddress,\n                      chainId: cachedPendingTx.chainId,\n                    },\n                  }\n            }\n            passHref\n            legacyBehavior\n          >\n            <ExternalLink mode=\"button\">Open the transaction</ExternalLink>\n          </Link>\n        </Track>\n      </Box>\n    </Container>\n  )\n}\n\nexport default NestedTxSuccessScreen\n"],"names":["txId","addressBook","useAddressBook","NestedTxSuccessScreen","_pendingTx","useAppSelector","state","selectPendingTxById","undefined","cachedPendingTx","setCachedPendingTx","useState","useEffect","safeTx","useAsync","status","PendingStatus","NESTED_SIGNING","getSafeTransaction","txHashOrParentSafeTxHash","chainId","signerAddress","isSafeTxHash","isMultisigDetailedExecutionInfo","detailedExecutionInfo","safeTxHash","ErrorMessage","currentSafeAddress","safeAddress","parentSafeAddress","Container","component","Paper","disableGutters","sx","textAlign","maxWidth","Box","padding","mt","display","flexDirection","alignItems","gap","className","css","SvgIcon","NestedSafeIcon","inheritViewBox","fontSize","alt","Typography","data-testid","variant","marginTop","fontWeight","mb","Stack","spacing","width","color","EthHashInfo","address","name","isAddressBookName","Boolean","shortAddress","direction","pl","ArrowDownIcon","backgroundColor","px","py","borderRadius","fontFamily","whiteSpace","Track","MODALS_EVENTS","OPEN_PARENT_TX","Link","href","pathname","AppRoutes","transactions","tx","query","safe","id","queue","passHref","legacyBehavior","ExternalLink","mode"],"sourceRoot":"","ignoreList":[]}