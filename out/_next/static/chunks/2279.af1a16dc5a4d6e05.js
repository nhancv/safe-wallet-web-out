"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2279],{42279:(e,t,n)=>{n.r(t),n.d(t,{default:()=>$});var a=n(6029),r=n(85591),i=n(88683),s=n(78726),l=n(8694),o=n(19174),c=n(30697),d=n(28729),u=n(47233),h=n(55729),x=n(17358),v=n(28056),f=n(68652),m=n(96180),y=n(33494),j=n(21744),g=n(99210),p=n.n(g),w=n(23450);let A=e=>{let{txs:t}=e,[n,r]=(0,h.useState)();return t?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(w.CR,{title:"Batched transactions",setOpen:r,amount:t.length,compact:!0}),(0,a.jsx)(f.azJ,{className:p().compact,children:t.map((e,t)=>{var i;if(!e.txData)return null;let{txParams:s}=(0,m.A)(e),l={method:"",parameters:void 0};(0,y.ep)(e.txInfo)&&e.txInfo.isCancellation&&(l.method="On-chain rejection"),(0,y.ln)(e.txInfo)&&(0,y.Ef)(e.txInfo.transferInfo)&&(l.method="transfer");let o=e.txData.dataDecoded||l;return(0,a.jsx)(j.A,{tx:{dataDecoded:o,data:s.data,value:s.value,to:s.to,operation:0},txData:e.txData,actionTitle:"".concat(t+1),expanded:null!==(i=null==n?void 0:n[t])&&void 0!==i&&i,onChange:(e,n)=>{r(e=>({...e,[t]:n}))},isExecuted:!!e.executedAt},e.txId)})})]}):null};var b=n(15013),C=n(24007),I=n(96885),L=n(26247),E=n(96524),P=n(3640),S=n(11774),O=n(80779),k=n(18492),D=n(79651),F=n(27096),G=n(48424),M=n(98079),T=n.n(M),N=n(81173),_=n(11353),Z=n(85205),B=n(56366),R=n(7639),Y=n(23207),z=n(8203),J=n(27078),V=n(68992),q=n(47347),H=n(69629),U=n(12002);let W=e=>{let{params:t}=e,[n,r]=(0,h.useState)(!0),[f,m]=(0,h.useState)(),[y,j]=(0,h.useState)(!1),[g,p]=(0,h.useState)(v.S.RELAY),w=(0,c._J)(),{safe:M}=(0,d.A)(),[W]=(0,C.iV)(),{setTxFlow:X}=(0,h.useContext)(N.P),[$]=(0,_.Ay)(),K=(0,z.A)(),Q=(0,U.Tw)(w),ee=null==$?void 0:$.maxFeePerGas,et=null==$?void 0:$.maxPriorityFeePerGas,en=w&&(0,U.jI)(w,U.Gv.EIP1559),ea=(0,P.v)(W),er=ea&&g===v.S.RELAY,ei=(0,I.Ay)(),es=(0,i.Ay)(),{data:el,error:eo,isLoading:ec}=(0,V.aZ)((null==w?void 0:w.chainId)&&t.txs.length?{chainId:w.chainId,txIds:t.txs.map(e=>e.transaction.id)}:q.hT),[ed]=(0,l.A)(async()=>{if(M.version)return await (0,o.YL)(M.version)},[M.version]),[eu=""]=(0,l.A)(async()=>ed?await ed.getAddress():"",[ed]),[eh]=(0,l.A)(async()=>{if(el&&w&&M.version)return(0,S.Pi)(el,w,M.address.value,M.version)},[w,M.address.value,M.version,el]),ex=(0,h.useMemo)(()=>{if(el&&eh)return(0,u.encodeMultiSendData)(eh)},[el,eh]),ev=async()=>{if(!K||!ei||!es||!ex||!ed||!el||!$)return;let e=en?{maxFeePerGas:null==ee?void 0:ee.toString(),maxPriorityFeePerGas:null==et?void 0:et.toString()}:{gasPrice:null==ee?void 0:ee.toString()};e.nonce=K,await (0,E.xG)(el,ed,ex,es.provider,es.address,M.address.value,e,M.nonce)},ef=async()=>{var e;ex&&ed&&el&&await (0,E.Is)(el,ed,ex,M.chainId,M.address.value,null!==(e=M.version)&&void 0!==e?e:Q)},em=async e=>{e.preventDefault(),r(!1),m(void 0),j(!1);try{await (er?ef():ev()),X(void 0)}catch(t){let e=(0,D.z)(t);(0,R.jG)(e)?j(!0):((0,L.vV)(L.I._804,e),m(e)),r(!0);return}(0,Z.sx)({...B.V.EXECUTE,label:B.p.bulk_execute})},ey=ec||!n||!$;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(O.A,{children:[(0,a.jsxs)(s.o5u,{variant:"body2",children:["This transaction batches a total of ",t.txs.length," transactions from your queue into a single Ethereum transaction. Please check every included transaction carefully, especially if you have rejection transactions, and make sure you want to execute all of them. Included transactions are highlighted when you hover over the execute button."]}),ed&&(0,a.jsx)(F.A,{address:eu,title:"Interact with"}),ex&&(0,a.jsx)(J.Y,{title:"Data",hexData:ex}),(0,a.jsx)("div",{children:(0,a.jsx)(A,{txs:el})})]}),eh&&(0,a.jsx)(b.A,{disabled:ey,transaction:eh}),(0,a.jsxs)(O.A,{children:[(0,a.jsx)(G.A,{variant:G.J.execute}),(0,a.jsx)(H.A,{}),ea?(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(v.Z,{executionMethod:g,setExecutionMethod:p,relays:W,tooltip:"You can only relay multisend transactions containing executions from the same Safe Account."})}):null,(0,a.jsx)(s.FcD,{severity:"warning",children:"Be aware that if any of the included transactions revert, none of them will be executed. This will result in the loss of the allocated transaction fees."}),eo&&(0,a.jsx)(x.A,{error:(0,D.z)(eo),children:"This transaction will most likely fail. To save gas costs, avoid creating the transaction."}),f&&(0,a.jsx)(x.A,{error:f,children:"Error submitting the transaction. Please try again."}),y&&(0,a.jsx)(Y.A,{}),(0,a.jsxs)("div",{children:[(0,a.jsx)(s.cGx,{className:T().nestedDivider,sx:{pt:2}}),(0,a.jsx)(s.waF,{children:(0,a.jsx)(k.A,{allowNonOwner:!0,checkNetwork:!0,children:e=>(0,a.jsx)(s.$nd,{variant:"contained",type:"submit",disabled:!e||ey,onClick:em,sx:{minWidth:"114px"},children:n?"Submit":(0,a.jsx)(s.PaH,{size:20})})})})]})]})]})};var X=n(55650);let $=e=>(0,a.jsx)(r.A,{title:"Confirm transaction",subtitle:"Batch",icon:X.A,hideNonce:!0,isBatch:!0,children:(0,a.jsx)(W,{params:e})})},55650:(e,t,n)=>{n.d(t,{A:()=>o});var a,r,i=n(55729),s=["title","titleId"];function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(null,arguments)}let o=function(e){var t=e.title,n=e.titleId,o=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n={};for(var a in e)if(({}).hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;n[a]=e[a]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],-1===t.indexOf(n)&&({}).propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,s);return i.createElement("svg",l({width:22,height:22,viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},o),t?i.createElement("title",{id:n},t):null,a||(a=i.createElement("circle",{cx:11,cy:11,r:11,fill:"#FFD600"})),r||(r=i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.7764 5.55279C10.9172 5.4824 11.0828 5.4824 11.2236 5.55279L16.2235 8.05279C16.3929 8.13748 16.4999 8.31061 16.4999 8.5C16.4999 8.68939 16.3929 8.86252 16.2235 8.94721L11.2236 11.4472C11.0828 11.5176 10.9172 11.5176 10.7764 11.4472L5.7765 8.94721C5.60711 8.86252 5.50011 8.68939 5.50011 8.5C5.50011 8.31061 5.60711 8.13748 5.7765 8.05279L10.7764 5.55279ZM7.11811 8.5L11 10.441L14.8819 8.5L11 6.55902L7.11811 8.5ZM5.55289 10.7764C5.67639 10.5294 5.97672 10.4293 6.2237 10.5528L11 12.941L15.7763 10.5528C16.0233 10.4293 16.3236 10.5294 16.4471 10.7764C16.5706 11.0234 16.4705 11.3237 16.2235 11.4472L11.2236 13.9472C11.0828 14.0176 10.9172 14.0176 10.7764 13.9472L5.7765 11.4472C5.52951 11.3237 5.4294 11.0234 5.55289 10.7764ZM5.55289 13.2764C5.67639 13.0294 5.97672 12.9293 6.2237 13.0528L11 15.441L15.7763 13.0528C16.0233 12.9293 16.3236 13.0294 16.4471 13.2764C16.5706 13.5234 16.4705 13.8237 16.2235 13.9472L11.2236 16.4472C11.0828 16.5176 10.9172 16.5176 10.7764 16.4472L5.7765 13.9472C5.52951 13.8237 5.4294 13.5234 5.55289 13.2764Z",fill:"black"})))}}}]);
//# sourceMappingURL=2279.af1a16dc5a4d6e05.js.map