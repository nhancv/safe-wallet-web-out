(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5902],{11973:(e,t,n)=>{"use strict";n.d(t,{A:()=>A});var i=n(6029),a=n(55729),s=n(36353),r=n(1122),c=n(89099),o=n(78726),l=n(88992),d=n(50614),u=n(30992),h=n(72830),p=n(57187),v=n(36733),x=n(90951),m=n(54932),g=n(85205),w=n(42205),y=n(88271);let j=function(e){var t;let{space:n,onClose:s}=e,[j,C]=(0,a.useState)(),[f,A]=(0,a.useState)(!1),_=(0,p.jL)(),b=(0,c.useRouter)(),I=(0,p.GV)(v.wR),{data:D}=(0,x.h4)(void 0,{skip:!I}),[S]=(0,r.Ep)(),N=null===(t=n.members.find(e=>e.user.id===(null==D?void 0:D.id)))||void 0===t?void 0:t.name,k=(0,l.mN)({mode:"onChange",defaultValues:{name:N}}),{handleSubmit:E,formState:T}=k,B=E(async e=>{C(void 0),(0,g.sx)({...m.D.ACCEPT_INVITE_SUBMIT});try{A(!0);let t=await S({spaceId:n.id,acceptInviteDto:{name:e.name}});if(t.error)throw t.error;b.pathname===h.S.welcome.spaces&&b.push({pathname:h.S.spaces.index,query:{spaceId:n.id}}),s(),_((0,w.Ds)({message:"Accepted invite to ".concat(n.name),variant:"success",groupKey:"accept-invite-success"}))}catch(e){C("Failed accepting the invite. Please try again.")}finally{A(!1)}});return(0,i.jsx)(d.A,{open:!0,onClose:s,dialogTitle:"Accept invite",hideChainIndicator:!0,children:(0,i.jsx)(l.Op,{...k,children:(0,i.jsxs)("form",{onSubmit:B,children:[(0,i.jsxs)(o.Cff,{sx:{py:2},children:[(0,i.jsx)(o.azJ,{mb:2,children:(0,i.jsx)(u.A,{"data-testid":"invite-name-input",label:"Name",autoFocus:!0,name:"name",required:!0})}),(0,i.jsxs)(o.o5u,{variant:"body2",color:"text.secondary",children:["How is my data processed? Read our ",(0,i.jsx)(y.A,{href:h.S.privacy,children:"privacy policy"})]}),j&&(0,i.jsx)(o.FcD,{severity:"error",sx:{mt:2},children:j})]}),(0,i.jsxs)(o.iin,{children:[(0,i.jsx)(o.$nd,{"data-testid":"cancel-btn",onClick:s,children:"Cancel"}),(0,i.jsx)(o.$nd,{"data-testid":"confirm-accept-invite-button",type:"submit",variant:"contained",disabled:!T.isValid,disableElevation:!0,children:f?(0,i.jsx)(o.PaH,{size:20}):"Accept invite"})]})]})})})};var C=n(94561),f=n.n(C);let A=e=>{let{space:t}=e,[n,r]=(0,a.useState)(!1);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.$nd,{"data-testid":"accept-invite-button",className:f().inviteButton,variant:"contained",onClick:e=>{e.stopPropagation(),e.preventDefault(),r(!0)},"aria-label":"Accept invitation",children:"Accept"}),n&&(0,i.jsx)(j,{space:t,onClose:()=>{r(!1)}})]})}},34039:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var i=n(6029),a=n(75026),s=n(88683),r=n(8027),c=n(4876),o=n(19563);let l=e=>{let{onLogin:t,onContinue:n,buttonText:l}=e,d=(0,s.Ay)(),u=(0,a.A)();return null!==d?(0,i.jsx)(r.$nd,{variant:"contained",sx:{padding:"8px 16px"},onClick:n,children:(0,i.jsxs)(r.azJ,{justifyContent:"space-between",display:"flex",flexDirection:"row",alignItems:"center",gap:1,children:[(0,i.jsxs)(r.azJ,{display:"flex",flexDirection:"column",alignItems:"flex-start",children:[(0,i.jsxs)(r.o5u,{variant:"subtitle2",fontWeight:700,children:[l||"Continue with"," ",d.label]}),d.address&&(0,i.jsx)(c.A,{address:d.address,shortAddress:!0,avatarSize:16,showName:!1,copyAddress:!1})]}),d.icon&&(0,i.jsx)(o.A,{icon:d.icon,provider:d.label,width:24,height:24})]})}):(0,i.jsx)(r.$nd,{onClick:()=>{u(),t()},sx:{minHeight:"42px"},variant:"contained",size:"small",disableElevation:!0,children:"Connect wallet"})}},43241:(e,t,n)=>{"use strict";n.d(t,{A:()=>w});var i=n(6029),a=n(55729),s=n(36353),r=n(28798),c=n(78726),o=n(50614),l=n(17358),d=n(1122),u=n(54932),h=n(85205),p=n(42205),v=n(57187);let x=e=>{let{space:t,onClose:n}=e,[s,x]=(0,a.useState)(""),[m]=(0,d.Q$)(),g=(0,v.jL)(),w=async()=>{x(""),(0,h.sx)({...u.D.DECLINE_INVITE_SUBMIT});try{let{error:e}=await m({spaceId:t.id});if(e)throw e;n(),g((0,p.Ds)({message:"Declined invite to ".concat(t.name),variant:"success",groupKey:"decline-invite-success"}))}catch(e){x("An unexpected error occurred while declining the invitation.")}};return(0,i.jsxs)(o.A,{open:!0,onClose:n,dialogTitle:"Decline invitation",hideChainIndicator:!0,children:[(0,i.jsxs)(c.Cff,{sx:{p:"24px !important"},children:[(0,i.jsxs)(r.o5u,{children:["Are you sure you want to decline the invitation to ",(0,i.jsx)("b",{children:t.name}),"?"]}),s&&(0,i.jsx)(l.A,{children:s})]}),(0,i.jsxs)(c.iin,{children:[(0,i.jsx)(c.$nd,{"data-testid":"cancel-btn",onClick:n,children:"Cancel"}),(0,i.jsx)(c.$nd,{"data-testid":"decline-btn",onClick:w,variant:"danger",disableElevation:!0,children:"Decline"})]})]})};var m=n(94561),g=n.n(m);let w=e=>{let{space:t}=e,[n,r]=(0,a.useState)(!1);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.$nd,{className:g().inviteButton,variant:"outlined",onClick:e=>{e.stopPropagation(),e.preventDefault(),r(!0)},"aria-label":"Decline invitation",children:"Decline"}),n&&(0,i.jsx)(x,{space:t,onClose:()=>{r(!1)}})]})}},54464:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(6029),a=n(34039),s=n(85205),r=n(54932),c=n(32294),o=n(19299),l=n(55729);let d=(e,t,n)=>{let i={domain:window.location.host,address:e,statement:"By signing, you are agreeing to store this data in the Safe infrastructure. This does not initiate a transaction or cost any fees.",uri:window.location.origin,version:"1",chainId:Number(t),nonce:n,issuedAt:new Date};return"".concat(i.domain," wants you to sign in with your Ethereum account:\n").concat(i.address,"\n\n").concat(i.statement,"\n\nURI: ").concat(i.uri,"\nVersion: ").concat(i.version,"\nChain ID: ").concat(i.chainId,"\nNonce: ").concat(i.nonce,"\nIssued At: ").concat(i.issuedAt.toISOString())};var u=n(26247),h=n(29390),p=n(88683),v=n(7639);let x=()=>{let e=(0,p.Ay)(),t=(0,c.$_)(),[n]=(0,o.QA)(),[i]=(0,o.Dr)();return{signIn:(0,l.useCallback)(async()=>{if(t&&e)try{let a;let{data:s}=await n();if(!s)return;let[r,c]=await Promise.all([t.getNetwork(),t.getSigner()]),o=d(c.address,r.chainId,s.nonce);return a=(0,v.jJ)(e)?await t.send("personal_sign",[o,c.address.toLowerCase()]):await c.signMessage(o),i({siweDto:{message:o,signature:a}})}catch(e){(0,u.vV)(h.A._640)}},[n,t,i,e])}};var m=n(57187),g=n(36733),w=n(42205);let y=()=>{let e=(0,m.jL)(),{signIn:t}=x(),n=async()=>{(0,s.sx)({...r.D.SIGN_IN_BUTTON,label:r.N.space_list_page});try{let n=await t();if(n&&n.error)throw n.error;n&&e((0,g.Ee)(Date.now()+864e5))}catch(t){(0,u.vV)(h.A._640),e((0,w.Ds)({message:"Something went wrong while trying to sign in",variant:"error",groupKey:"sign-in-failed"}))}};return(0,i.jsx)(a.A,{onLogin:()=>{(0,s.sx)({...s.kg.OPEN_ONBOARD,label:s.ui.space_list_page})},onContinue:n,buttonText:"Sign in with"})}},73349:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var i=n(55729),a=n(72830),s=n(89099),r=n(30697),c=n(12002);let o=()=>{let e=(0,s.useRouter)(),t=(0,r.eZ)(c.Gv.SPACES);(0,i.useEffect)(()=>{!1===t&&e.push({pathname:a.S.welcome.accounts})},[t,e])}},94561:e=>{e.exports={previewInviteContent:"styles_previewInviteContent__Uk6u_",spacesListInviteContent:"styles_spacesListInviteContent__s9HLx",inviteButtonContainer:"styles_inviteButtonContainer__gGPLm",inviteButton:"styles_inviteButton__eZfkT"}}}]);
//# sourceMappingURL=5902-eb1da68e5c154fee.js.map