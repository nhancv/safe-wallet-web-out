{"version":3,"file":"static/chunks/5902-eb1da68e5c154fee.js","mappings":"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","sources":["webpack://_N_E/./src/components/common/Mui/index.tsx","webpack://_N_E/./src/features/spaces/components/InviteBanner/AcceptInviteDialog.tsx","webpack://_N_E/./src/features/spaces/components/InviteBanner/AcceptButton.tsx","webpack://_N_E/./src/components/welcome/WelcomeLogin/WalletLogin.tsx","webpack://_N_E/./src/features/spaces/components/InviteBanner/DeclineInviteDialog.tsx","webpack://_N_E/./src/features/spaces/components/InviteBanner/DeclineButton.tsx","webpack://_N_E/./src/services/siwe/utils/index.ts","webpack://_N_E/./src/services/siwe/useSiwe.tsx","webpack://_N_E/./src/features/spaces/components/SignInButton/index.tsx","webpack://_N_E/./src/features/spaces/hooks/useFeatureFlagRedirect.ts","webpack://_N_E/./src/features/spaces/components/InviteBanner/styles.module.css"],"sourcesContent":["export * from \"/app/apps/web/src/components/common/Mui/index.tsx\"","import {\n  type GetSpaceResponse,\n  useMembersAcceptInviteV1Mutation,\n} from '@safe-global/store/gateway/AUTO_GENERATED/spaces'\nimport { useRouter } from 'next/router'\nimport { type ReactElement, useState } from 'react'\nimport { Alert, Box, Button, CircularProgress, DialogActions, DialogContent, Typography } from '@mui/material'\nimport { FormProvider, useForm } from 'react-hook-form'\nimport ModalDialog from '@/components/common/ModalDialog'\nimport NameInput from '@/components/common/NameInput'\nimport { AppRoutes } from '@/config/routes'\nimport { useAppDispatch, useAppSelector } from '@/store'\nimport { isAuthenticated } from '@/store/authSlice'\nimport { useUsersGetWithWalletsV1Query } from '@safe-global/store/gateway/AUTO_GENERATED/users'\nimport { SPACE_EVENTS } from '@/services/analytics/events/spaces'\nimport { trackEvent } from '@/services/analytics'\nimport { showNotification } from '@/store/notificationsSlice'\nimport ExternalLink from '@/components/common/ExternalLink'\n\nfunction AcceptInviteDialog({ space, onClose }: { space: GetSpaceResponse; onClose: () => void }): ReactElement {\n  const [error, setError] = useState<string>()\n  const [isSubmitting, setIsSubmitting] = useState(false)\n\n  const dispatch = useAppDispatch()\n  const router = useRouter()\n  const isUserSignedIn = useAppSelector(isAuthenticated)\n  const { data: currentUser } = useUsersGetWithWalletsV1Query(undefined, { skip: !isUserSignedIn })\n  const [acceptInvite] = useMembersAcceptInviteV1Mutation()\n  const memberName = space.members.find((member) => member.user.id === currentUser?.id)?.name\n\n  const methods = useForm<{ name: string }>({ mode: 'onChange', defaultValues: { name: memberName } })\n  const { handleSubmit, formState } = methods\n\n  const onSubmit = handleSubmit(async (data) => {\n    setError(undefined)\n    trackEvent({ ...SPACE_EVENTS.ACCEPT_INVITE_SUBMIT })\n\n    try {\n      setIsSubmitting(true)\n      const response = await acceptInvite({ spaceId: space.id, acceptInviteDto: { name: data.name } })\n\n      if (response.error) {\n        throw response.error\n      }\n\n      if (router.pathname === AppRoutes.welcome.spaces) {\n        router.push({ pathname: AppRoutes.spaces.index, query: { spaceId: space.id } })\n      }\n\n      onClose()\n\n      dispatch(\n        showNotification({\n          message: `Accepted invite to ${space.name}`,\n          variant: 'success',\n          groupKey: 'accept-invite-success',\n        }),\n      )\n    } catch (e) {\n      setError('Failed accepting the invite. Please try again.')\n    } finally {\n      setIsSubmitting(false)\n    }\n  })\n\n  return (\n    <ModalDialog open onClose={onClose} dialogTitle=\"Accept invite\" hideChainIndicator>\n      <FormProvider {...methods}>\n        <form onSubmit={onSubmit}>\n          <DialogContent sx={{ py: 2 }}>\n            <Box mb={2}>\n              <NameInput data-testid=\"invite-name-input\" label=\"Name\" autoFocus name=\"name\" required />\n            </Box>\n            <Typography variant=\"body2\" color=\"text.secondary\">\n              How is my data processed? Read our <ExternalLink href={AppRoutes.privacy}>privacy policy</ExternalLink>\n            </Typography>\n\n            {error && (\n              <Alert severity=\"error\" sx={{ mt: 2 }}>\n                {error}\n              </Alert>\n            )}\n          </DialogContent>\n\n          <DialogActions>\n            <Button data-testid=\"cancel-btn\" onClick={onClose}>\n              Cancel\n            </Button>\n            <Button\n              data-testid=\"confirm-accept-invite-button\"\n              type=\"submit\"\n              variant=\"contained\"\n              disabled={!formState.isValid}\n              disableElevation\n            >\n              {isSubmitting ? <CircularProgress size={20} /> : 'Accept invite'}\n            </Button>\n          </DialogActions>\n        </form>\n      </FormProvider>\n    </ModalDialog>\n  )\n}\n\nexport default AcceptInviteDialog\n","import { useState } from 'react'\nimport { Button } from '@mui/material'\nimport type { GetSpaceResponse } from '@safe-global/store/gateway/AUTO_GENERATED/spaces'\nimport AcceptInviteDialog from './AcceptInviteDialog'\nimport css from './styles.module.css'\n\ntype AcceptButtonProps = {\n  space: GetSpaceResponse\n}\n\nconst AcceptButton = ({ space }: AcceptButtonProps) => {\n  const [inviteOpen, setInviteOpen] = useState(false)\n\n  const handleAcceptInvite = (e: React.MouseEvent) => {\n    e.stopPropagation()\n    e.preventDefault()\n    setInviteOpen(true)\n  }\n\n  const handleCloseInviteDialog = () => {\n    setInviteOpen(false)\n  }\n\n  return (\n    <>\n      <Button\n        data-testid=\"accept-invite-button\"\n        className={css.inviteButton}\n        variant=\"contained\"\n        onClick={handleAcceptInvite}\n        aria-label=\"Accept invitation\"\n      >\n        Accept\n      </Button>\n      {inviteOpen && <AcceptInviteDialog space={space} onClose={handleCloseInviteDialog} />}\n    </>\n  )\n}\n\nexport default AcceptButton\n","import useConnectWallet from '@/components/common/ConnectWallet/useConnectWallet'\nimport useWallet from '@/hooks/wallets/useWallet'\nimport { Box, Button, Typography } from '@mui/material'\nimport EthHashInfo from '@/components/common/EthHashInfo'\nimport WalletIcon from '@/components/common/WalletIcon'\n\nconst WalletLogin = ({\n  onLogin,\n  onContinue,\n  buttonText,\n}: {\n  onLogin: () => void\n  onContinue: () => void\n  buttonText?: string\n}) => {\n  const wallet = useWallet()\n  const connectWallet = useConnectWallet()\n\n  const onConnectWallet = () => {\n    connectWallet()\n    onLogin()\n  }\n\n  if (wallet !== null) {\n    return (\n      <Button variant=\"contained\" sx={{ padding: '8px 16px' }} onClick={onContinue}>\n        <Box justifyContent=\"space-between\" display=\"flex\" flexDirection=\"row\" alignItems=\"center\" gap={1}>\n          <Box display=\"flex\" flexDirection=\"column\" alignItems=\"flex-start\">\n            <Typography variant=\"subtitle2\" fontWeight={700}>\n              {buttonText || 'Continue with'} {wallet.label}\n            </Typography>\n            {wallet.address && (\n              <EthHashInfo address={wallet.address} shortAddress avatarSize={16} showName={false} copyAddress={false} />\n            )}\n          </Box>\n          {wallet.icon && <WalletIcon icon={wallet.icon} provider={wallet.label} width={24} height={24} />}\n        </Box>\n      </Button>\n    )\n  }\n\n  return (\n    <Button onClick={onConnectWallet} sx={{ minHeight: '42px' }} variant=\"contained\" size=\"small\" disableElevation>\n      Connect wallet\n    </Button>\n  )\n}\n\nexport default WalletLogin\n","import { useState } from 'react'\nimport { Typography } from '@mui/material'\nimport { DialogContent, DialogActions, Button } from '@mui/material'\nimport ModalDialog from '@/components/common/ModalDialog'\nimport ErrorMessage from '@/components/tx/ErrorMessage'\nimport type { GetSpaceResponse } from '@safe-global/store/gateway/AUTO_GENERATED/spaces'\nimport { useMembersDeclineInviteV1Mutation } from '@safe-global/store/gateway/AUTO_GENERATED/spaces'\nimport { SPACE_EVENTS } from '@/services/analytics/events/spaces'\nimport { trackEvent } from '@/services/analytics'\nimport { showNotification } from '@/store/notificationsSlice'\nimport { useAppDispatch } from '@/store'\n\ntype DeclineInviteDialogProps = {\n  space: GetSpaceResponse\n  onClose: () => void\n}\n\nconst DeclineInviteDialog = ({ space, onClose }: DeclineInviteDialogProps) => {\n  const [errorMessage, setErrorMessage] = useState<string>('')\n  const [declineInvite] = useMembersDeclineInviteV1Mutation()\n  const dispatch = useAppDispatch()\n\n  const handleConfirm = async () => {\n    setErrorMessage('')\n    trackEvent({ ...SPACE_EVENTS.DECLINE_INVITE_SUBMIT })\n    try {\n      const { error } = await declineInvite({ spaceId: space.id })\n\n      if (error) {\n        throw error\n      }\n\n      onClose()\n\n      dispatch(\n        showNotification({\n          message: `Declined invite to ${space.name}`,\n          variant: 'success',\n          groupKey: 'decline-invite-success',\n        }),\n      )\n    } catch (e) {\n      setErrorMessage('An unexpected error occurred while declining the invitation.')\n    }\n  }\n\n  return (\n    <ModalDialog open onClose={onClose} dialogTitle=\"Decline invitation\" hideChainIndicator>\n      <DialogContent sx={{ p: '24px !important' }}>\n        <Typography>\n          Are you sure you want to decline the invitation to <b>{space.name}</b>?\n        </Typography>\n        {errorMessage && <ErrorMessage>{errorMessage}</ErrorMessage>}\n      </DialogContent>\n\n      <DialogActions>\n        <Button data-testid=\"cancel-btn\" onClick={onClose}>\n          Cancel\n        </Button>\n        <Button data-testid=\"decline-btn\" onClick={handleConfirm} variant=\"danger\" disableElevation>\n          Decline\n        </Button>\n      </DialogActions>\n    </ModalDialog>\n  )\n}\n\nexport default DeclineInviteDialog\n","import { useState } from 'react'\nimport { Button } from '@mui/material'\nimport type { GetSpaceResponse } from '@safe-global/store/gateway/AUTO_GENERATED/spaces'\nimport DeclineInviteDialog from './DeclineInviteDialog'\nimport css from './styles.module.css'\n\ntype DeclineButtonProps = {\n  space: GetSpaceResponse\n}\n\nconst DeclineButton = ({ space }: DeclineButtonProps) => {\n  const [declineOpen, setDeclineOpen] = useState(false)\n\n  const handleDeclineInvite = (e: React.MouseEvent) => {\n    e.stopPropagation()\n    e.preventDefault()\n    setDeclineOpen(true)\n  }\n\n  const handleCloseDeclineDialog = () => {\n    setDeclineOpen(false)\n  }\n\n  return (\n    <>\n      <Button\n        className={css.inviteButton}\n        variant=\"outlined\"\n        onClick={handleDeclineInvite}\n        aria-label=\"Decline invitation\"\n      >\n        Decline\n      </Button>\n      {declineOpen && <DeclineInviteDialog space={space} onClose={handleCloseDeclineDialog} />}\n    </>\n  )\n}\n\nexport default DeclineButton\n","const getSignableMessage = (address: string, chainId: bigint, nonce: string) => {\n  const message = {\n    domain: window.location.host,\n    address,\n    statement:\n      'By signing, you are agreeing to store this data in the Safe infrastructure. This does not initiate a transaction or cost any fees.',\n    uri: window.location.origin,\n    version: '1',\n    chainId: Number(chainId),\n    nonce,\n    issuedAt: new Date(),\n  }\n  const signableMessage = `${message.domain} wants you to sign in with your Ethereum account:\n${message.address}\n\n${message.statement}\n\nURI: ${message.uri}\nVersion: ${message.version}\nChain ID: ${message.chainId}\nNonce: ${message.nonce}\nIssued At: ${message.issuedAt.toISOString()}`\n\n  return signableMessage\n}\n\nexport { getSignableMessage }\n","import { useWeb3 } from '@/hooks/wallets/web3'\nimport { useAuthVerifyV1Mutation, useLazyAuthGetNonceV1Query } from '@safe-global/store/gateway/AUTO_GENERATED/auth'\nimport { useCallback } from 'react'\nimport { getSignableMessage } from './utils'\nimport { logError } from '../exceptions'\nimport ErrorCodes from '@safe-global/utils/services/exceptions/ErrorCodes'\nimport useWallet from '@/hooks/wallets/useWallet'\nimport { isPKWallet } from '@/utils/wallets'\n\nexport const useSiwe = () => {\n  const wallet = useWallet()\n  const provider = useWeb3()\n  const [fetchNonce] = useLazyAuthGetNonceV1Query()\n  const [verifyAuthMutation] = useAuthVerifyV1Mutation()\n\n  const signIn = useCallback(async () => {\n    if (!provider || !wallet) return\n\n    try {\n      const { data } = await fetchNonce()\n      if (!data) return\n\n      const [network, signer] = await Promise.all([provider.getNetwork(), provider.getSigner()])\n      const signableMessage = getSignableMessage(signer.address, network.chainId, data.nonce)\n\n      let signature\n      // Using the signer.signMessage hexlifies the message which doesn't work with the personal_sign of the PK module\n      if (isPKWallet(wallet)) {\n        signature = await provider.send('personal_sign', [signableMessage, signer.address.toLowerCase()])\n      } else {\n        signature = await signer.signMessage(signableMessage)\n      }\n\n      return verifyAuthMutation({ siweDto: { message: signableMessage, signature } })\n    } catch (error) {\n      logError(ErrorCodes._640)\n    }\n  }, [fetchNonce, provider, verifyAuthMutation, wallet])\n\n  return {\n    signIn,\n  }\n}\n","import WalletLogin from '@/components/welcome/WelcomeLogin/WalletLogin'\nimport { OVERVIEW_EVENTS, OVERVIEW_LABELS, trackEvent } from '@/services/analytics'\nimport { SPACE_EVENTS, SPACE_LABELS } from '@/services/analytics/events/spaces'\nimport { useSiwe } from '@/services/siwe/useSiwe'\nimport { useAppDispatch } from '@/store'\nimport { setAuthenticated } from '@/store/authSlice'\nimport { showNotification } from '@/store/notificationsSlice'\nimport { logError } from '@/services/exceptions'\nimport ErrorCodes from '@safe-global/utils/services/exceptions/ErrorCodes'\n\nconst SignInButton = () => {\n  const dispatch = useAppDispatch()\n  const { signIn } = useSiwe()\n\n  const handleLogin = () => {\n    trackEvent({ ...OVERVIEW_EVENTS.OPEN_ONBOARD, label: OVERVIEW_LABELS.space_list_page })\n  }\n\n  const handleSignIn = async () => {\n    trackEvent({ ...SPACE_EVENTS.SIGN_IN_BUTTON, label: SPACE_LABELS.space_list_page })\n\n    try {\n      const result = await signIn()\n\n      if (result && result.error) {\n        throw result.error\n      }\n\n      if (result) {\n        const oneDayInMs = 24 * 60 * 60 * 1000\n        dispatch(setAuthenticated(Date.now() + oneDayInMs))\n      }\n    } catch (error) {\n      logError(ErrorCodes._640)\n\n      dispatch(\n        showNotification({\n          message: `Something went wrong while trying to sign in`,\n          variant: 'error',\n          groupKey: 'sign-in-failed',\n        }),\n      )\n    }\n  }\n\n  return <WalletLogin onLogin={handleLogin} onContinue={handleSignIn} buttonText=\"Sign in with\" />\n}\n\nexport default SignInButton\n","import { useEffect } from 'react'\nimport { AppRoutes } from '@/config/routes'\nimport { useRouter } from 'next/router'\nimport { useHasFeature } from '@/hooks/useChains'\nimport { FEATURES } from '@safe-global/utils/utils/chains'\n\nconst useFeatureFlagRedirect = () => {\n  const router = useRouter()\n  const isSpacesFeatureEnabled = useHasFeature(FEATURES.SPACES)\n\n  useEffect(() => {\n    if (isSpacesFeatureEnabled === false) {\n      router.push({ pathname: AppRoutes.welcome.accounts })\n    }\n  }, [isSpacesFeatureEnabled, router])\n}\n\nexport default useFeatureFlagRedirect\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"previewInviteContent\":\"styles_previewInviteContent__Uk6u_\",\"spacesListInviteContent\":\"styles_spacesListInviteContent__s9HLx\",\"inviteButtonContainer\":\"styles_inviteButtonContainer__gGPLm\",\"inviteButton\":\"styles_inviteButton__eZfkT\"};"],"names":["space","AcceptInviteDialog","onClose","error","setError","useState","isSubmitting","setIsSubmitting","dispatch","useAppDispatch","router","useRouter","isUserSignedIn","useAppSelector","isAuthenticated","data","currentUser","useUsersGetWithWalletsV1Query","undefined","skip","acceptInvite","useMembersAcceptInviteV1Mutation","memberName","members","find","member","user","id","name","methods","useForm","mode","defaultValues","handleSubmit","formState","onSubmit","trackEvent","SPACE_EVENTS","ACCEPT_INVITE_SUBMIT","response","spaceId","acceptInviteDto","pathname","AppRoutes","welcome","spaces","push","index","query","showNotification","message","variant","groupKey","e","ModalDialog","open","dialogTitle","hideChainIndicator","FormProvider","form","DialogContent","sx","py","Box","mb","NameInput","data-testid","label","autoFocus","required","Typography","color","ExternalLink","href","privacy","Alert","severity","mt","DialogActions","Button","onClick","type","disabled","isValid","disableElevation","CircularProgress","size","inviteOpen","setInviteOpen","AcceptButton","className","css","handleAcceptInvite","stopPropagation","preventDefault","aria-label","handleCloseInviteDialog","onLogin","WalletLogin","onContinue","buttonText","wallet","useWallet","connectWallet","useConnectWallet","padding","justifyContent","display","flexDirection","alignItems","gap","fontWeight","address","EthHashInfo","shortAddress","avatarSize","showName","copyAddress","icon","WalletIcon","provider","width","height","onConnectWallet","minHeight","errorMessage","setErrorMessage","DeclineInviteDialog","declineInvite","useMembersDeclineInviteV1Mutation","handleConfirm","DECLINE_INVITE_SUBMIT","p","b","ErrorMessage","declineOpen","setDeclineOpen","DeclineButton","handleDeclineInvite","handleCloseDeclineDialog","getSignableMessage","chainId","nonce","domain","window","location","host","statement","uri","origin","version","Number","issuedAt","Date","signableMessage","toISOString","useSiwe","useWeb3","fetchNonce","useLazyAuthGetNonceV1Query","verifyAuthMutation","useAuthVerifyV1Mutation","signIn","useCallback","signature","network","signer","Promise","all","getNetwork","getSigner","isPKWallet","send","toLowerCase","signMessage","siweDto","logError","ErrorCodes","_640","SignInButton","handleSignIn","SIGN_IN_BUTTON","SPACE_LABELS","space_list_page","result","setAuthenticated","now","oneDayInMs","handleLogin","OVERVIEW_EVENTS","OPEN_ONBOARD","OVERVIEW_LABELS","useFeatureFlagRedirect","isSpacesFeatureEnabled","useHasFeature","FEATURES","SPACES","useEffect","accounts"],"sourceRoot":"","ignoreList":[]}