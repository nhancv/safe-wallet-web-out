{"version":3,"file":"static/chunks/6055.0e8ad4f2c62b1611.js","mappings":"uPAiBA,IAAMA,EAAWC,QAETA,EACGA,EACDA,EAFFA,EACGA,EACDA,EAHR,MAAO,CACLC,GAAID,QAAAA,EAAAA,QAAAA,EAAAA,EAAUE,MAAAA,GAAVF,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAkBC,EAAE,CAACE,KAAK,GAA1BH,KAAAA,IAAAA,EAAAA,EAA8B,GAClCG,MAAOH,QAAAA,EAAAA,QAAAA,EAAAA,EAAUE,MAAAA,GAAVF,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAkBG,KAAAA,GAAlBH,KAAAA,IAAAA,EAAAA,EAA2B,IAClCI,KAAMJ,QAAAA,EAAAA,QAAAA,EAAAA,EAAUE,MAAAA,GAAVF,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAkBK,OAAAA,GAAlBL,KAAAA,IAAAA,EAAAA,EAA6B,KACnCM,UAAWC,EAAAA,aAAaA,CAACC,IAAI,CAEjC,EAEMC,EAAe,IACnB,GAAM,WAAEC,CAAS,gBAAEC,CAAc,CAAE,CAAGC,CAAAA,EAAAA,EAAAA,UAAAA,CAAUA,CAACC,EAAAA,CAAaA,EACxDC,EAAWC,CAAAA,EAAAA,EAAAA,CAAAA,CAAaA,GAO9B,MALAC,CAAAA,EAAAA,EAAAA,SAAAA,CAASA,CAAC,KACR,IAAMC,EAAQH,EAASI,GAAG,CAAC,GAAQnB,EAAQoB,EAAGnB,SAAS,GACvDoB,CAAAA,EAAAA,EAAAA,EAAAA,CAAyBA,CAACH,GAAOI,IAAI,CAACX,GAAWY,KAAK,CAACX,EACzD,EAAG,CAACG,EAAUJ,EAAWC,EAAe,EAEjC,UAACY,EAAAA,CAAiBA,CAAAA,CAAE,GAAGC,CAAK,CAAEC,MAAM,iBAC7C,EAiBA,EAfyB,OAAC,UAAEC,CAAQ,CAAqB,GACjD,MAcOC,EAdLC,CAAM,CAAE,CAAGb,CAAAA,EAAAA,EAAAA,CAAAA,CAAaA,GAEhC,CAY6BY,EAAA,GAX3B,UAACE,EAAAA,CAAMA,CAAAA,CACLC,KAAMC,EAAAA,CAASA,CACfC,SAAU,uBAA4CC,MAAAA,CAArBL,EAAO,gBAAkC,OAApBK,CAAAA,EAAAA,EAAAA,EAAAA,CAAWA,CAACL,IAClEM,cAAeC,EAAAA,EAAUA,CAACC,aAAa,CACvCC,2BAA4B5B,EAC5BiB,SAAUA,EACVY,OAAO,KAGb","sources":["webpack://_N_E/./src/components/tx-flow/flows/ConfirmBatch/index.tsx"],"sourcesContent":["import { useContext, useEffect } from 'react'\nimport { type TransactionDetails } from '@safe-global/safe-gateway-typescript-sdk'\nimport { createMultiSendCallOnlyTx } from '@/services/tx/tx-sender'\nimport { SafeTxContext } from '../../SafeTxProvider'\nimport type { MetaTransactionData } from '@safe-global/safe-core-sdk-types'\nimport { OperationType } from '@safe-global/safe-core-sdk-types'\nimport BatchIcon from '@/public/images/common/batch.svg'\nimport { useDraftBatch } from '@/hooks/useDraftBatch'\nimport { maybePlural } from '@safe-global/utils/utils/formatters'\nimport ReviewTransaction, { type ReviewTransactionProps } from '@/components/tx/ReviewTransactionV2'\nimport { TxFlowType } from '@/services/analytics'\nimport { TxFlow } from '../../TxFlow'\n\ntype ConfirmBatchProps = {\n  onSubmit: () => void\n}\n\nconst getData = (txDetails: TransactionDetails): MetaTransactionData => {\n  return {\n    to: txDetails.txData?.to.value ?? '',\n    value: txDetails.txData?.value ?? '0',\n    data: txDetails.txData?.hexData ?? '0x',\n    operation: OperationType.Call, // only calls can be batched\n  }\n}\n\nconst ConfirmBatch = (props: ReviewTransactionProps) => {\n  const { setSafeTx, setSafeTxError } = useContext(SafeTxContext)\n  const batchTxs = useDraftBatch()\n\n  useEffect(() => {\n    const calls = batchTxs.map((tx) => getData(tx.txDetails))\n    createMultiSendCallOnlyTx(calls).then(setSafeTx).catch(setSafeTxError)\n  }, [batchTxs, setSafeTx, setSafeTxError])\n\n  return <ReviewTransaction {...props} title=\"Confirm batch\" />\n}\n\nconst ConfirmBatchFlow = ({ onSubmit }: ConfirmBatchProps) => {\n  const { length } = useDraftBatch()\n\n  return (\n    <TxFlow\n      icon={BatchIcon}\n      subtitle={`This batch contains ${length} transaction${maybePlural(length)}`}\n      eventCategory={TxFlowType.CONFIRM_BATCH}\n      ReviewTransactionComponent={ConfirmBatch}\n      onSubmit={onSubmit}\n      isBatch\n    />\n  )\n}\n\nexport default ConfirmBatchFlow\n"],"names":["getData","txDetails","to","txData","value","data","hexData","operation","OperationType","Call","ConfirmBatch","setSafeTx","setSafeTxError","useContext","SafeTxContext","batchTxs","useDraftBatch","useEffect","calls","map","tx","createMultiSendCallOnlyTx","then","catch","ReviewTransaction","props","title","onSubmit","ConfirmBatchFlow","length","TxFlow","icon","BatchIcon","subtitle","maybePlural","eventCategory","TxFlowType","CONFIRM_BATCH","ReviewTransactionComponent","isBatch"],"sourceRoot":"","ignoreList":[]}