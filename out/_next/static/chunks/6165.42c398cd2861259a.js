"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6165],{5813:(e,n,r)=>{r.d(n,{a:()=>s});let s={THRESHOLD:"The threshold of a Safe Account specifies how many signers need to confirm a Safe Account transaction before it can be executed.",REVIEW_WINDOW:"A period that begins after a recovery is submitted on-chain, during which the Safe Account signers can review the proposal and cancel it before it is executable.",PROPOSAL_EXPIRY:"A period after which the recovery proposal will expire and can no longer be executed."}},58546:(e,n,r)=>{r.r(n),r.d(n,{default:()=>w});var s=r(6029),t=r(65934),d=r(96876),a=r(28381),i=r(28729),o=r(55729),l=r(85205),c=r(60082),h=r(96758),x=r(30264);let u=()=>{let{onNext:e,data:n}=(0,o.useContext)(x.o3);return(0,s.jsx)(t.Z,{onSubmit:e,params:n,mode:t._.ADD})},m=e=>{let{data:n}=(0,o.useContext)(x.o3);return(0,s.jsx)(d._,{params:n,...e})},w=e=>{let{address:n}=e,{safe:{threshold:r},safeLoaded:t}=(0,i.A)();return t?(0,s.jsx)(c.J,{initialData:{newOwner:{address:n||"",name:""},threshold:r},eventCategory:l.TL.ADD_OWNER,icon:a.A,subtitle:"Add signer",ReviewTransactionComponent:m,children:(0,s.jsx)(h.L,{title:"New transaction",children:(0,s.jsx)(u,{})})}):null}},65934:(e,n,r)=>{r.d(n,{Z:()=>b,_:()=>A});var s=r(6029),t=r(78726),d=r(88992),a=r(57506),i=r(30992),o=r(77027),l=r(28729),c=r(99363),h=r(80779),x=r(21128),u=r(98079),m=r.n(u),w=r(5813),j=r(4876),p=r(12426),A=function(e){return e[e.REPLACE=0]="REPLACE",e[e.ADD=1]="ADD",e}({});let b=e=>{let{params:n,onSubmit:r,mode:u}=e,{safe:A,safeAddress:b}=(0,l.A)(),f=(0,d.mN)({defaultValues:n,mode:"onChange"}),{handleSubmit:v,formState:O,watch:g,control:y}=f,E=0===Object.keys(O.errors).length,S=(0,c.UI)(A.owners.map(e=>e.value)),D=(0,c.SM)(b),N=g("newOwner.address"),{name:_,ens:C,resolving:R}=(0,o.M)(N),L=_||C,P=v(e=>{r({...e,newOwner:{...e.newOwner,name:e.newOwner.name||L},threshold:e.threshold})}),T=A.owners.length+ +!n.removedOwner;return(0,s.jsx)(h.A,{children:(0,s.jsx)(d.Op,{...f,children:(0,s.jsxs)("form",{onSubmit:P,className:m().form,children:[n.removedOwner&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.o5u,{variant:"body2",sx:{mb:1},children:n.removedOwner&&"Review the signer you want to replace in the active Safe Account, then specify the new signer you want to replace it with:"}),(0,s.jsxs)(t.azJ,{sx:{my:3},children:[(0,s.jsx)(t.o5u,{variant:"body2",sx:{color:"text.secondary",mb:1},children:"Current signer"}),(0,s.jsx)(j.A,{address:n.removedOwner.address,showCopyButton:!0,shortAddress:!1,hasExplorer:!0})]})]}),(0,s.jsx)(t.MJN,{fullWidth:!0,children:(0,s.jsx)(i.A,{label:"New signer",name:"newOwner.name",placeholder:L||"Signer name",InputLabelProps:{shrink:!0},InputProps:{endAdornment:R&&(0,s.jsx)(t.jC1,{position:"end",children:(0,s.jsx)(t.PaH,{size:20})})}})}),(0,s.jsx)(t.MJN,{fullWidth:!0,children:(0,s.jsx)(a.A,{name:"newOwner.address",label:"Signer address or ENS",validate:e=>S(e)||D(e),required:!0})}),(0,s.jsx)(t.cGx,{className:m().nestedDivider}),1===u&&(0,s.jsxs)(t.MJN,{fullWidth:!0,children:[(0,s.jsxs)(t.o5u,{variant:"h6",sx:{fontWeight:700,mt:3},children:["Threshold",(0,s.jsx)(t.m_M,{title:w.a.THRESHOLD,arrow:!0,placement:"top",children:(0,s.jsx)("span",{children:(0,s.jsx)(t.Ahz,{component:x.A,inheritViewBox:!0,color:"border",fontSize:"small",sx:{verticalAlign:"middle",ml:.5}})})})]}),(0,s.jsx)(t.o5u,{variant:"body2",sx:{mb:1},children:"Any transaction requires the confirmation of:"}),(0,s.jsxs)(t.xA9,{container:!0,direction:"row",sx:{alignItems:"center",gap:2,pt:1},children:[(0,s.jsx)(t.xA9,{item:!0,children:(0,s.jsx)(d.xI,{control:y,name:"threshold",render:e=>{let{field:r}=e;return(0,s.jsxs)(t.A_L,{"data-testid":"owner-number-dropdown",select:!0,...r,children:[A.owners.map((e,n)=>(0,s.jsx)(t.Drp,{value:n+1,children:n+1},n+1)),!n.removedOwner&&(0,s.jsx)(t.Drp,{value:T,children:T},T)]})}})}),(0,s.jsx)(t.xA9,{item:!0,children:(0,s.jsxs)(t.o5u,{children:["out of ",T," signer",(0,p.Tz)(T)]})})]})]}),(0,s.jsx)(t.cGx,{className:m().nestedDivider}),(0,s.jsx)(t.waF,{children:(0,s.jsx)(t.$nd,{"data-testid":"add-owner-next-btn",variant:"contained",type:"submit",disabled:!E||R,children:"Next"})})]})})})}},96876:(e,n,r)=>{r.d(n,{_:()=>m});var s=r(6029),t=r(30697),d=r(55729),a=r(28729),i=r(85205),o=r(96524),l=r(57187),c=r(62994),h=r(66072),x=r(5718),u=r(99322);let m=e=>{let{params:n,onSubmit:r,children:m}=e,w=(0,l.jL)(),{setSafeTx:j,setSafeTxError:p}=(0,d.useContext)(h.H),{safe:A}=(0,a.A)(),{chainId:b}=A,f=(0,t._J)(),{newOwner:v,removedOwner:O,threshold:g}=n;(0,d.useEffect)(()=>{f&&(O?(0,o.rj)(f,A.deployed,{newOwnerAddress:v.address,oldOwnerAddress:O.address}):(0,o.xH)(f,A.deployed,{ownerAddress:v.address,threshold:g})).then(j).catch(p)},[O,v,g,j,p,f,A.deployed]);let y=()=>{void 0!==v.name&&w((0,c.ds)({chainIds:[b],address:v.address,name:v.name})),(0,i.sx)({...i.kd.SETUP.THRESHOLD,label:A.threshold}),(0,i.sx)({...i.kd.SETUP.OWNERS,label:A.owners.length})};return(0,s.jsx)(x.t.Provider,{value:n,children:(0,s.jsx)(u.A,{onSubmit:()=>{y(),null==r||r()},children:m})})}}}]);
//# sourceMappingURL=6165.42c398cd2861259a.js.map