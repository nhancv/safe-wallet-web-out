{"version":3,"file":"static/chunks/9118.3434075fa210a62a.js","mappings":"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","sources":["webpack://_N_E/./src/features/walletconnect/components/WcHints/styles.module.css","webpack://_N_E/./src/components/common/Mui/index.tsx","webpack://_N_E/ignored|/app/node_modules/@stablelib/random/lib/source|crypto","webpack://_N_E/./src/features/walletconnect/components/WcErrorMessage/styles.module.css","webpack://_N_E/./src/features/walletconnect/components/WcConnectionForm/styles.module.css","webpack://_N_E/./src/features/walletconnect/components/WcProposalForm/styles.module.css","webpack://_N_E/./src/features/walletconnect/hooks/useWalletConnectSearchParamUri.ts","webpack://_N_E/./src/features/walletconnect/WalletConnectContext.tsx","webpack://_N_E/./src/features/walletconnect/hooks/useWalletConnectSessions.ts","webpack://_N_E/./src/features/walletconnect/hooks/useWcUri.ts","webpack://_N_E/./src/components/common/Popup/index.tsx","webpack://_N_E/./public/images/common/walletconnect.svg","webpack://_N_E/./src/services/analytics/events/walletconnect.ts","webpack://_N_E/./src/features/walletconnect/components/WcHeaderWidget/WcIcon.tsx","webpack://_N_E/./src/features/walletconnect/components/WcHeaderWidget/index.tsx","webpack://_N_E/./src/services/safe-wallet-provider/notifications.ts","webpack://_N_E/./src/services/safe-wallet-provider/useSafeWalletProvider.tsx","webpack://_N_E/./src/features/walletconnect/services/tracking.ts","webpack://_N_E/./src/features/walletconnect/services/WalletConnectWallet.ts","webpack://_N_E/./src/features/walletconnect/components/WalletConnectProvider/index.tsx","webpack://_N_E/./public/images/common/question.svg","webpack://_N_E/./src/features/walletconnect/components/WcHints/index.tsx","webpack://_N_E/./src/features/walletconnect/components/WcSessionList/WcNoSessions.tsx","webpack://_N_E/./src/features/walletconnect/components/WcSessionList/index.tsx","webpack://_N_E/./src/utils/clipboard.ts","webpack://_N_E/./src/features/walletconnect/components/WcInput/index.tsx","webpack://_N_E/./public/images/notifications/alert.svg","webpack://_N_E/./src/features/walletconnect/components/WcLogoHeader/index.tsx","webpack://_N_E/./src/features/walletconnect/components/WcConnectionForm/index.tsx","webpack://_N_E/./src/features/walletconnect/components/WcErrorMessage/index.tsx","webpack://_N_E/./src/features/walletconnect/components/WcProposalForm/useCompatibilityWarning.ts","webpack://_N_E/./src/features/walletconnect/components/WcProposalForm/CompatibilityWarning.tsx","webpack://_N_E/./src/features/walletconnect/components/WcProposalForm/ProposalVerification.tsx","webpack://_N_E/./src/features/walletconnect/components/WcProposalForm/index.tsx","webpack://_N_E/./src/features/walletconnect/components/WcSessionManager/index.tsx","webpack://_N_E/./src/features/walletconnect/components/WalletConnectUi/index.tsx","webpack://_N_E/./src/features/walletconnect/components/WcLogoHeader/styles.module.css","webpack://_N_E/./src/features/walletconnect/components/WcSessionList/styles.module.css"],"sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"styles_title__PUeBZ\",\"questionIcon\":\"styles_questionIcon__hEyNZ\",\"list\":\"styles_list__QsQcd\",\"listItemAvatar\":\"styles_listItemAvatar__hdusA\",\"avatar\":\"styles_avatar__TvjTy\"};","export * from \"/app/apps/web/src/components/common/Mui/index.tsx\"","/* (ignored) */","// extracted by mini-css-extract-plugin\nmodule.exports = {\"errorContainer\":\"styles_errorContainer__qipg6\",\"button\":\"styles_button__1sIx_\",\"details\":\"styles_details__D9W_1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__2WLr1\",\"infoIcon\":\"styles_infoIcon__c817E\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__elWzL\",\"icon\":\"styles_icon__nXKf8\",\"chain\":\"styles_chain__QqptS\",\"chainContainer\":\"styles_chainContainer__breZI\",\"origin\":\"styles_origin__XQZ_g\",\"info\":\"styles_info__WV3Yo\",\"alert\":\"styles_alert__C8DAT\",\"checkbox\":\"styles_checkbox__UrkrO\",\"divider\":\"styles_divider__MgotV\",\"buttons\":\"styles_buttons__S2iLi\",\"button\":\"styles_button__xrhN7\"};","import { useRouter } from 'next/router'\nimport { useCallback } from 'react'\n\nexport const WC_URI_SEARCH_PARAM = 'wc'\n\nexport function useWalletConnectSearchParamUri(): [string | null, (wcUri: string | null) => void] {\n  const router = useRouter()\n  const wcUri = (router.query[WC_URI_SEARCH_PARAM] || '').toString() || null\n\n  const setWcUri = useCallback(\n    (wcUri: string | null) => {\n      const newQuery = { ...router.query }\n\n      if (!wcUri) {\n        delete newQuery[WC_URI_SEARCH_PARAM]\n      } else {\n        newQuery[WC_URI_SEARCH_PARAM] = wcUri\n      }\n\n      router.replace({\n        pathname: router.pathname,\n        query: newQuery,\n      })\n    },\n    [router],\n  )\n\n  return [wcUri, setWcUri]\n}\n","import type { WCLoadingState } from '@/features/walletconnect/components/WalletConnectProvider'\nimport { createContext, type Dispatch, type SetStateAction } from 'react'\nimport type WalletConnectWallet from '@/features/walletconnect/services/WalletConnectWallet'\n\ntype WalletConnectContextType = {\n  walletConnect: WalletConnectWallet | null\n  error: Error | null\n  setError: Dispatch<SetStateAction<Error | null>>\n  open: boolean\n  setOpen: (open: boolean) => void\n  isLoading: WCLoadingState | undefined\n  setIsLoading: Dispatch<SetStateAction<WCLoadingState | undefined>>\n}\n\nexport const WalletConnectContext = createContext<WalletConnectContextType>({\n  walletConnect: null,\n  error: null,\n  setError: () => {},\n  open: false,\n  setOpen: () => {},\n  isLoading: undefined,\n  setIsLoading: () => {},\n})\n","import { useContext, useEffect, useCallback, useState } from 'react'\nimport type { SessionTypes } from '@walletconnect/types'\nimport { WalletConnectContext } from '@/features/walletconnect/WalletConnectContext'\n\nfunction useWalletConnectSessions(): SessionTypes.Struct[] {\n  const { walletConnect } = useContext(WalletConnectContext)\n  const [sessions, setSessions] = useState<SessionTypes.Struct[]>([])\n\n  const updateSessions = useCallback(() => {\n    if (!walletConnect) return\n    setSessions(walletConnect.getActiveSessions())\n  }, [walletConnect])\n\n  // Initial sessions\n  useEffect(updateSessions, [updateSessions])\n\n  // On session add\n  useEffect(() => {\n    if (!walletConnect) return\n    return walletConnect.onSessionAdd(updateSessions)\n  }, [walletConnect, updateSessions])\n\n  // On session delete\n  useEffect(() => {\n    if (!walletConnect) return\n    return walletConnect.onSessionDelete(updateSessions)\n  }, [walletConnect, updateSessions])\n\n  return sessions\n}\n\nexport default useWalletConnectSessions\n","import { useCallback } from 'react'\nimport { useWalletConnectSearchParamUri } from '@/features/walletconnect/hooks/useWalletConnectSearchParamUri'\n\nconst useWcUri = (): [string, () => void] => {\n  const [searchParamWcUri, setSearchParamWcUri] = useWalletConnectSearchParamUri()\n  const uri = searchParamWcUri || ''\n\n  const clearUri = useCallback(() => {\n    setSearchParamWcUri(null)\n  }, [setSearchParamWcUri])\n\n  return [uri, clearUri]\n}\n\nexport default useWcUri\n","import { Paper, Popover } from '@mui/material'\nimport type { PopoverProps } from '@mui/material'\nimport type { ReactElement } from 'react'\n\nconst Popup = ({ children, ...props }: PopoverProps): ReactElement => {\n  return (\n    <Popover\n      anchorOrigin={{\n        vertical: 'bottom',\n        horizontal: 'center',\n      }}\n      transformOrigin={{\n        vertical: 'top',\n        horizontal: 'center',\n      }}\n      sx={{\n        '& > .MuiPaper-root': {\n          top: 'var(--header-height) !important',\n          overflowY: 'auto',\n        },\n      }}\n      {...props}\n    >\n      <Paper sx={{ p: 4, width: '454px' }}>{children}</Paper>\n    </Popover>\n  )\n}\n\nexport default Popup\n","var _path;\nvar _excluded = [\"title\", \"titleId\"];\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nfunction _objectWithoutProperties(e, t) { if (null == e) return {}; var o, r, i = _objectWithoutPropertiesLoose(e, t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); for (r = 0; r < n.length; r++) o = n[r], -1 === t.indexOf(o) && {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]); } return i; }\nfunction _objectWithoutPropertiesLoose(r, e) { if (null == r) return {}; var t = {}; for (var n in r) if ({}.hasOwnProperty.call(r, n)) { if (-1 !== e.indexOf(n)) continue; t[n] = r[n]; } return t; }\nimport * as React from \"react\";\nvar SvgWalletconnect = function SvgWalletconnect(_ref) {\n  var title = _ref.title,\n    titleId = _ref.titleId,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"#3a99fb\",\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M6.09442 8.34459C9.35599 5.21847 14.644 5.21847 17.9056 8.34459L18.2981 8.72082C18.4612 8.87713 18.4612 9.13055 18.2981 9.28686L16.9554 10.5739C16.8738 10.652 16.7416 10.652 16.6601 10.5739L16.1199 10.0561C13.8445 7.87528 10.1555 7.87528 7.88012 10.0561L7.30164 10.6106C7.2201 10.6887 7.0879 10.6887 7.00636 10.6106L5.66357 9.32358C5.50049 9.16727 5.50049 8.91385 5.66357 8.75754L6.09442 8.34459ZM20.6826 11.0063L21.8777 12.1517C22.0408 12.308 22.0408 12.5615 21.8777 12.7178L16.489 17.8828C16.3259 18.0391 16.0615 18.0391 15.8984 17.8828C15.8984 17.8828 15.8984 17.8828 15.8984 17.8828L12.0739 14.217C12.0331 14.1779 11.967 14.1779 11.9262 14.217C11.9262 14.217 11.9262 14.217 11.9262 14.217L8.10172 17.8828C7.93865 18.0391 7.67424 18.0391 7.51116 17.8828C7.51116 17.8828 7.51117 17.8828 7.51116 17.8828L2.12231 12.7177C1.95923 12.5614 1.95923 12.308 2.12231 12.1517L3.31739 11.0062C3.48047 10.8499 3.74487 10.8499 3.90795 11.0062L7.73258 14.672C7.77335 14.7111 7.83945 14.7111 7.88022 14.672C7.88022 14.672 7.88022 14.672 7.88022 14.672L11.7047 11.0062C11.8677 10.8499 12.1321 10.8499 12.2952 11.0062C12.2952 11.0062 12.2952 11.0062 12.2952 11.0062L16.1198 14.672C16.1606 14.7111 16.2267 14.7111 16.2675 14.672L20.0921 11.0063C20.2551 10.85 20.5195 10.85 20.6826 11.0063Z\"\n  })));\n};\nexport default SvgWalletconnect;","import { EventType } from '@/services/analytics/types'\n\nconst WALLETCONNECT_CATEGORY = 'walletconnect'\n\nexport const WALLETCONNECT_EVENTS = {\n  CONNECTED: {\n    action: 'WC connected',\n    category: WALLETCONNECT_CATEGORY,\n    event: EventType.META,\n  },\n  POPUP_OPENED: {\n    action: 'WC popup',\n    category: WALLETCONNECT_CATEGORY,\n  },\n  DISCONNECT_CLICK: {\n    action: 'WC disconnect click',\n    category: WALLETCONNECT_CATEGORY,\n  },\n  APPROVE_CLICK: {\n    action: 'WC approve click',\n    category: WALLETCONNECT_CATEGORY,\n  },\n  REJECT_CLICK: {\n    action: 'WC reject click',\n    category: WALLETCONNECT_CATEGORY,\n  },\n  PASTE_CLICK: {\n    action: 'WC paste click',\n    category: WALLETCONNECT_CATEGORY,\n  },\n  HINTS_SHOW: {\n    action: 'WC show hints',\n    category: WALLETCONNECT_CATEGORY,\n  },\n  HINTS_HIDE: {\n    action: 'WC hide hints',\n    category: WALLETCONNECT_CATEGORY,\n  },\n  HINTS_EXPAND: {\n    action: 'WC expand hints',\n    category: WALLETCONNECT_CATEGORY,\n  },\n  SHOW_RISK: {\n    action: 'WC show risk',\n    category: WALLETCONNECT_CATEGORY,\n    event: EventType.META,\n  },\n  ACCEPT_RISK: {\n    action: 'WC accept risk',\n    category: WALLETCONNECT_CATEGORY,\n  },\n  UNSUPPORTED_CHAIN: {\n    action: 'WC unsupported chain',\n    category: WALLETCONNECT_CATEGORY,\n    event: EventType.META,\n  },\n  SHOW_ERROR: {\n    action: 'WC show error',\n    category: WALLETCONNECT_CATEGORY,\n    event: EventType.META,\n  },\n  REQUEST: {\n    action: 'WC request',\n    category: WALLETCONNECT_CATEGORY,\n    event: EventType.META,\n  },\n}\n","import { type ReactElement } from 'react'\nimport { Badge, ButtonBase, SvgIcon } from '@mui/material'\nimport WalletConnectIcon from '@/public/images/common/walletconnect.svg'\nimport SafeAppIconCard from '@/components/safe-apps/SafeAppIconCard'\nimport { WALLETCONNECT_EVENTS } from '@/services/analytics/events/walletconnect'\nimport Track from '@/components/common/Track'\n\ntype WcIconProps = {\n  onClick: () => void\n  sessionCount: number\n  isError: boolean\n  sessionIcon?: string\n}\n\nconst WcIcon = ({ sessionCount, sessionIcon, isError, onClick }: WcIconProps): ReactElement => {\n  const showIcon = sessionCount === 1 && !!sessionIcon\n\n  return (\n    <Track {...WALLETCONNECT_EVENTS.POPUP_OPENED}>\n      <ButtonBase onClick={onClick} title=\"WalletConnect\" sx={{ p: 2 }}>\n        <Badge\n          variant={isError ? 'dot' : 'standard'}\n          badgeContent={\n            showIcon ? (\n              <SafeAppIconCard alt=\"Connected dApp icon\" src={sessionIcon} width={18} height={18} />\n            ) : (\n              sessionCount\n            )\n          }\n          color={isError ? 'error' : showIcon ? undefined : 'secondary'}\n          anchorOrigin={{\n            vertical: 'bottom',\n            horizontal: 'right',\n          }}\n        >\n          <SvgIcon component={WalletConnectIcon} inheritViewBox fontSize=\"medium\" />\n        </Badge>\n      </ButtonBase>\n    </Track>\n  )\n}\n\nexport default WcIcon\n","import { type ReactNode, useRef } from 'react'\nimport type { SessionTypes } from '@walletconnect/types'\nimport Popup from '@/components/common/Popup'\nimport WcIcon from './WcIcon'\n\ntype WcHeaderWidgetProps = {\n  children: ReactNode\n  sessions: SessionTypes.Struct[]\n  isError: boolean\n  isOpen: boolean\n  onOpen: () => void\n  onClose: () => void\n}\n\nconst WcHeaderWidget = ({ sessions, ...props }: WcHeaderWidgetProps) => {\n  const iconRef = useRef<HTMLDivElement>(null)\n\n  return (\n    <>\n      <div ref={iconRef}>\n        <WcIcon\n          onClick={props.onOpen}\n          sessionCount={sessions.length}\n          sessionIcon={sessions[0]?.peer.metadata.icons[0]}\n          isError={props.isError}\n        />\n      </div>\n\n      <Popup keepMounted anchorEl={iconRef.current} open={props.isOpen} onClose={props.onClose} transitionDuration={0}>\n        {props.children}\n      </Popup>\n    </>\n  )\n}\n\nexport default WcHeaderWidget\n","import { BRAND_NAME } from '@/config/constants'\nimport type { AppInfo } from '.'\n\nexport const showNotification = (title: string, options?: NotificationOptions) => {\n  if (Notification.permission !== 'granted' || document.hasFocus()) {\n    return\n  }\n\n  const notification = new Notification(title, {\n    icon: '/images/safe-logo-green.png',\n    ...options,\n  })\n\n  notification.onclick = () => {\n    window.focus()\n    notification.close()\n  }\n\n  setTimeout(() => {\n    notification.close()\n  }, 5_000)\n}\n\nexport const NotificationMessages: Record<\n  string,\n  (appInfo: AppInfo) => { title: string; options: NotificationOptions }\n> = {\n  SIGNATURE_REQUEST: (appInfo: AppInfo) => ({\n    title: 'Signature request',\n    options: {\n      body: `${appInfo.name} wants you to sign a message. Open the ${BRAND_NAME} to continue.`,\n    },\n  }),\n  TRANSACTION_REQUEST: (appInfo: AppInfo) => ({\n    title: 'Transaction request',\n    options: {\n      body: `${appInfo.name} wants to submit a transaction. Open the ${BRAND_NAME} to continue.`,\n    },\n  }),\n}\n","import { useContext, useEffect, useMemo, useRef, useState } from 'react'\nimport { useRouter } from 'next/router'\n\nimport { RpcErrorCode } from '.'\nimport type { AppInfo, WalletSDK } from '.'\nimport { SafeWalletProvider } from '.'\nimport useSafeInfo from '@/hooks/useSafeInfo'\nimport { TxModalContext } from '@/components/tx-flow'\nimport { SignMessageFlow } from '@/components/tx-flow/flows'\nimport { safeMsgSubscribe, SafeMsgEvent } from '@/services/safe-messages/safeMsgEvents'\nimport { SafeAppsTxFlow } from '@/components/tx-flow/flows'\nimport { TxEvent, txSubscribe } from '@/services/tx/txEvents'\nimport { Methods } from '@safe-global/safe-apps-sdk'\nimport type { SafeSettings } from '@safe-global/safe-apps-sdk'\nimport type { TypedData } from '@safe-global/store/gateway/AUTO_GENERATED/messages'\nimport { useWeb3ReadOnly } from '@/hooks/wallets/web3'\nimport { getTransactionDetails } from '@safe-global/safe-gateway-typescript-sdk'\nimport { Interface, getAddress } from 'ethers'\nimport { AppRoutes } from '@/config/routes'\nimport useChains, { useCurrentChain } from '@/hooks/useChains'\nimport { NotificationMessages, showNotification } from './notifications'\nimport { SignMessageOnChainFlow } from '@/components/tx-flow/flows'\nimport { useAppSelector } from '@/store'\nimport { selectOnChainSigning } from '@/store/settingsSlice'\nimport { isOffchainEIP1271Supported } from '@safe-global/utils/utils/safe-messages'\nimport { getCreateCallContractDeployment } from '@safe-global/utils/services/contracts/deployments'\n\nexport const useTxFlowApi = (chainId: string, safeAddress: string): WalletSDK | undefined => {\n  const { safe } = useSafeInfo()\n  const currentChain = useCurrentChain()\n  const { setTxFlow } = useContext(TxModalContext)\n  const web3ReadOnly = useWeb3ReadOnly()\n  const router = useRouter()\n  const { configs } = useChains()\n  const pendingTxs = useRef<Record<string, string>>({})\n\n  const onChainSigning = useAppSelector(selectOnChainSigning)\n  const [settings, setSettings] = useState<SafeSettings>({\n    offChainSigning: true,\n  })\n\n  useEffect(() => {\n    const unsubscribe = txSubscribe(TxEvent.PROCESSING, async ({ txId, txHash }) => {\n      if (!txId) return\n      pendingTxs.current[txId] = txHash\n    })\n    return unsubscribe\n  }, [])\n\n  return useMemo<WalletSDK | undefined>(() => {\n    if (!chainId || !safeAddress) return\n\n    const signMessage = (\n      message: string | TypedData,\n      appInfo: AppInfo,\n      method: Methods.signMessage | Methods.signTypedMessage,\n    ): Promise<{ signature: string }> => {\n      const id = Math.random().toString(36).slice(2)\n      const shouldSignOffChain =\n        isOffchainEIP1271Supported(safe, currentChain) && !onChainSigning && settings.offChainSigning\n\n      const { title, options } = NotificationMessages.SIGNATURE_REQUEST(appInfo)\n      showNotification(title, options)\n\n      return new Promise((resolve, reject) => {\n        let onClose = () => {\n          reject({\n            code: RpcErrorCode.USER_REJECTED,\n            message: 'User rejected signature',\n          })\n          unsubscribe()\n        }\n\n        const unsubscribeSignaturePrepared = safeMsgSubscribe(\n          SafeMsgEvent.SIGNATURE_PREPARED,\n          ({ requestId, signature }) => {\n            if (requestId === id) {\n              resolve({ signature })\n              unsubscribe()\n            }\n          },\n        )\n\n        const unsubscribe = () => {\n          onClose = () => {}\n          unsubscribeSignaturePrepared()\n        }\n\n        if (shouldSignOffChain) {\n          setTxFlow(\n            <SignMessageFlow\n              logoUri={appInfo.iconUrl}\n              name={appInfo.name}\n              origin={appInfo.url}\n              message={message}\n              requestId={id}\n            />,\n            onClose,\n          )\n        } else {\n          setTxFlow(<SignMessageOnChainFlow props={{ requestId: id, message, method }} />, onClose)\n        }\n      })\n    }\n\n    return {\n      async signMessage(message, appInfo) {\n        return await signMessage(message, appInfo, Methods.signMessage)\n      },\n\n      async signTypedMessage(typedData, appInfo) {\n        return await signMessage(typedData as TypedData, appInfo, Methods.signTypedMessage)\n      },\n\n      async send(params: { txs: any[]; params: { safeTxGas: number } }, appInfo) {\n        const id = Math.random().toString(36).slice(2)\n\n        const transactions = params.txs.map(({ to, value, data }) => {\n          return {\n            to: getAddress(to),\n            value: BigInt(value).toString(),\n            data,\n          }\n        })\n\n        const { title, options } = NotificationMessages.TRANSACTION_REQUEST(appInfo)\n        showNotification(title, options)\n\n        return new Promise((resolve, reject) => {\n          let onClose = () => {\n            reject({\n              code: RpcErrorCode.USER_REJECTED,\n              message: 'User rejected transaction',\n            })\n          }\n\n          const onSubmit = (txId: string, safeTxHash: string) => {\n            const txHash = pendingTxs.current[txId]\n            onClose = () => {}\n            resolve({ safeTxHash, txHash })\n          }\n\n          setTxFlow(\n            <SafeAppsTxFlow\n              data={{\n                appId: undefined,\n                app: appInfo,\n                requestId: id,\n                txs: transactions,\n                params: params.params,\n              }}\n              onSubmit={onSubmit}\n            />,\n            onClose,\n          )\n        })\n      },\n\n      async getBySafeTxHash(safeTxHash) {\n        return getTransactionDetails(chainId, safeTxHash)\n      },\n\n      async switchChain(hexChainId, appInfo) {\n        const decimalChainId = parseInt(hexChainId, 16).toString()\n        if (decimalChainId === chainId) {\n          return null\n        }\n\n        const cfg = configs.find((c) => c.chainId === chainId)\n        if (!cfg) {\n          throw new Error(`Chain ${chainId} not supported`)\n        }\n\n        if (confirm(`${appInfo.name} wants to switch to ${cfg.shortName}. Do you want to continue?`)) {\n          router.push({\n            pathname: AppRoutes.index,\n            query: {\n              chain: cfg.shortName,\n            },\n          })\n        }\n\n        return null\n      },\n\n      async showTxStatus(safeTxHash) {\n        router.push({\n          pathname: AppRoutes.transactions.tx,\n          query: {\n            safe: router.query.safe,\n            id: safeTxHash,\n          },\n        })\n      },\n\n      setSafeSettings(newSettings) {\n        const res = {\n          ...settings,\n          ...newSettings,\n        }\n\n        setSettings(newSettings)\n\n        return res\n      },\n\n      async proxy(method, params) {\n        return web3ReadOnly?.send(method, params ?? [])\n      },\n\n      getCreateCallTransaction(data) {\n        const createCallDeployment = currentChain\n          ? getCreateCallContractDeployment(currentChain, safe.version)\n          : undefined\n        if (!createCallDeployment) {\n          throw new Error('No CreateCall deployment found for chain and safe version')\n        }\n        const createCallAddress = createCallDeployment.networkAddresses[safe.chainId]\n\n        const createCallInterface = new Interface(createCallDeployment.abi)\n        const callData = createCallInterface.encodeFunctionData('performCreate', ['0', data])\n\n        return {\n          to: createCallAddress,\n          data: callData,\n          value: '0',\n        }\n      },\n    }\n  }, [chainId, safeAddress, safe, currentChain, onChainSigning, settings, setTxFlow, configs, router, web3ReadOnly])\n}\n\nconst useSafeWalletProvider = (): SafeWalletProvider | undefined => {\n  const { safe, safeAddress } = useSafeInfo()\n  const { chainId } = safe\n\n  const txFlowApi = useTxFlowApi(chainId, safeAddress)\n\n  return useMemo(() => {\n    if (!safeAddress || !chainId || !txFlowApi) return\n\n    return new SafeWalletProvider(\n      {\n        safeAddress,\n        chainId: Number(chainId),\n      },\n      txFlowApi,\n    )\n  }, [safeAddress, chainId, txFlowApi])\n}\n\nexport default useSafeWalletProvider\n","import { trackEvent } from '../../../services/analytics'\nimport { WALLETCONNECT_EVENTS } from '../../../services/analytics/events/walletconnect'\n\nconst trackedRequests = [\n  'personal_sign',\n  'eth_sign',\n  'eth_signTypedData',\n  'eth_signTypedData_v4',\n  'eth_sendTransaction',\n]\n\nexport const trackRequest = (peerUrl: string, method: string) => {\n  if (trackedRequests.includes(method)) {\n    trackEvent({ ...WALLETCONNECT_EVENTS.REQUEST, label: peerUrl })\n  }\n}\n","import { Core } from '@walletconnect/core'\nimport { WalletKit, type WalletKitTypes } from '@reown/walletkit'\nimport { buildApprovedNamespaces, getSdkError } from '@walletconnect/utils'\nimport type Web3WalletType from '@reown/walletkit'\nimport type { ProposalTypes, SessionTypes } from '@walletconnect/types'\nimport { type JsonRpcResponse } from '@walletconnect/jsonrpc-utils'\nimport uniq from 'lodash/uniq'\n\nimport { IS_PRODUCTION, LS_NAMESPACE, WC_PROJECT_ID } from '@/config/constants'\nimport { EIP155, SAFE_COMPATIBLE_EVENTS, SAFE_COMPATIBLE_METHODS, SAFE_WALLET_METADATA } from '../constants'\nimport { getEip155ChainId, stripEip155Prefix } from './utils'\nimport { invariant } from '@safe-global/utils/utils/helpers'\n\nconst SESSION_ADD_EVENT = 'session_add' as WalletKitTypes.Event // Workaround: WalletConnect doesn't emit session_add event\nconst SESSION_REJECT_EVENT = 'session_reject' as WalletKitTypes.Event // Workaround: WalletConnect doesn't emit session_reject event\n\nfunction assertWeb3Wallet<T extends Web3WalletType | null>(web3Wallet: T): asserts web3Wallet {\n  return invariant(web3Wallet, 'WalletConnect not initialized')\n}\n\n/**\n * An abstraction over the WalletConnect SDK to simplify event subscriptions\n * and add workarounds for dapps requesting wrong required chains.\n * Should be kept stateless exept for the web3Wallet instance.\n */\nclass WalletConnectWallet {\n  private web3Wallet: Web3WalletType | null = null\n\n  /**\n   * Initialize WalletConnect wallet SDK\n   */\n  public async init() {\n    if (this.web3Wallet) return\n\n    const core = new Core({\n      projectId: WC_PROJECT_ID,\n      logger: IS_PRODUCTION ? undefined : 'debug',\n      customStoragePrefix: LS_NAMESPACE,\n    })\n\n    const web3wallet = await WalletKit.init({\n      core,\n      metadata: SAFE_WALLET_METADATA,\n    })\n\n    this.web3Wallet = web3wallet\n  }\n\n  /**\n   * Connect using a wc-URI\n   */\n  public async connect(uri: string) {\n    assertWeb3Wallet(this.web3Wallet)\n    return this.web3Wallet.core.pairing.pair({ uri })\n  }\n\n  public async chainChanged(topic: string, chainId: string) {\n    const eipChainId = getEip155ChainId(chainId)\n\n    return this.web3Wallet?.emitSessionEvent({\n      topic,\n      event: {\n        name: 'chainChanged',\n        data: Number(chainId),\n      },\n      chainId: eipChainId,\n    })\n  }\n\n  public async accountsChanged(topic: string, chainId: string, address: string) {\n    const eipChainId = getEip155ChainId(chainId)\n\n    return this.web3Wallet?.emitSessionEvent({\n      topic,\n      event: {\n        name: 'accountsChanged',\n        data: [address],\n      },\n      chainId: eipChainId,\n    })\n  }\n\n  private getNamespaces(proposal: WalletKitTypes.SessionProposal, currentChainId: string, safeAddress: string) {\n    // As workaround, we pretend to support all the required chains plus the current Safe's chain\n    const requiredChains = proposal.params.requiredNamespaces[EIP155]?.chains || []\n\n    const supportedChainIds = [currentChainId].concat(requiredChains.map(stripEip155Prefix))\n\n    const eip155ChainIds = supportedChainIds.map(getEip155ChainId)\n    const eip155Accounts = eip155ChainIds.map((eip155ChainId) => `${eip155ChainId}:${safeAddress}`)\n\n    // Don't include optionalNamespaces methods/events\n    const methods = uniq((proposal.params.requiredNamespaces[EIP155]?.methods || []).concat(SAFE_COMPATIBLE_METHODS))\n    const events = uniq((proposal.params.requiredNamespaces[EIP155]?.events || []).concat(SAFE_COMPATIBLE_EVENTS))\n\n    return buildApprovedNamespaces({\n      proposal: proposal.params,\n      supportedNamespaces: {\n        [EIP155]: {\n          chains: eip155ChainIds,\n          accounts: eip155Accounts,\n          methods,\n          events,\n        },\n      },\n    })\n  }\n\n  public async approveSession(\n    proposal: WalletKitTypes.SessionProposal,\n    currentChainId: string,\n    safeAddress: string,\n    sessionProperties?: ProposalTypes.SessionProperties,\n  ) {\n    assertWeb3Wallet(this.web3Wallet)\n\n    const namespaces = this.getNamespaces(proposal, currentChainId, safeAddress)\n\n    // Approve the session proposal\n    const session = await this.web3Wallet.approveSession({\n      id: proposal.id,\n      namespaces,\n      sessionProperties,\n    })\n\n    await this.chainChanged(session.topic, currentChainId)\n\n    // Workaround: WalletConnect doesn't have a session_add event\n    // and we want to update our state inside the useWalletConnectSessions hook\n    this.web3Wallet?.events.emit(SESSION_ADD_EVENT, session)\n\n    // Return updated session as it may have changed\n    return this.getActiveSessions().find(({ topic }) => topic === session.topic) ?? session\n  }\n\n  private async updateSession(session: SessionTypes.Struct, chainId: string, safeAddress: string) {\n    assertWeb3Wallet(this.web3Wallet)\n\n    const currentEip155ChainIds = session.namespaces[EIP155]?.chains || []\n    const currentEip155Accounts = session.namespaces[EIP155]?.accounts || []\n\n    const newEip155ChainId = getEip155ChainId(chainId)\n    const newEip155Account = `${newEip155ChainId}:${safeAddress}`\n\n    const isUnsupportedChain = !currentEip155ChainIds.includes(newEip155ChainId)\n    const isNewSessionSafe = !currentEip155Accounts.includes(newEip155Account)\n\n    // Switching to unsupported chain\n    if (isUnsupportedChain) {\n      return this.disconnectSession(session)\n    }\n\n    // Add new Safe to the session namespace\n    if (isNewSessionSafe) {\n      const namespaces: SessionTypes.Namespaces = {\n        [EIP155]: {\n          ...session.namespaces[EIP155],\n          chains: currentEip155ChainIds,\n          accounts: [newEip155Account, ...currentEip155Accounts],\n        },\n      }\n\n      await this.web3Wallet.updateSession({\n        topic: session.topic,\n        namespaces,\n      })\n    }\n\n    // Switch to the new chain\n    await this.chainChanged(session.topic, chainId)\n\n    // Switch to the new Safe\n    await this.accountsChanged(session.topic, chainId, safeAddress)\n  }\n\n  public async updateSessions(chainId: string, safeAddress: string) {\n    // If updating sessions disconnects multiple due to an unsupported chain,\n    // we need to wait for the previous session to disconnect before the next\n    for await (const session of this.getActiveSessions()) {\n      await this.updateSession(session, chainId, safeAddress)\n    }\n  }\n\n  public async rejectSession(proposal: WalletKitTypes.SessionProposal) {\n    assertWeb3Wallet(this.web3Wallet)\n\n    await this.web3Wallet.rejectSession({\n      id: proposal.id,\n      reason: getSdkError('USER_REJECTED'),\n    })\n\n    // Workaround: WalletConnect doesn't have a session_reject event\n    this.web3Wallet?.events.emit(SESSION_REJECT_EVENT, proposal)\n  }\n\n  /**\n   * Subscribe to session proposals\n   */\n  public onSessionPropose(handler: (e: WalletKitTypes.SessionProposal) => void) {\n    // Subscribe to the session proposal event\n    this.web3Wallet?.on('session_proposal', handler)\n\n    // Return the unsubscribe function\n    return () => {\n      this.web3Wallet?.off('session_proposal', handler)\n    }\n  }\n\n  /**\n   * Subscribe to session proposal rejections\n   */\n  public onSessionReject(handler: (e: WalletKitTypes.SessionProposal) => void) {\n    // @ts-expect-error - custom event payload\n    this.web3Wallet?.on(SESSION_REJECT_EVENT, handler)\n\n    return () => {\n      // @ts-expect-error\n      this.web3Wallet?.off(SESSION_REJECT_EVENT, handler)\n    }\n  }\n\n  /**\n   * Subscribe to session add\n   */\n  public onSessionAdd = (handler: (e: SessionTypes.Struct) => void) => {\n    // @ts-expect-error - custom event payload\n    this.web3Wallet?.on(SESSION_ADD_EVENT, handler)\n\n    return () => {\n      // @ts-expect-error\n      this.web3Wallet?.off(SESSION_ADD_EVENT, handler)\n    }\n  }\n\n  /**\n   * Subscribe to session delete\n   */\n  public onSessionDelete = (handler: (session: SessionTypes.Struct) => void) => {\n    // @ts-expect-error - custom event payload\n    this.web3Wallet?.on('session_delete', handler)\n\n    return () => {\n      // @ts-expect-error\n      this.web3Wallet?.off('session_delete', handler)\n    }\n  }\n\n  /**\n   * Disconnect a session\n   */\n  public async disconnectSession(session: SessionTypes.Struct) {\n    assertWeb3Wallet(this.web3Wallet)\n\n    await this.web3Wallet.disconnectSession({\n      topic: session.topic,\n      reason: getSdkError('USER_DISCONNECTED'),\n    })\n\n    // Workaround: WalletConnect doesn't emit session_delete event when disconnecting from the wallet side\n    // and we want to update the state inside the useWalletConnectSessions hook\n    this.web3Wallet.events.emit('session_delete', session)\n  }\n\n  /**\n   * Get active sessions\n   */\n  public getActiveSessions(): SessionTypes.Struct[] {\n    const sessionsMap = this.web3Wallet?.getActiveSessions() || {}\n    return Object.values(sessionsMap)\n  }\n\n  /**\n   * Subscribe to requests\n   */\n  public onRequest(handler: (event: WalletKitTypes.SessionRequest) => void) {\n    this.web3Wallet?.on('session_request', handler)\n\n    return () => {\n      this.web3Wallet?.off('session_request', handler)\n    }\n  }\n\n  /**\n   * Send a response to a request\n   */\n  public async sendSessionResponse(topic: string, response: JsonRpcResponse<unknown>) {\n    assertWeb3Wallet(this.web3Wallet)\n\n    return await this.web3Wallet.respondSessionRequest({ topic, response })\n  }\n}\n\nexport default WalletConnectWallet\n","import { type ReactNode, useEffect, useState } from 'react'\nimport { getSdkError } from '@walletconnect/utils'\nimport { formatJsonRpcError } from '@walletconnect/jsonrpc-utils'\n\nimport useSafeInfo from '@/hooks/useSafeInfo'\nimport useSafeWalletProvider from '@/services/safe-wallet-provider/useSafeWalletProvider'\nimport { asError } from '@safe-global/utils/services/exceptions/utils'\nimport { IS_PRODUCTION } from '@/config/constants'\nimport { getPeerName, stripEip155Prefix } from '@/features/walletconnect/services/utils'\nimport { trackRequest } from '@/features/walletconnect//services/tracking'\nimport { wcPopupStore } from '@/features/walletconnect/components'\nimport WalletConnectWallet from '@/features/walletconnect/services/WalletConnectWallet'\nimport { WalletConnectContext } from '@/features/walletconnect/WalletConnectContext'\n\nenum Errors {\n  WRONG_CHAIN = '%%dappName%% made a request on a different chain than the one you are connected to',\n}\n\nexport enum WCLoadingState {\n  APPROVE = 'Approve',\n  REJECT = 'Reject',\n  CONNECT = 'Connect',\n  DISCONNECT = 'Disconnect',\n}\n\n// The URL of the former WalletConnect Safe App\n// This is still used to differentiate these txs from Safe App txs in the analytics\nconst LEGACY_WC_APP_URL = 'https://apps-portal.safe.global/wallet-connect'\n\nconst walletConnectSingleton = new WalletConnectWallet()\n\nconst getWrongChainError = (dappName: string): Error => {\n  const message = Errors.WRONG_CHAIN.replace('%%dappName%%', dappName)\n  return new Error(message)\n}\n\nexport const WalletConnectProvider = ({ children }: { children: ReactNode }) => {\n  const {\n    safe: { chainId },\n    safeAddress,\n  } = useSafeInfo()\n  const [walletConnect, setWalletConnect] = useState<WalletConnectWallet | null>(null)\n  const open = wcPopupStore.useStore() ?? false\n  const setOpen = wcPopupStore.setStore\n  const [error, setError] = useState<Error | null>(null)\n  const [isLoading, setIsLoading] = useState<WCLoadingState>()\n  const safeWalletProvider = useSafeWalletProvider()\n\n  // Init WalletConnect\n  useEffect(() => {\n    walletConnectSingleton\n      .init()\n      .then(() => setWalletConnect(walletConnectSingleton))\n      .catch(setError)\n  }, [])\n\n  // Update chainId/safeAddress\n  useEffect(() => {\n    if (!walletConnect || !chainId || !safeAddress) return\n\n    walletConnect.updateSessions(chainId, safeAddress).catch(setError)\n  }, [walletConnect, chainId, safeAddress])\n\n  // Subscribe to requests\n  useEffect(() => {\n    if (!walletConnect || !safeWalletProvider || !chainId) return\n\n    return walletConnect.onRequest(async (event) => {\n      if (!IS_PRODUCTION) {\n        console.log('[WalletConnect] request', event)\n      }\n\n      const { topic } = event\n      const session = walletConnect.getActiveSessions().find((s) => s.topic === topic)\n      const requestChainId = stripEip155Prefix(event.params.chainId)\n\n      // Track requests\n      if (session) {\n        trackRequest(session.peer.metadata.url, event.params.request.method)\n      }\n\n      const getResponse = () => {\n        // Get error if wrong chain\n        if (!session || requestChainId !== chainId) {\n          if (session) {\n            setError(getWrongChainError(getPeerName(session.peer)))\n          }\n\n          const error = getSdkError('UNSUPPORTED_CHAINS')\n          return formatJsonRpcError(event.id, error)\n        }\n\n        // Get response from Safe Wallet Provider\n        return safeWalletProvider.request(event.id, event.params.request, {\n          url: LEGACY_WC_APP_URL, // required for server-side analytics\n          name: getPeerName(session.peer) || 'WalletConnect',\n          description: session.peer.metadata.description,\n          iconUrl: session.peer.metadata.icons[0],\n        })\n      }\n\n      try {\n        const response = await getResponse()\n\n        // Send response to WalletConnect\n        await walletConnect.sendSessionResponse(topic, response)\n      } catch (e) {\n        setError(asError(e))\n      }\n    })\n  }, [walletConnect, chainId, safeWalletProvider])\n\n  return (\n    <WalletConnectContext.Provider value={{ walletConnect, error, setError, open, setOpen, isLoading, setIsLoading }}>\n      {children}\n    </WalletConnectContext.Provider>\n  )\n}\n","var _path, _path2, _path3;\nvar _excluded = [\"title\", \"titleId\"];\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nfunction _objectWithoutProperties(e, t) { if (null == e) return {}; var o, r, i = _objectWithoutPropertiesLoose(e, t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); for (r = 0; r < n.length; r++) o = n[r], -1 === t.indexOf(o) && {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]); } return i; }\nfunction _objectWithoutPropertiesLoose(r, e) { if (null == r) return {}; var t = {}; for (var n in r) if ({}.hasOwnProperty.call(r, n)) { if (-1 !== e.indexOf(n)) continue; t[n] = r[n]; } return t; }\nimport * as React from \"react\";\nvar SvgQuestion = function SvgQuestion(_ref) {\n  var title = _ref.title,\n    titleId = _ref.titleId,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 16,\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M14.6667 8C14.6667 11.6819 11.6819 14.6667 8.00004 14.6667C4.31814 14.6667 1.33337 11.6819 1.33337 8C1.33337 4.3181 4.31814 1.33334 8.00004 1.33334C11.6819 1.33334 14.6667 4.3181 14.6667 8ZM2.66671 8C2.66671 10.9455 5.05452 13.3333 8.00004 13.3333C10.9456 13.3333 13.3334 10.9455 13.3334 8C13.3334 5.05448 10.9456 2.66667 8.00004 2.66667C5.05452 2.66667 2.66671 5.05448 2.66671 8Z\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M6.96139 6.08947C6.96139 5.57606 7.39595 5.1528 7.94139 5.1528C8.48561 5.1528 8.92005 5.57618 8.92005 6.08947C8.92581 6.46417 8.83055 6.59424 8.36991 6.93046L8.33843 6.95343C7.55727 7.52345 7.22948 7.97805 7.27558 8.88209L7.27472 9.01347C7.27472 9.38166 7.5732 9.68013 7.94139 9.68013C8.30958 9.68013 8.60805 9.38166 8.60805 9.01347V8.84813C8.58981 8.47344 8.67025 8.36187 9.12437 8.0305L9.15598 8.00743C9.93162 7.4413 10.2674 6.98283 10.2533 6.07908C10.2534 4.83199 9.2144 3.81947 7.94139 3.81947C6.66733 3.81947 5.62805 4.8317 5.62805 6.08947C5.62805 6.45766 5.92653 6.75613 6.29472 6.75613C6.66291 6.75613 6.96139 6.45766 6.96139 6.08947Z\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M7.99996 10.5C8.4602 10.5 8.83329 10.8731 8.83329 11.3333C8.83329 11.7936 8.4602 12.1667 7.99996 12.1667C7.53972 12.1667 7.16663 11.7936 7.16663 11.3333C7.16663 10.8731 7.53972 10.5 7.99996 10.5Z\"\n  })));\n};\nexport default SvgQuestion;","import ExpandMoreIcon from '@mui/icons-material/ExpandMore'\nimport {\n  Accordion,\n  AccordionSummary,\n  Avatar,\n  Box,\n  Typography,\n  AccordionDetails,\n  SvgIcon,\n  List,\n  ListItem,\n  ListItemAvatar,\n  ListItemText,\n} from '@mui/material'\nimport { useState } from 'react'\nimport type { ReactElement } from 'react'\nimport Question from '@/public/images/common/question.svg'\nimport css from './styles.module.css'\nimport { trackEvent } from '@/services/analytics'\nimport { WALLETCONNECT_EVENTS } from '@/services/analytics/events/walletconnect'\n\nconst HintAccordion = ({\n  title,\n  items,\n  expanded,\n  onExpand,\n}: {\n  title: string\n  items: Array<string>\n  expanded: boolean\n  onExpand: () => void\n}): ReactElement => {\n  return (\n    <Accordion onClick={onExpand} expanded={expanded}>\n      <AccordionSummary expandIcon={<ExpandMoreIcon />}>\n        <Typography className={css.title}>\n          <SvgIcon component={Question} inheritViewBox className={css.questionIcon} />\n          {title}\n        </Typography>\n      </AccordionSummary>\n\n      <AccordionDetails sx={{ p: 0 }}>\n        <List className={css.list}>\n          {items.map((item, i) => (\n            <ListItem key={i} sx={{ p: 0 }}>\n              <ListItemAvatar className={css.listItemAvatar}>\n                <Avatar className={css.avatar}>{i + 1}</Avatar>\n              </ListItemAvatar>\n              <ListItemText primary={item} sx={{ m: 0 }} primaryTypographyProps={{ variant: 'body2' }} />\n            </ListItem>\n          ))}\n        </List>\n      </AccordionDetails>\n    </Accordion>\n  )\n}\n\nconst ConnectionTitle = 'How do I connect to a dApp?'\nconst ConnectionSteps = [\n  'Open a WalletConnect supported dApp',\n  'Connect a wallet',\n  'Select WalletConnect as the wallet',\n  'Copy the pairing code and paste it into the input field above',\n  'Approve the session',\n  'dApp is now connected to the Safe',\n]\n\nconst InteractionTitle = 'How do I interact with a dApp?'\nconst InteractionSteps = [\n  'Connect a dApp by following the above steps',\n  'Ensure the dApp is connected to the same chain as your Safe Account',\n  'Initiate a transaction/signature request via the dApp',\n  'Transact/sign as normal via the Safe',\n]\n\nconst WcHints = (): ReactElement => {\n  const [expandedAccordion, setExpandedAccordion] = useState<'connection' | 'interaction' | null>(null)\n\n  const onExpand = (accordion: 'connection' | 'interaction') => {\n    setExpandedAccordion((prev) => {\n      return prev === accordion ? null : accordion\n    })\n\n    trackEvent(WALLETCONNECT_EVENTS.HINTS_EXPAND)\n  }\n\n  return (\n    <Box display=\"flex\" flexDirection=\"column\" gap={1}>\n      <HintAccordion\n        title={ConnectionTitle}\n        items={ConnectionSteps}\n        onExpand={() => onExpand('connection')}\n        expanded={expandedAccordion === 'connection'}\n      />\n      <HintAccordion\n        title={InteractionTitle}\n        items={InteractionSteps}\n        onExpand={() => onExpand('interaction')}\n        expanded={expandedAccordion === 'interaction'}\n      />\n    </Box>\n  )\n}\n\nexport default WcHints\n","import ExternalLink from '@/components/common/ExternalLink'\nimport useSafeInfo from '@/hooks/useSafeInfo'\nimport useLocalStorage from '@/services/local-storage/useLocalStorage'\nimport { Typography } from '@mui/material'\nimport { useCallback, useEffect } from 'react'\n\nconst SAMPLE_DAPPS = [\n  { name: 'Zerion', icon: '/images/common/nft-zerion.svg', url: 'https://app.zerion.io/connect-wallet' },\n  { name: 'Zapper', icon: '/images/common/nft-zapper.svg', url: 'https://zapper.xyz/' },\n  { name: 'OpenSea', icon: '/images/common/nft-opensea.svg', url: 'https://opensea.io/' },\n]\n\nconst LS_KEY = 'native_wc_dapps'\n\nconst WcSampleDapps = ({ onUnload }: { onUnload: () => void }) => {\n  // Only show the sample dApps list once\n  useEffect(() => {\n    return onUnload\n  }, [onUnload])\n\n  return (\n    <Typography\n      variant=\"body2\"\n      display=\"flex\"\n      justifyContent=\"space-between\"\n      alignItems=\"center\"\n      mt={3}\n      component=\"div\"\n    >\n      {SAMPLE_DAPPS.map((item) => (\n        <Typography variant=\"body2\" key={item.url}>\n          <ExternalLink href={item.url} noIcon px={1}>\n            <img src={item.icon} alt={item.name} width={32} height={32} style={{ marginRight: '0.5em' }} />\n            {item.name}\n          </ExternalLink>\n        </Typography>\n      ))}\n    </Typography>\n  )\n}\n\nconst WcNoSessions = () => {\n  const { safeLoaded } = useSafeInfo()\n  const [showDapps = true, setShowDapps] = useLocalStorage<boolean>(LS_KEY)\n\n  const onUnload = useCallback(() => {\n    setShowDapps(false)\n  }, [setShowDapps])\n\n  const sampleDapps = showDapps && safeLoaded && <WcSampleDapps onUnload={onUnload} />\n\n  return (\n    <>\n      <Typography variant=\"body2\" textAlign=\"center\" color=\"text.secondary\">\n        No dApps are connected yet.{sampleDapps ? ' Try one of these:' : ''}\n      </Typography>\n\n      {sampleDapps}\n    </>\n  )\n}\n\nexport default WcNoSessions\n","import SafeAppIconCard from '@/components/safe-apps/SafeAppIconCard'\nimport { WCLoadingState } from '@/features/walletconnect/components/WalletConnectProvider'\nimport { getPeerName } from '@/features/walletconnect/services/utils'\nimport { WalletConnectContext } from '@/features/walletconnect/WalletConnectContext'\nimport useSafeInfo from '@/hooks/useSafeInfo'\nimport { trackEvent } from '@/services/analytics'\nimport { WALLETCONNECT_EVENTS } from '@/services/analytics/events/walletconnect'\nimport { asError } from '@safe-global/utils/services/exceptions/utils'\nimport { Button, CircularProgress, List, ListItem, ListItemAvatar, ListItemIcon, ListItemText } from '@mui/material'\nimport type { SessionTypes } from '@walletconnect/types'\nimport { useCallback, useContext } from 'react'\nimport css from './styles.module.css'\nimport WcNoSessions from './WcNoSessions'\n\ntype WcSesstionListProps = {\n  sessions: SessionTypes.Struct[]\n}\n\nconst WcSessionListItem = ({ session }: { session: SessionTypes.Struct }) => {\n  const { walletConnect, setError, isLoading, setIsLoading } = useContext(WalletConnectContext)\n\n  const MAX_NAME_LENGTH = 23\n  const { safeLoaded } = useSafeInfo()\n  let name = getPeerName(session.peer) || 'Unknown dApp'\n\n  if (name.length > MAX_NAME_LENGTH + 1) {\n    name = `${name.slice(0, MAX_NAME_LENGTH)}…`\n  }\n\n  const onDisconnect = useCallback(async () => {\n    if (!walletConnect) return\n\n    const label = session.peer.metadata.url\n    trackEvent({ ...WALLETCONNECT_EVENTS.DISCONNECT_CLICK, label })\n\n    setIsLoading(WCLoadingState.DISCONNECT)\n\n    try {\n      await walletConnect.disconnectSession(session)\n    } catch (error) {\n      setIsLoading(undefined)\n      setError(asError(error))\n    }\n\n    setIsLoading(undefined)\n  }, [walletConnect, session, setIsLoading, setError])\n\n  return (\n    <ListItem className={css.sessionListItem}>\n      {session.peer.metadata.icons[0] && (\n        <ListItemAvatar className={css.sessionListAvatar}>\n          <SafeAppIconCard src={session.peer.metadata.icons[0]} alt=\"icon\" width={20} height={20} />\n        </ListItemAvatar>\n      )}\n\n      <ListItemText primary={name} primaryTypographyProps={{ color: safeLoaded ? undefined : 'text.secondary' }} />\n\n      <ListItemIcon className={css.sessionListSecondaryAction}>\n        <Button variant=\"danger\" onClick={onDisconnect} className={css.button} disabled={!!isLoading}>\n          {isLoading === WCLoadingState.DISCONNECT ? <CircularProgress size={20} /> : 'Disconnect'}\n        </Button>\n      </ListItemIcon>\n    </ListItem>\n  )\n}\n\nconst WcSessionList = ({ sessions }: WcSesstionListProps) => {\n  if (sessions.length === 0) {\n    return <WcNoSessions />\n  }\n\n  return (\n    <List className={css.sessionList}>\n      {Object.values(sessions).map((session) => (\n        <WcSessionListItem key={session.topic} session={session} />\n      ))}\n    </List>\n  )\n}\n\nexport default WcSessionList\n","import { logError, Errors } from '@/services/exceptions'\n\nexport const isClipboardSupported = (): boolean => {\n  // 'clipboard-read' and `readText` are not supported by Firefox\n  // @see https://developer.mozilla.org/en-US/docs/Web/API/Clipboard/readText#browser_compatibility\n  return navigator.userAgent.includes('Firefox')\n}\n\nexport const isClipboardGranted = async (): Promise<boolean> => {\n  if (isClipboardSupported()) {\n    return false\n  }\n\n  let isGranted = false\n\n  try {\n    // @ts-expect-error navigator permissions types don't include clipboard\n    const permission = await navigator.permissions.query({ name: 'clipboard-read' })\n    isGranted = permission.state === 'granted'\n  } catch (e) {\n    logError(Errors._707, e)\n  }\n\n  return isGranted\n}\n\nexport const getClipboard = async (): Promise<string> => {\n  if (isClipboardSupported()) return ''\n\n  let clipboard = ''\n\n  try {\n    clipboard = await navigator.clipboard.readText()\n  } catch (e) {\n    logError(Errors._708, e)\n  }\n\n  return clipboard\n}\n","import Track from '@/components/common/Track'\nimport { WCLoadingState } from '@/features/walletconnect/components/WalletConnectProvider'\nimport { isPairingUri } from '@/features/walletconnect/services/utils'\nimport { WalletConnectContext } from '@/features/walletconnect/WalletConnectContext'\nimport useDebounce from '@/hooks/useDebounce'\nimport { trackEvent } from '@/services/analytics'\nimport { WALLETCONNECT_EVENTS } from '@/services/analytics/events/walletconnect'\nimport { asError } from '@safe-global/utils/services/exceptions/utils'\nimport { getClipboard, isClipboardSupported } from '@/utils/clipboard'\nimport { Button, CircularProgress, InputAdornment, TextField } from '@mui/material'\nimport { useCallback, useContext, useEffect, useState } from 'react'\n\nconst PROPOSAL_TIMEOUT = 30_000\n\nconst useTrackErrors = (error?: Error) => {\n  const debouncedErrorMessage = useDebounce(error?.message, 1000)\n\n  // Track errors\n  useEffect(() => {\n    if (debouncedErrorMessage) {\n      trackEvent({ ...WALLETCONNECT_EVENTS.SHOW_ERROR, label: debouncedErrorMessage })\n    }\n  }, [debouncedErrorMessage])\n}\n\nconst WcInput = ({ uri }: { uri: string }) => {\n  const { walletConnect, isLoading, setIsLoading, setError } = useContext(WalletConnectContext)\n  const [value, setValue] = useState('')\n  const [inputError, setInputError] = useState<Error>()\n  useTrackErrors(inputError)\n\n  const onInput = useCallback(\n    async (val: string) => {\n      if (!walletConnect) return\n\n      setValue(val)\n\n      if (val && !isPairingUri(val)) {\n        setInputError(new Error('Invalid pairing code'))\n        return\n      }\n\n      setInputError(undefined)\n\n      if (!val) return\n\n      setIsLoading(WCLoadingState.CONNECT)\n\n      try {\n        await walletConnect.connect(val)\n      } catch (e) {\n        setInputError(asError(e))\n        setIsLoading(undefined)\n      }\n      setTimeout(() => {\n        if (isLoading && isLoading !== WCLoadingState.APPROVE) {\n          setIsLoading(undefined)\n          setError(new Error('Connection timed out'))\n        }\n      }, PROPOSAL_TIMEOUT)\n    },\n    [isLoading, setError, setIsLoading, walletConnect],\n  )\n\n  // Insert a pre-filled uri\n  useEffect(() => {\n    onInput(uri)\n  }, [onInput, uri])\n\n  const onPaste = useCallback(async () => {\n    // Errors are handled by in getClipboard\n    const clipboard = await getClipboard()\n\n    if (clipboard && isPairingUri(clipboard)) {\n      onInput(clipboard)\n    }\n  }, [onInput])\n\n  return (\n    <TextField\n      data-testid=\"wc-input\"\n      value={value}\n      onChange={(e) => onInput(e.target.value)}\n      fullWidth\n      autoComplete=\"off\"\n      autoFocus\n      disabled={!!isLoading}\n      error={!!inputError}\n      label={inputError ? inputError.message : 'Pairing code'}\n      placeholder=\"wc:\"\n      spellCheck={false}\n      InputProps={{\n        autoComplete: 'off',\n        endAdornment: isClipboardSupported() ? undefined : (\n          <InputAdornment position=\"end\">\n            <Track {...WALLETCONNECT_EVENTS.PASTE_CLICK}>\n              <Button variant=\"contained\" onClick={onPaste} sx={{ py: 1 }} disabled={!!isLoading}>\n                {isLoading === WCLoadingState.CONNECT || isLoading === WCLoadingState.APPROVE ? (\n                  <CircularProgress size={20} />\n                ) : (\n                  'Paste'\n                )}\n              </Button>\n            </Track>\n          </InputAdornment>\n        ),\n      }}\n    />\n  )\n}\n\nexport default WcInput\n","var _rect, _path, _path2;\nvar _excluded = [\"title\", \"titleId\"];\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nfunction _objectWithoutProperties(e, t) { if (null == e) return {}; var o, r, i = _objectWithoutPropertiesLoose(e, t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); for (r = 0; r < n.length; r++) o = n[r], -1 === t.indexOf(o) && {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]); } return i; }\nfunction _objectWithoutPropertiesLoose(r, e) { if (null == r) return {}; var t = {}; for (var n in r) if ({}.hasOwnProperty.call(r, n)) { if (-1 !== e.indexOf(n)) continue; t[n] = r[n]; } return t; }\nimport * as React from \"react\";\nvar SvgAlert = function SvgAlert(_ref) {\n  var title = _ref.title,\n    titleId = _ref.titleId,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 22,\n    height: 22,\n    viewBox: \"0 0 22 22\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _rect || (_rect = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 10.083,\n    y: 5.5,\n    width: 1.83333,\n    height: 7.33333,\n    rx: 0.916667,\n    fill: \"currentColor\"\n  })), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M11.0003 14.4375C11.6332 14.4375 12.1462 14.9505 12.1462 15.5833C12.1462 16.2162 11.6332 16.7292 11.0003 16.7292C10.3675 16.7292 9.85449 16.2162 9.85449 15.5833C9.85449 14.9505 10.3675 14.4375 11.0003 14.4375Z\",\n    fill: \"currentColor\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M20.1663 11.0002C20.1663 16.0628 16.0623 20.1668 10.9997 20.1668C5.93706 20.1668 1.83301 16.0628 1.83301 11.0002C1.83301 5.93755 5.93706 1.8335 10.9997 1.8335C16.0623 1.8335 20.1663 5.93755 20.1663 11.0002ZM3.66634 11.0002C3.66634 15.0503 6.94959 18.3335 10.9997 18.3335C15.0498 18.3335 18.333 15.0503 18.333 11.0002C18.333 6.95007 15.0498 3.66683 10.9997 3.66683C6.94959 3.66683 3.66634 6.95007 3.66634 11.0002Z\",\n    fill: \"currentColor\"\n  })));\n};\nexport default SvgAlert;","import { SvgIcon, Typography } from '@mui/material'\nimport type { ReactElement } from 'react'\nimport WalletConnect from '@/public/images/common/walletconnect.svg'\nimport Alert from '@/public/images/notifications/alert.svg'\nimport css from './styles.module.css'\nimport { BRAND_NAME } from '@/config/constants'\n\nconst WcLogoHeader = ({ errorMessage }: { errorMessage?: string }): ReactElement => {\n  return (\n    <>\n      <div>\n        <SvgIcon data-testid=\"wc-icon\" component={WalletConnect} inheritViewBox className={css.icon} />\n        {errorMessage && (\n          <SvgIcon\n            data-testid=\"wc-alert\"\n            component={Alert}\n            inheritViewBox\n            className={css.errorBadge}\n            fontSize=\"small\"\n          />\n        )}\n      </div>\n\n      <Typography data-testid=\"wc-title\" variant=\"h5\" mt={2} mb={0.5} className={css.title}>\n        {errorMessage || `Connect dApps to ${BRAND_NAME}`}\n      </Typography>\n    </>\n  )\n}\n\nexport default WcLogoHeader\n","import { useCallback, useEffect } from 'react'\nimport { Grid, Typography, Divider, SvgIcon, IconButton, Tooltip, Box } from '@mui/material'\nimport type { ReactElement } from 'react'\nimport type { SessionTypes } from '@walletconnect/types'\nimport useLocalStorage from '@/services/local-storage/useLocalStorage'\nimport InfoIcon from '@/public/images/notifications/info.svg'\nimport WcHints from '../WcHints'\nimport WcSessionList from '../WcSessionList'\nimport WcInput from '../WcInput'\nimport WcLogoHeader from '../WcLogoHeader'\nimport css from './styles.module.css'\nimport useSafeInfo from '@/hooks/useSafeInfo'\nimport Track from '@/components/common/Track'\nimport { WALLETCONNECT_EVENTS } from '@/services/analytics/events/walletconnect'\nimport { BRAND_NAME } from '@/config/constants'\n\nconst WC_HINTS_KEY = 'wcHints'\n\nexport const WcConnectionForm = ({ sessions, uri }: { sessions: SessionTypes.Struct[]; uri: string }): ReactElement => {\n  const [showHints = true, setShowHints] = useLocalStorage<boolean>(WC_HINTS_KEY)\n  const { safeLoaded } = useSafeInfo()\n\n  const onToggle = useCallback(() => {\n    setShowHints((prev) => !prev)\n  }, [setShowHints])\n\n  // Show the hints only once\n  useEffect(() => {\n    return () => setShowHints(false)\n  }, [setShowHints])\n\n  return (\n    <Grid className={css.container}>\n      <Grid\n        item\n        sx={{\n          textAlign: 'center',\n        }}\n      >\n        <Tooltip\n          title={showHints ? 'Hide how WalletConnect works' : 'How does WalletConnect work?'}\n          placement=\"top\"\n          arrow\n          className={css.infoIcon}\n        >\n          <span>\n            <Track {...(showHints ? WALLETCONNECT_EVENTS.HINTS_HIDE : WALLETCONNECT_EVENTS.HINTS_SHOW)}>\n              <IconButton onClick={onToggle}>\n                <SvgIcon component={InfoIcon} inheritViewBox color=\"border\" />\n              </IconButton>\n            </Track>\n          </span>\n        </Tooltip>\n\n        <WcLogoHeader />\n\n        <Typography\n          variant=\"body2\"\n          sx={{\n            color: 'text.secondary',\n          }}\n        >\n          {safeLoaded\n            ? `Paste the pairing code below to connect to your ${BRAND_NAME} via WalletConnect`\n            : `Please open one of your Safe Accounts to connect to via WalletConnect`}\n        </Typography>\n\n        {safeLoaded ? (\n          <Box\n            sx={{\n              mt: 3,\n            }}\n          >\n            <WcInput uri={uri} />\n          </Box>\n        ) : null}\n      </Grid>\n      <Divider flexItem />\n      <Grid item>\n        <WcSessionList sessions={sessions} />\n      </Grid>\n      {showHints && (\n        <>\n          <Divider flexItem />\n\n          <Grid\n            item\n            sx={{\n              mt: 1,\n            }}\n          >\n            <WcHints />\n          </Grid>\n        </>\n      )}\n    </Grid>\n  )\n}\n\nexport default WcConnectionForm\n","import { splitError } from '@/features/walletconnect/services/utils'\nimport { Button, Typography } from '@mui/material'\nimport WcLogoHeader from '../WcLogoHeader'\nimport css from './styles.module.css'\n\nconst WcErrorMessage = ({ error, onClose }: { error: Error; onClose: () => void }) => {\n  const message = error.message || 'An error occurred'\n  const [summary, details] = splitError(message)\n\n  return (\n    <div className={css.errorContainer}>\n      <WcLogoHeader errorMessage={summary} />\n\n      {details && (\n        <Typography mt={1} className={css.details}>\n          {details}\n        </Typography>\n      )}\n\n      <Button variant=\"contained\" onClick={onClose} className={css.button}>\n        OK\n      </Button>\n    </div>\n  )\n}\n\nexport default WcErrorMessage\n","import { useMemo } from 'react'\nimport type { AlertColor } from '@mui/material'\nimport type { WalletKitTypes } from '@reown/walletkit'\nimport useChains from '@/hooks/useChains'\nimport useSafeInfo from '@/hooks/useSafeInfo'\nimport { capitalize } from '@safe-global/utils/utils/formatters'\nimport { getPeerName, isBlockedBridge, isWarnedBridge } from '@/features/walletconnect/services/utils'\nimport { BRAND_NAME } from '@/config/constants'\n\nconst NAME_FALLBACK = 'this dApp'\nconst NAME_PLACEHOLDER = '%%name%%'\nconst CHAIN_PLACEHOLDER = '%%chain%%'\n\nconst Warnings: Record<string, { severity: AlertColor; message: string }> = {\n  BLOCKED_BRIDGE: {\n    severity: 'error',\n    message: `${NAME_PLACEHOLDER} is a bridge that is incompatible with ${BRAND_NAME} — the bridged funds will be lost. Consider using a different bridge.`,\n  },\n  WARNED_BRIDGE: {\n    severity: 'warning',\n    message: `While bridging via ${NAME_PLACEHOLDER}, please make sure that the desination address you send funds to matches the Safe address you have on the respective chain. Otherwise, the funds will be lost.`,\n  },\n  UNSUPPORTED_CHAIN: {\n    severity: 'error',\n    message: `${NAME_PLACEHOLDER} does not support this Safe Account's network (${CHAIN_PLACEHOLDER}). Please switch to a Safe Account on one of the supported networks below.`,\n  },\n  WRONG_CHAIN: {\n    severity: 'info',\n    message: `Please make sure that the dApp is connected to ${CHAIN_PLACEHOLDER}.`,\n  },\n}\n\nexport const _getWarning = (origin: string, name: string, isUnsupportedChain: boolean) => {\n  if (isUnsupportedChain) {\n    return Warnings.UNSUPPORTED_CHAIN\n  }\n\n  if (isBlockedBridge(origin)) {\n    return Warnings.BLOCKED_BRIDGE\n  }\n\n  if (isWarnedBridge(origin, name)) {\n    return Warnings.WARNED_BRIDGE\n  }\n\n  return Warnings.WRONG_CHAIN\n}\n\nexport const useCompatibilityWarning = (\n  proposal: WalletKitTypes.SessionProposal,\n  isUnsupportedChain: boolean,\n): (typeof Warnings)[string] => {\n  const { configs } = useChains()\n  const { safe } = useSafeInfo()\n\n  return useMemo(() => {\n    const name = getPeerName(proposal.params.proposer) || NAME_FALLBACK\n    const { origin } = proposal.verifyContext.verified\n    let { message, severity } = _getWarning(origin, name, isUnsupportedChain)\n\n    if (message.includes(NAME_PLACEHOLDER)) {\n      message = message.replaceAll(NAME_PLACEHOLDER, name)\n      if (message.startsWith(NAME_FALLBACK)) {\n        message = capitalize(message)\n      }\n    }\n\n    if (message.includes(CHAIN_PLACEHOLDER)) {\n      const chainName = configs.find((chain) => chain.chainId === safe.chainId)?.chainName ?? 'this network'\n      message = message.replaceAll(CHAIN_PLACEHOLDER, chainName)\n    }\n\n    return {\n      message,\n      severity,\n    }\n  }, [configs, isUnsupportedChain, proposal.params, proposal.verifyContext.verified, safe.chainId])\n}\n","import { Alert, Stack, Typography } from '@mui/material'\nimport type { WalletKitTypes } from '@reown/walletkit'\n\nimport ChainIndicator from '@/components/common/ChainIndicator'\nimport { useCompatibilityWarning } from './useCompatibilityWarning'\nimport useSafeInfo from '@/hooks/useSafeInfo'\n\nimport css from './styles.module.css'\n\nexport const CompatibilityWarning = ({\n  proposal,\n  chainIds,\n}: {\n  proposal: WalletKitTypes.SessionProposal\n  chainIds: Array<string>\n}) => {\n  const { safe } = useSafeInfo()\n  const isUnsupportedChain = !chainIds.includes(safe.chainId)\n  const { severity, message } = useCompatibilityWarning(proposal, isUnsupportedChain)\n\n  return (\n    <>\n      <Alert severity={severity} className={css.alert}>\n        {message}\n      </Alert>\n\n      {isUnsupportedChain && (\n        <>\n          <Typography mt={3} mb={1} variant=\"h5\">\n            Supported networks\n          </Typography>\n\n          <Stack direction=\"row\" className={css.chainContainer}>\n            {chainIds.map((chainId) => (\n              <ChainIndicator inline chainId={chainId} key={chainId} className={css.chain} />\n            ))}\n          </Stack>\n        </>\n      )}\n    </>\n  )\n}\n","import type { WalletKitTypes } from '@reown/walletkit'\nimport { Alert, SvgIcon } from '@mui/material'\nimport AlertIcon from '@/public/images/notifications/alert.svg'\nimport type { ReactElement } from 'react'\nimport { getPeerName } from '@/features/walletconnect/services/utils'\nimport css from './styles.module.css'\n\nconst ProposalVerification = ({ proposal }: { proposal: WalletKitTypes.SessionProposal }): ReactElement | null => {\n  const { isScam, validation } = proposal.verifyContext.verified\n\n  if (validation === 'UNKNOWN' || validation === 'VALID') {\n    return null\n  }\n\n  const appName = getPeerName(proposal.params.proposer)\n\n  return (\n    <Alert\n      severity=\"error\"\n      sx={{ bgcolor: 'error.background' }}\n      className={css.alert}\n      icon={\n        <SvgIcon\n          component={AlertIcon}\n          inheritViewBox\n          color=\"error\"\n          sx={{\n            '& path': {\n              fill: 'error.main',\n            },\n          }}\n        />\n      }\n    >\n      {isScam\n        ? `We prevent connecting to ${appName || 'this dApp'} as they are a known scam.`\n        : `${\n            appName || 'This dApp'\n          } has a domain that does not match the sender of this request. Approving it may result in a loss of funds.`}\n    </Alert>\n  )\n}\nexport default ProposalVerification\n","import SafeAppIconCard from '@/components/safe-apps/SafeAppIconCard'\nimport { WCLoadingState } from '@/features/walletconnect/components/WalletConnectProvider'\nimport {\n  getPeerName,\n  getSupportedChainIds,\n  isBlockedBridge,\n  isSafePassApp,\n  isWarnedBridge,\n} from '@/features/walletconnect/services/utils'\nimport { WalletConnectContext } from '@/features/walletconnect/WalletConnectContext'\nimport useChains from '@/hooks/useChains'\nimport useSafeInfo from '@/hooks/useSafeInfo'\nimport { trackEvent } from '@/services/analytics'\nimport { WALLETCONNECT_EVENTS } from '@/services/analytics/events/walletconnect'\n\nimport { asError } from '@safe-global/utils/services/exceptions/utils'\nimport { Button, Checkbox, CircularProgress, Divider, FormControlLabel, Typography } from '@mui/material'\nimport type { WalletKitTypes } from '@reown/walletkit'\nimport type { ChangeEvent, ReactElement } from 'react'\nimport { type Dispatch, type SetStateAction, useCallback, useContext, useEffect, useMemo, useState } from 'react'\nimport { CompatibilityWarning } from './CompatibilityWarning'\nimport ProposalVerification from './ProposalVerification'\nimport css from './styles.module.css'\nimport { useSanctionedAddress } from '@/hooks/useSanctionedAddress'\nimport BlockedAddress from '@/components/common/BlockedAddress'\n\ntype ProposalFormProps = {\n  proposal: WalletKitTypes.SessionProposal\n  setProposal: Dispatch<SetStateAction<WalletKitTypes.SessionProposal | undefined>>\n  onApprove: () => void\n}\n\nconst WcProposalForm = ({ proposal, setProposal, onApprove }: ProposalFormProps): ReactElement => {\n  const { walletConnect, setError, setIsLoading, isLoading } = useContext(WalletConnectContext)\n\n  const { configs } = useChains()\n  const { safeLoaded, safe } = useSafeInfo()\n  const { chainId } = safe\n  const [understandsRisk, setUnderstandsRisk] = useState(false)\n  const { proposer } = proposal.params\n  const { isScam, origin } = proposal.verifyContext.verified\n  const url = proposer.metadata.url || origin\n\n  const isSafePass = isSafePassApp(origin)\n  const sanctionedAddress = useSanctionedAddress(isSafePass)\n\n  const chainIds = useMemo(() => getSupportedChainIds(configs, proposal.params), [configs, proposal.params])\n  const isUnsupportedChain = !chainIds.includes(chainId)\n\n  const name = getPeerName(proposer) || 'Unknown dApp'\n  const isHighRisk = proposal.verifyContext.verified.validation === 'INVALID' || isWarnedBridge(origin, name)\n  const isBlocked = isScam || isBlockedBridge(origin)\n  const disabled =\n    !safeLoaded ||\n    isUnsupportedChain ||\n    isBlocked ||\n    (isHighRisk && !understandsRisk) ||\n    !!isLoading ||\n    (Boolean(sanctionedAddress) && isSafePass)\n\n  // On session reject\n  const onReject = useCallback(async () => {\n    if (!walletConnect || !proposal) return\n\n    const label = proposal?.params.proposer.metadata.url\n    trackEvent({ ...WALLETCONNECT_EVENTS.REJECT_CLICK, label })\n\n    setIsLoading(WCLoadingState.REJECT)\n\n    try {\n      await walletConnect.rejectSession(proposal)\n    } catch (e) {\n      setIsLoading(undefined)\n      setError(asError(e))\n    }\n\n    setIsLoading(undefined)\n    setProposal(undefined)\n  }, [walletConnect, proposal, setIsLoading, setProposal, setError])\n\n  const onCheckboxClick = useCallback(\n    (_: ChangeEvent, checked: boolean) => {\n      setUnderstandsRisk(checked)\n\n      if (checked) {\n        trackEvent({\n          ...WALLETCONNECT_EVENTS.ACCEPT_RISK,\n          label: url,\n        })\n      }\n    },\n    [url],\n  )\n\n  // Track risk/scam/bridge warnings\n  useEffect(() => {\n    if (isHighRisk || isBlocked) {\n      trackEvent({\n        ...WALLETCONNECT_EVENTS.SHOW_RISK,\n        label: url,\n      })\n    }\n  }, [isHighRisk, isBlocked, url])\n\n  // Track unsupported chain warnings\n  useEffect(() => {\n    if (isUnsupportedChain) {\n      trackEvent({\n        ...WALLETCONNECT_EVENTS.UNSUPPORTED_CHAIN,\n        label: url,\n      })\n    }\n  }, [url, isUnsupportedChain])\n\n  return (\n    <div className={css.container}>\n      <Typography variant=\"body2\" color=\"text.secondary\">\n        WalletConnect\n      </Typography>\n\n      {proposer.metadata.icons[0] && (\n        <div className={css.icon}>\n          <SafeAppIconCard src={proposer.metadata.icons[0]} width={32} height={32} alt={`${name || 'dApp'} logo`} />\n        </div>\n      )}\n\n      <Typography mb={1}>\n        <b>{name}</b> wants to connect\n      </Typography>\n\n      <Typography className={css.origin} mb={3}>\n        {proposal.verifyContext.verified.origin}\n      </Typography>\n\n      <div className={css.info}>\n        <ProposalVerification proposal={proposal} />\n\n        <CompatibilityWarning proposal={proposal} chainIds={chainIds} />\n      </div>\n\n      {!isBlocked && isHighRisk && (\n        <FormControlLabel\n          className={css.checkbox}\n          control={<Checkbox checked={understandsRisk} onChange={onCheckboxClick} />}\n          label=\"I understand the risks associated with interacting with this dApp and would like to continue.\"\n        />\n      )}\n\n      {isSafePass && sanctionedAddress && (\n        <BlockedAddress address={sanctionedAddress} featureTitle=\"Safe{Pass}\" onClose={onReject} />\n      )}\n\n      <Divider flexItem className={css.divider} />\n\n      <div className={css.buttons}>\n        <Button variant=\"danger\" onClick={onReject} className={css.button} disabled={!!isLoading}>\n          {isLoading === WCLoadingState.REJECT ? <CircularProgress size={20} /> : 'Reject'}\n        </Button>\n\n        <Button variant=\"contained\" onClick={() => onApprove()} className={css.button} disabled={disabled}>\n          {isLoading === WCLoadingState.APPROVE ? <CircularProgress size={20} /> : 'Approve'}\n        </Button>\n      </div>\n    </div>\n  )\n}\n\nexport default WcProposalForm\n","import { WCLoadingState } from '@/features/walletconnect/components/WalletConnectProvider'\nimport useSafeInfo from '@/hooks/useSafeInfo'\nimport { asError } from '@safe-global/utils/services/exceptions/utils'\nimport useLocalStorage from '@/services/local-storage/useLocalStorage'\nimport { useCallback, useContext, useEffect, useState } from 'react'\nimport type { WalletKitTypes } from '@reown/walletkit'\nimport type { SessionTypes } from '@walletconnect/types'\nimport { WalletConnectContext } from '@/features/walletconnect/WalletConnectContext'\nimport WcConnectionForm from '../WcConnectionForm'\nimport WcErrorMessage from '../WcErrorMessage'\nimport WcProposalForm from '../WcProposalForm'\nimport { trackEvent } from '@/services/analytics'\nimport { WALLETCONNECT_EVENTS } from '@/services/analytics/events/walletconnect'\nimport { splitError } from '@/features/walletconnect/services/utils'\n\ntype WcSessionManagerProps = {\n  sessions: SessionTypes.Struct[]\n  uri: string\n}\n\n// chainId -> origin -> boolean\ntype WcAutoApproveProps = Record<string, Record<string, boolean>>\n\nconst WC_AUTO_APPROVE_KEY = 'wcAutoApprove'\n\nconst WcSessionManager = ({ sessions, uri }: WcSessionManagerProps) => {\n  const [autoApprove = {}, setAutoApprove] = useLocalStorage<WcAutoApproveProps>(WC_AUTO_APPROVE_KEY)\n  const { walletConnect, error, setError, open, setOpen, setIsLoading } = useContext(WalletConnectContext)\n  const { safe, safeAddress } = useSafeInfo()\n  const { chainId } = safe\n  const [proposal, setProposal] = useState<WalletKitTypes.SessionProposal>()\n\n  // On session approve\n  const onApprove = useCallback(\n    async (proposalData?: WalletKitTypes.SessionProposal) => {\n      const sessionProposal = proposalData || proposal\n\n      if (!walletConnect || !chainId || !safeAddress || !sessionProposal) return\n\n      const label = sessionProposal?.params.proposer.metadata.url\n      trackEvent({ ...WALLETCONNECT_EVENTS.APPROVE_CLICK, label })\n\n      setIsLoading(WCLoadingState.APPROVE)\n\n      try {\n        await walletConnect.approveSession(sessionProposal, chainId, safeAddress, {\n          capabilities: JSON.stringify({\n            [safeAddress]: {\n              [`0x${Number(chainId).toString(16)}`]: {\n                atomicBatch: {\n                  supported: true,\n                },\n              },\n            },\n          }),\n        })\n\n        // Auto approve future sessions for non-malicious dApps\n        if (\n          sessionProposal.verifyContext.verified.validation !== 'INVALID' &&\n          !sessionProposal.verifyContext.verified.isScam\n        ) {\n          setAutoApprove((prev) => ({\n            ...prev,\n            [chainId]: { ...prev?.[chainId], [sessionProposal.verifyContext.verified.origin]: true },\n          }))\n        }\n\n        setOpen(false)\n      } catch (e) {\n        setIsLoading(undefined)\n        setError(asError(e))\n        return\n      }\n\n      trackEvent({ ...WALLETCONNECT_EVENTS.CONNECTED, label })\n      setIsLoading(undefined)\n      setProposal(undefined)\n    },\n    [proposal, walletConnect, chainId, safeAddress, setIsLoading, setOpen, setAutoApprove, setError],\n  )\n\n  // Reset error\n  const onErrorReset = useCallback(() => {\n    setError(null)\n  }, [setError])\n\n  // Subscribe to session proposals\n  useEffect(() => {\n    if (!walletConnect) return\n    return walletConnect.onSessionPropose((proposalData) => {\n      setError(null)\n\n      if (autoApprove[chainId]?.[proposalData.verifyContext.verified.origin]) {\n        onApprove(proposalData)\n        return\n      }\n\n      setProposal(proposalData)\n      setIsLoading(undefined)\n    })\n  }, [autoApprove, chainId, onApprove, setError, setIsLoading, walletConnect])\n\n  // Track errors\n  useEffect(() => {\n    if (error) {\n      // The summary of the error\n      const label = splitError(error.message || '')[0]\n      trackEvent({ ...WALLETCONNECT_EVENTS.SHOW_ERROR, label })\n    }\n  }, [error])\n\n  // Nothing to show\n  if (!open) return null\n\n  // Error\n  if (error) {\n    return <WcErrorMessage error={error} onClose={onErrorReset} />\n  }\n\n  // Session proposal\n  if (proposal) {\n    return <WcProposalForm proposal={proposal} setProposal={setProposal} onApprove={onApprove} />\n  }\n\n  // Connection form (initial state)\n  return <WcConnectionForm sessions={sessions} uri={uri} />\n}\n\nexport default WcSessionManager\n","import { useCallback, useContext, useEffect } from 'react'\nimport { ErrorBoundary } from '@sentry/react'\nimport useSafeInfo from '@/hooks/useSafeInfo'\nimport useWalletConnectSessions from '@/features/walletconnect/hooks/useWalletConnectSessions'\nimport { WalletConnectContext } from '@/features/walletconnect/WalletConnectContext'\nimport useWcUri from '../../hooks/useWcUri'\nimport WcHeaderWidget from '../WcHeaderWidget'\nimport WcSessionManager from '../WcSessionManager'\nimport { WalletConnectProvider } from '../WalletConnectProvider'\n\nconst WalletConnectWidget = () => {\n  const { walletConnect, error, open, setOpen } = useContext(WalletConnectContext)\n  const [uri, clearUri] = useWcUri()\n  const sessions = useWalletConnectSessions()\n  const { safeLoaded } = useSafeInfo()\n\n  const onOpen = useCallback(() => {\n    setOpen(true)\n  }, [setOpen])\n\n  const onClose = useCallback(() => {\n    setOpen(false)\n  }, [setOpen])\n\n  // Open the popup if there is a pairing code in the URL or clipboard\n  useEffect(() => {\n    if (safeLoaded && uri) {\n      onOpen()\n    }\n  }, [safeLoaded, uri, onOpen])\n\n  // Clear the pairing code when connected\n  useEffect(() => {\n    return walletConnect?.onSessionPropose(clearUri)\n  }, [walletConnect, clearUri])\n\n  return (\n    <WcHeaderWidget isError={!!error} isOpen={open} onOpen={onOpen} onClose={onClose} sessions={sessions}>\n      <WcSessionManager sessions={sessions} uri={uri} />\n    </WcHeaderWidget>\n  )\n}\n\nconst WalletConnectUi = () => (\n  <ErrorBoundary>\n    <WalletConnectProvider>\n      <WalletConnectWidget />\n    </WalletConnectProvider>\n  </ErrorBoundary>\n)\n\nexport default WalletConnectUi\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"icon\":\"styles_icon__O4UEn\",\"errorBadge\":\"styles_errorBadge__r_Gpr\",\"title\":\"styles_title__p_DXz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sessionList\":\"styles_sessionList__YcInr\",\"sessionListItem\":\"styles_sessionListItem__Dnlgi\",\"sessionListAvatar\":\"styles_sessionListAvatar__US8bU\",\"sessionListSecondaryAction\":\"styles_sessionListSecondaryAction__cHMUX\",\"button\":\"styles_button__6qVTX\"};"],"names":["WC_URI_SEARCH_PARAM","useWalletConnectSearchParamUri","router","useRouter","query","toString","useCallback","newQuery","wcUri","replace","pathname","WalletConnectContext","createContext","walletConnect","error","setError","open","setOpen","isLoading","undefined","setIsLoading","useWalletConnectSessions","useContext","sessions","setSessions","useState","updateSessions","getActiveSessions","useEffect","onSessionAdd","onSessionDelete","searchParamWcUri","setSearchParamWcUri","useWcUri","Popup","children","props","Popover","anchorOrigin","vertical","horizontal","transformOrigin","sx","top","overflowY","Paper","p","width","WALLETCONNECT_CATEGORY","WALLETCONNECT_EVENTS","CONNECTED","action","category","event","EventType","META","POPUP_OPENED","DISCONNECT_CLICK","APPROVE_CLICK","REJECT_CLICK","PASTE_CLICK","HINTS_SHOW","HINTS_HIDE","HINTS_EXPAND","SHOW_RISK","ACCEPT_RISK","UNSUPPORTED_CHAIN","SHOW_ERROR","REQUEST","sessionCount","WcIcon","sessionIcon","isError","onClick","showIcon","Track","ButtonBase","title","Badge","variant","badgeContent","SafeAppIconCard","alt","src","height","color","SvgIcon","component","WalletConnectIcon","inheritViewBox","fontSize","WcHeaderWidget","iconRef","useRef","div","ref","onOpen","length","peer","metadata","icons","keepMounted","anchorEl","current","isOpen","onClose","transitionDuration","showNotification","options","Notification","permission","document","hasFocus","notification","icon","onclick","window","focus","close","setTimeout","SIGNATURE_REQUEST","body","BRAND_NAME","appInfo","name","TRANSACTION_REQUEST","useTxFlowApi","chainId","safeAddress","safe","useSafeInfo","currentChain","useCurrentChain","setTxFlow","TxModalContext","web3ReadOnly","useWeb3ReadOnly","configs","useChains","pendingTxs","onChainSigning","useAppSelector","selectOnChainSigning","settings","setSettings","offChainSigning","txSubscribe","TxEvent","PROCESSING","txId","txHash","useMemo","signMessage","message","method","id","Math","random","slice","shouldSignOffChain","isOffchainEIP1271Supported","NotificationMessages","Promise","resolve","reject","code","RpcErrorCode","USER_REJECTED","unsubscribe","unsubscribeSignaturePrepared","safeMsgSubscribe","SafeMsgEvent","SIGNATURE_PREPARED","requestId","signature","SignMessageFlow","iconUrl","origin","url","SignMessageOnChainFlow","Methods","signTypedMessage","typedData","send","params","transactions","txs","map","to","value","data","getAddress","BigInt","SafeAppsTxFlow","appId","app","onSubmit","safeTxHash","getBySafeTxHash","getTransactionDetails","switchChain","hexChainId","decimalChainId","cfg","find","c","confirm","shortName","push","AppRoutes","index","chain","showTxStatus","tx","setSafeSettings","newSettings","res","proxy","getCreateCallTransaction","createCallDeployment","getCreateCallContractDeployment","version","createCallAddress","networkAddresses","createCallInterface","callData","Interface","abi","encodeFunctionData","useSafeWalletProvider","txFlowApi","SafeWalletProvider","Number","trackedRequests","trackRequest","peerUrl","includes","trackEvent","label","SESSION_ADD_EVENT","SESSION_REJECT_EVENT","assertWeb3Wallet","web3Wallet","invariant","WalletConnectWallet","init","core","Core","projectId","WC_PROJECT_ID","logger","IS_PRODUCTION","customStoragePrefix","LS_NAMESPACE","web3wallet","WalletKit","SAFE_WALLET_METADATA","connect","uri","pairing","pair","chainChanged","topic","eipChainId","getEip155ChainId","emitSessionEvent","accountsChanged","address","getNamespaces","proposal","currentChainId","eip155ChainIds","concat","requiredChains","requiredNamespaces","EIP155","chains","stripEip155Prefix","eip155Accounts","eip155ChainId","methods","uniq","SAFE_COMPATIBLE_METHODS","events","SAFE_COMPATIBLE_EVENTS","buildApprovedNamespaces","supportedNamespaces","accounts","approveSession","sessionProperties","namespaces","session","emit","updateSession","currentEip155ChainIds","currentEip155Accounts","newEip155ChainId","newEip155Account","isUnsupportedChain","isNewSessionSafe","disconnectSession","rejectSession","reason","getSdkError","handler","on","off","Object","values","sendSessionResponse","response","respondSessionRequest","Errors","WCLoadingState","walletConnectSingleton","getWrongChainError","dappName","WalletConnectProvider","wcPopupStore","setWalletConnect","useStore","setStore","safeWalletProvider","then","catch","log","s","requestChainId","request","getResponse","getPeerName","formatJsonRpcError","LEGACY_WC_APP_URL","description","e","asError","Provider","HintAccordion","items","expanded","onExpand","Accordion","AccordionSummary","expandIcon","ExpandMoreIcon","Typography","className","css","Question","AccordionDetails","List","item","i","ListItem","ListItemAvatar","Avatar","ListItemText","primary","m","primaryTypographyProps","ConnectionSteps","InteractionSteps","expandedAccordion","setExpandedAccordion","WcHints","prev","accordion","Box","display","flexDirection","gap","ConnectionTitle","InteractionTitle","SAMPLE_DAPPS","WcSampleDapps","onUnload","justifyContent","alignItems","mt","ExternalLink","href","noIcon","px","img","style","marginRight","safeLoaded","WcNoSessions","showDapps","useLocalStorage","LS_KEY","setShowDapps","sampleDapps","textAlign","WcSessionListItem","MAX_NAME_LENGTH","onDisconnect","DISCONNECT","ListItemIcon","Button","disabled","CircularProgress","size","WcSessionList","isClipboardSupported","navigator","userAgent","getClipboard","clipboard","readText","logError","_708","useTrackErrors","debouncedErrorMessage","useDebounce","WcInput","setValue","inputError","setInputError","onInput","val","isPairingUri","CONNECT","APPROVE","Error","PROPOSAL_TIMEOUT","onPaste","TextField","data-testid","onChange","target","fullWidth","autoComplete","autoFocus","placeholder","spellCheck","InputProps","endAdornment","InputAdornment","position","py","errorMessage","WcLogoHeader","WalletConnect","Alert","mb","showHints","setShowHints","WC_HINTS_KEY","onToggle","Grid","Tooltip","placement","arrow","span","IconButton","InfoIcon","Divider","flexItem","WcErrorMessage","summary","details","splitError","NAME_FALLBACK","NAME_PLACEHOLDER","CHAIN_PLACEHOLDER","Warnings","BLOCKED_BRIDGE","severity","WARNED_BRIDGE","WRONG_CHAIN","_getWarning","isBlockedBridge","isWarnedBridge","useCompatibilityWarning","proposer","verifyContext","verified","replaceAll","startsWith","capitalize","chainName","CompatibilityWarning","chainIds","Stack","direction","ChainIndicator","inline","isScam","ProposalVerification","validation","appName","bgcolor","AlertIcon","fill","WcProposalForm","setProposal","onApprove","understandsRisk","setUnderstandsRisk","isSafePass","isSafePassApp","sanctionedAddress","useSanctionedAddress","getSupportedChainIds","isHighRisk","isBlocked","Boolean","onReject","REJECT","onCheckboxClick","_","checked","b","FormControlLabel","control","Checkbox","BlockedAddress","featureTitle","autoApprove","setAutoApprove","WC_AUTO_APPROVE_KEY","proposalData","sessionProposal","capabilities","JSON","stringify","atomicBatch","supported","onErrorReset","onSessionPropose","WcConnectionForm","WalletConnectWidget","clearUri","WcSessionManager","ErrorBoundary","WalletConnectUi"],"sourceRoot":"","ignoreList":[2]}