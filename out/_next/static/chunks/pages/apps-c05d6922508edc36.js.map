{"version":3,"file":"static/chunks/pages/apps-c05d6922508edc36.js","mappings":"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","sources":["webpack://_N_E/./src/components/safe-apps/SafeAppsFilters/index.tsx","webpack://_N_E/./src/hooks/safe-apps/useCategoryFilter.ts","webpack://_N_E/./src/hooks/safe-apps/useAppsFilterByCategory.ts","webpack://_N_E/./src/hooks/safe-apps/useAppsSearch.ts","webpack://_N_E/./src/hooks/safe-apps/useAppsFilterByOptimizedForBatch.ts","webpack://_N_E/./src/hooks/safe-apps/useSafeAppsFilters.ts","webpack://_N_E/./src/pages/apps/index.tsx","webpack://_N_E/?d5da","webpack://_N_E/./src/components/safe-apps/SafeAppsFilters/styles.module.css"],"sourcesContent":["import Grid from '@mui/material/Grid'\nimport TextField from '@mui/material/TextField'\nimport InputAdornment from '@mui/material/InputAdornment'\nimport SvgIcon from '@mui/material/SvgIcon'\nimport InputLabel from '@mui/material/InputLabel'\nimport MenuItem from '@mui/material/MenuItem'\nimport OutlinedInput from '@mui/material/OutlinedInput'\nimport ListItemText from '@mui/material/ListItemText'\nimport Select from '@mui/material/Select'\nimport IconButton from '@mui/material/IconButton'\nimport Box from '@mui/material/Box'\nimport Checkbox from '@mui/material/Checkbox'\nimport FormLabel from '@mui/material/FormLabel'\nimport FormControl from '@mui/material/FormControl'\nimport FormControlLabel from '@mui/material/FormControlLabel'\nimport Tooltip from '@mui/material/Tooltip'\nimport CloseIcon from '@mui/icons-material/Close'\nimport type { SelectChangeEvent } from '@mui/material/Select'\nimport type { SafeAppData } from '@safe-global/safe-gateway-typescript-sdk'\n\nimport { getUniqueTags } from '@/components/safe-apps/utils'\nimport SearchIcon from '@/public/images/common/search.svg'\nimport BatchIcon from '@/public/images/apps/batch-icon.svg'\nimport css from './styles.module.css'\n\nexport type safeAppCatogoryOptionType = {\n  label: string\n  value: string\n}\n\ntype SafeAppsFiltersProps = {\n  onChangeQuery: (newQuery: string) => void\n  onChangeFilterCategory: (category: string[]) => void\n  onChangeOptimizedWithBatch: (optimizedWithBatch: boolean) => void\n  selectedCategories: string[]\n  safeAppsList: SafeAppData[]\n}\n\nconst SafeAppsFilters = ({\n  onChangeQuery,\n  onChangeFilterCategory,\n  onChangeOptimizedWithBatch,\n  selectedCategories,\n  safeAppsList,\n}: SafeAppsFiltersProps) => {\n  const categoryOptions = getCategoryOptions(safeAppsList)\n\n  return (\n    <Grid container spacing={2} className={css.filterContainer}>\n      <Grid item xs={12} sm={12} md={6} lg={6}>\n        {/* Search by name */}\n        <TextField\n          id=\"search-by-name\"\n          placeholder=\"Search by name or category\"\n          aria-label=\"Search Safe App by name\"\n          variant=\"filled\"\n          hiddenLabel\n          onChange={(e) => {\n            onChangeQuery(e.target.value)\n          }}\n          InputProps={{\n            startAdornment: (\n              <InputAdornment position=\"start\">\n                <SvgIcon component={SearchIcon} inheritViewBox color=\"border\" />\n              </InputAdornment>\n            ),\n            disableUnderline: true,\n          }}\n          fullWidth\n          size=\"small\"\n          sx={{\n            '& > .MuiInputBase-root': { padding: '8px 16px' },\n          }}\n        />\n      </Grid>\n\n      {/* Select Category */}\n      <Grid item xs={12} sm={6} md={3} lg={3}>\n        <FormControl fullWidth>\n          <InputLabel id=\"select-safe-app-category-label\" shrink>\n            Category\n          </InputLabel>\n          <Select\n            labelId=\"select-safe-app-category-label\"\n            id=\"safe-app-category-selector\"\n            displayEmpty\n            multiple\n            value={selectedCategories}\n            onChange={(event: SelectChangeEvent<string[]>) => {\n              onChangeFilterCategory(event.target.value as string[])\n            }}\n            input={<OutlinedInput label=\"Category\" fullWidth notched sx={{ paddingRight: '18px' }} />}\n            renderValue={(selected) =>\n              selected.length === 0 ? 'Select category' : `${selected.length} categories selected`\n            }\n            fullWidth\n            MenuProps={categoryMenuProps}\n          >\n            {categoryOptions.length > 0 ? (\n              categoryOptions.map((category) => (\n                <MenuItem\n                  sx={{ padding: '0 6px 2px 6px', height: CATEGORY_OPTION_HEIGHT }}\n                  key={category.value}\n                  value={category.value}\n                  disableGutters\n                >\n                  <Checkbox\n                    disableRipple\n                    sx={{ '& .MuiSvgIcon-root': { fontSize: 24 }, padding: '3px' }}\n                    checked={selectedCategories.includes(category.value)}\n                  />\n                  <ListItemText\n                    primary={category.label}\n                    primaryTypographyProps={{ fontSize: 14, paddingLeft: '5px' }}\n                  />\n                </MenuItem>\n              ))\n            ) : (\n              <MenuItem disabled sx={{ padding: '0 6px 2px 6px', height: CATEGORY_OPTION_HEIGHT }} disableGutters>\n                <ListItemText\n                  primary=\"No categories defined\"\n                  primaryTypographyProps={{ fontSize: 14, paddingLeft: '5px' }}\n                />\n              </MenuItem>\n            )}\n          </Select>\n\n          {/* clear selected categories button */}\n          {selectedCategories.length > 0 && (\n            <Tooltip title=\"clear selected categories\" placement=\"top\">\n              <IconButton\n                onClick={() => {\n                  onChangeFilterCategory([])\n                }}\n                sx={{ position: 'absolute', top: '16px', right: '28px' }}\n                color=\"default\"\n                component=\"label\"\n                size=\"small\"\n              >\n                <CloseIcon fontSize=\"small\" />\n              </IconButton>\n            </Tooltip>\n          )}\n        </FormControl>\n      </Grid>\n\n      {/* Optimized with Batch Transaction */}\n      <Grid item xs={12} sm={6} md={3} lg={3}>\n        <Tooltip\n          title={\n            <div style={{ textAlign: 'center' }}>\n              Merge multiple transactions into one to save time and gas fees inside apps offering this feature\n            </div>\n          }\n        >\n          <FormControl variant=\"standard\">\n            <FormLabel className={css.optimizedWithBatchLabel}>Optimized with</FormLabel>\n            <FormControlLabel\n              control={<Checkbox />}\n              onChange={(_, value) => {\n                onChangeOptimizedWithBatch(value)\n              }}\n              label={\n                <Box display=\"flex\" alignItems=\"center\" gap={1}>\n                  <span>Batch transactions</span> <BatchIcon />\n                </Box>\n              }\n            />\n          </FormControl>\n        </Tooltip>\n      </Grid>\n    </Grid>\n  )\n}\n\nexport default SafeAppsFilters\n\nconst CATEGORY_OPTION_HEIGHT = 34\nconst CATEGORY_OPTION_PADDING_TOP = 8\nconst ITEMS_SHOWED = 11.5\nconst categoryMenuProps = {\n  sx: {\n    '& .MuiList-root': { padding: '9px 0' },\n  },\n  PaperProps: {\n    style: {\n      maxHeight: CATEGORY_OPTION_HEIGHT * ITEMS_SHOWED + CATEGORY_OPTION_PADDING_TOP,\n      overflow: 'scroll',\n    },\n  },\n}\n\nexport const getCategoryOptions = (safeAppList: SafeAppData[]): safeAppCatogoryOptionType[] => {\n  return getUniqueTags(safeAppList).map((category) => ({\n    label: category,\n    value: category,\n  }))\n}\n","import { type Dispatch, type SetStateAction, useEffect } from 'react'\nimport { useRouter } from 'next/router'\nimport { getCategoryOptions } from '@/components/safe-apps/SafeAppsFilters'\nimport type { SafeAppData } from '@safe-global/safe-gateway-typescript-sdk'\n\nconst useCategoryFilter = ({\n  safeAppsList,\n  selectedCategories,\n  setSelectedCategories,\n}: {\n  safeAppsList: SafeAppData[]\n  selectedCategories: string[]\n  setSelectedCategories: Dispatch<SetStateAction<string[]>>\n}) => {\n  const router = useRouter()\n\n  useEffect(() => {\n    if (!router.isReady) return\n\n    const categoryOptions = getCategoryOptions(safeAppsList).map((category) => category.value)\n    const categoryQuery = Array.isArray(router.query.categories) ? router.query.categories[0] : router.query.categories\n\n    if (categoryQuery && selectedCategories.length === 0) {\n      const categoryQueryOptions = categoryQuery.split(',')\n      const isCategoryOption = categoryQueryOptions.every((category) => categoryOptions.includes(category))\n\n      if (!isCategoryOption) return\n\n      setSelectedCategories(categoryQueryOptions)\n    }\n  }, [router.isReady, router.query.categories, safeAppsList, selectedCategories.length, setSelectedCategories])\n\n  const onSelectCategories = async (selectedCategories: string[]) => {\n    const { categories: _, ...restProps } = router.query\n\n    await router.push(\n      {\n        pathname: router.pathname,\n        query:\n          selectedCategories.length === 0 ? restProps : { ...router.query, categories: selectedCategories.join(',') },\n      },\n      undefined,\n      {\n        shallow: true,\n      },\n    )\n\n    setSelectedCategories(selectedCategories)\n  }\n\n  return { onSelectCategories }\n}\n\nexport default useCategoryFilter\n","import { useMemo } from 'react'\nimport type { SafeAppData } from '@safe-global/safe-gateway-typescript-sdk'\n\nconst useAppsFilterByCategory = (safeApps: SafeAppData[], selectedCategories: string[]): SafeAppData[] => {\n  const filteredApps = useMemo(() => {\n    const hasSelectedCategories = selectedCategories.length > 0\n\n    if (hasSelectedCategories) {\n      return safeApps.filter((safeApp) => selectedCategories.some((category) => safeApp.tags.includes(category)))\n    }\n\n    return safeApps\n  }, [safeApps, selectedCategories])\n\n  return filteredApps\n}\n\nexport { useAppsFilterByCategory }\n","import { useMemo } from 'react'\nimport Fuse from 'fuse.js'\nimport type { SafeAppData } from '@safe-global/safe-gateway-typescript-sdk'\n\nconst useAppsSearch = (apps: SafeAppData[], query: string): SafeAppData[] => {\n  const fuse = useMemo(\n    () =>\n      new Fuse(apps, {\n        keys: [\n          {\n            name: 'name',\n            weight: 0.99,\n          },\n          {\n            name: 'description',\n            weight: 0.5,\n          },\n          {\n            name: 'tags',\n            weight: 0.99,\n          },\n        ],\n        // https://fusejs.io/api/options.html#threshold\n        // Very naive explanation: threshold represents how accurate the search results should be. The default is 0.6\n        // I tested it and found it to make the search results more accurate when the threshold is 0.3\n        // 0 - 1, where 0 is the exact match and 1 matches anything\n        threshold: 0.3,\n        findAllMatches: true,\n      }),\n    [apps],\n  )\n\n  const results = useMemo(() => (query ? fuse.search(query).map((result) => result.item) : apps), [fuse, apps, query])\n\n  return results\n}\n\nexport { useAppsSearch }\n","import { useMemo } from 'react'\nimport type { SafeAppData } from '@safe-global/safe-gateway-typescript-sdk'\n\nimport { isOptimizedForBatchTransactions } from '@/components/safe-apps/utils'\n\nconst useAppsFilterByOptimizedForBatch = (\n  safeApps: SafeAppData[],\n  optimizedWithBatchFilter: boolean,\n): SafeAppData[] => {\n  const filteredApps = useMemo(() => {\n    if (optimizedWithBatchFilter) {\n      return safeApps.filter((safeApp) => isOptimizedForBatchTransactions(safeApp))\n    }\n\n    return safeApps\n  }, [safeApps, optimizedWithBatchFilter])\n\n  return filteredApps\n}\n\nexport { useAppsFilterByOptimizedForBatch }\n","import useCategoryFilter from '@/hooks/safe-apps/useCategoryFilter'\nimport { useEffect, useState } from 'react'\nimport type { Dispatch, SetStateAction } from 'react'\nimport type { SafeAppData } from '@safe-global/safe-gateway-typescript-sdk'\n\nimport { useAppsFilterByCategory } from './useAppsFilterByCategory'\nimport { useAppsSearch } from './useAppsSearch'\nimport { useAppsFilterByOptimizedForBatch } from './useAppsFilterByOptimizedForBatch'\nimport useDebounce from '../useDebounce'\nimport { SAFE_APPS_EVENTS, trackSafeAppEvent } from '@/services/analytics'\n\ntype ReturnType = {\n  query: string\n  setQuery: Dispatch<SetStateAction<string>>\n  selectedCategories: string[]\n  setSelectedCategories: (categories: string[]) => void\n  optimizedWithBatchFilter: boolean\n  setOptimizedWithBatchFilter: Dispatch<SetStateAction<boolean>>\n  filteredApps: SafeAppData[]\n}\n\nconst useSafeAppsFilters = (safeAppsList: SafeAppData[]): ReturnType => {\n  const [query, setQuery] = useState<string>('')\n  const [selectedCategories, setSelectedCategories] = useState<string[]>([])\n  const [optimizedWithBatchFilter, setOptimizedWithBatchFilter] = useState<boolean>(false)\n\n  const filteredAppsByQuery = useAppsSearch(safeAppsList, query)\n  const filteredAppsByQueryAndCategories = useAppsFilterByCategory(filteredAppsByQuery, selectedCategories)\n  const filteredApps = useAppsFilterByOptimizedForBatch(filteredAppsByQueryAndCategories, optimizedWithBatchFilter)\n\n  const { onSelectCategories } = useCategoryFilter({\n    safeAppsList,\n    selectedCategories,\n    setSelectedCategories,\n  })\n\n  const debouncedSearchQuery = useDebounce(query, 2000)\n  useEffect(() => {\n    if (debouncedSearchQuery) {\n      trackSafeAppEvent({ ...SAFE_APPS_EVENTS.SEARCH, label: debouncedSearchQuery })\n    }\n  }, [debouncedSearchQuery])\n\n  return {\n    query,\n    setQuery,\n\n    selectedCategories,\n    setSelectedCategories: onSelectCategories,\n\n    optimizedWithBatchFilter,\n    setOptimizedWithBatchFilter,\n\n    filteredApps,\n  }\n}\n\nexport default useSafeAppsFilters\n","import type { NextPage } from 'next'\nimport Head from 'next/head'\nimport { useRouter } from 'next/router'\nimport { useCallback, useEffect, useMemo } from 'react'\nimport debounce from 'lodash/debounce'\nimport type { SafeAppData } from '@safe-global/safe-gateway-typescript-sdk'\n\nimport { useSafeApps } from '@/hooks/safe-apps/useSafeApps'\nimport SafeAppsSDKLink from '@/components/safe-apps/SafeAppsSDKLink'\nimport SafeAppsHeader from '@/components/safe-apps/SafeAppsHeader'\nimport SafeAppList from '@/components/safe-apps/SafeAppList'\nimport { AppRoutes } from '@/config/routes'\nimport useSafeAppsFilters from '@/hooks/safe-apps/useSafeAppsFilters'\nimport SafeAppsFilters from '@/components/safe-apps/SafeAppsFilters'\nimport { useHasFeature } from '@/hooks/useChains'\nimport { SAFE_APPS_LABELS } from '@/services/analytics'\nimport { BRAND_NAME } from '@/config/constants'\nimport { FEATURES } from '@safe-global/utils/utils/chains'\n\nconst SafeApps: NextPage = () => {\n  const router = useRouter()\n  const { remoteSafeApps, remoteSafeAppsLoading, pinnedSafeApps, pinnedSafeAppIds } = useSafeApps()\n  const { filteredApps, query, setQuery, setSelectedCategories, setOptimizedWithBatchFilter, selectedCategories } =\n    useSafeAppsFilters(remoteSafeApps)\n  const isFiltered = filteredApps.length !== remoteSafeApps.length\n  const isSafeAppsEnabled = useHasFeature(FEATURES.SAFE_APPS)\n\n  const featuredSafeApps = useMemo(() => {\n    // TODO: Remove assertion after migrating to new SDK\n    return remoteSafeApps.filter((app) => (app as SafeAppData & { featured: boolean }).featured)\n  }, [remoteSafeApps])\n\n  const nonPinnedApps = useMemo(\n    () => remoteSafeApps.filter((app) => !pinnedSafeAppIds.has(app.id)),\n    [remoteSafeApps, pinnedSafeAppIds],\n  )\n\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  const onChangeQuery = useCallback(debounce(setQuery, 300), [])\n\n  // Redirect to an individual safe app page if the appUrl is in the query params\n  useEffect(() => {\n    const appUrl = router.query.appUrl as string\n    if (appUrl) {\n      router.push({ pathname: AppRoutes.apps.open, query: { safe: router.query.safe, appUrl } })\n    }\n  }, [router])\n\n  if (!isSafeAppsEnabled) return <></>\n\n  return (\n    <>\n      <Head>\n        <title>{`${BRAND_NAME} â€“ Safe Apps`}</title>\n      </Head>\n\n      <SafeAppsSDKLink />\n\n      <SafeAppsHeader />\n\n      <main>\n        {/* Safe Apps Filters */}\n        <SafeAppsFilters\n          onChangeQuery={onChangeQuery}\n          onChangeFilterCategory={setSelectedCategories}\n          onChangeOptimizedWithBatch={setOptimizedWithBatchFilter}\n          selectedCategories={selectedCategories}\n          safeAppsList={remoteSafeApps}\n        />\n\n        {/* Pinned apps */}\n        {!isFiltered && pinnedSafeApps.length > 0 && (\n          <SafeAppList\n            title=\"My pinned apps\"\n            safeAppsList={pinnedSafeApps}\n            bookmarkedSafeAppsId={pinnedSafeAppIds}\n            eventLabel={SAFE_APPS_LABELS.apps_pinned}\n          />\n        )}\n\n        {/* Featured apps */}\n        {!isFiltered && featuredSafeApps.length > 0 && (\n          <SafeAppList\n            title=\"Featured apps\"\n            safeAppsList={featuredSafeApps}\n            bookmarkedSafeAppsId={pinnedSafeAppIds}\n            eventLabel={SAFE_APPS_LABELS.apps_featured}\n          />\n        )}\n\n        {/* All apps */}\n        <SafeAppList\n          title=\"All apps\"\n          isFiltered={isFiltered}\n          safeAppsList={isFiltered ? filteredApps : nonPinnedApps}\n          safeAppsListLoading={remoteSafeAppsLoading}\n          bookmarkedSafeAppsId={pinnedSafeAppIds}\n          eventLabel={SAFE_APPS_LABELS.apps_all}\n          query={query}\n          showNativeSwapsCard\n        />\n      </main>\n    </>\n  )\n}\n\nexport default SafeApps\n","\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/apps\",\n      function () {\n        return require(\"private-next-pages/apps/index.tsx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/apps\"])\n      });\n    }\n  ","// extracted by mini-css-extract-plugin\nmodule.exports = {\"filterContainer\":\"styles_filterContainer__jzg51\",\"optimizedWithBatchLabel\":\"styles_optimizedWithBatchLabel__RREdf\"};"],"names":["onChangeQuery","SafeAppsFilters","onChangeFilterCategory","onChangeOptimizedWithBatch","selectedCategories","safeAppsList","categoryOptions","getCategoryOptions","Grid","container","spacing","className","css","item","xs","sm","md","lg","TextField","id","placeholder","aria-label","variant","hiddenLabel","onChange","e","target","value","InputProps","startAdornment","InputAdornment","position","SvgIcon","component","SearchIcon","inheritViewBox","color","disableUnderline","fullWidth","size","sx","padding","FormControl","InputLabel","shrink","Select","labelId","displayEmpty","multiple","event","input","OutlinedInput","label","notched","paddingRight","renderValue","selected","length","MenuProps","categoryMenuProps","map","MenuItem","height","CATEGORY_OPTION_HEIGHT","category","disableGutters","Checkbox","disableRipple","fontSize","checked","includes","ListItemText","primary","primaryTypographyProps","paddingLeft","disabled","Tooltip","title","placement","IconButton","onClick","top","right","CloseIcon","div","style","textAlign","FormLabel","FormControlLabel","control","_","Box","display","alignItems","gap","span","BatchIcon","PaperProps","maxHeight","overflow","ITEMS_SHOWED","safeAppList","getUniqueTags","CATEGORY_OPTION_PADDING_TOP","useCategoryFilter","setSelectedCategories","router","useRouter","useEffect","isReady","categoryQuery","Array","isArray","query","categories","categoryQueryOptions","split","isCategoryOption","every","onSelectCategories","restProps","push","pathname","join","undefined","shallow","useAppsFilterByCategory","safeApps","useMemo","hasSelectedCategories","filter","some","safeApp","tags","useAppsSearch","apps","fuse","Fuse","keys","name","weight","threshold","findAllMatches","search","result","useAppsFilterByOptimizedForBatch","optimizedWithBatchFilter","isOptimizedForBatchTransactions","setQuery","useState","useSafeAppsFilters","setOptimizedWithBatchFilter","filteredApps","filteredAppsByQuery","filteredAppsByQueryAndCategories","debouncedSearchQuery","useDebounce","trackSafeAppEvent","SAFE_APPS_EVENTS","SEARCH","SafeApps","remoteSafeApps","remoteSafeAppsLoading","pinnedSafeApps","pinnedSafeAppIds","useSafeApps","isFiltered","isSafeAppsEnabled","useHasFeature","FEATURES","SAFE_APPS","featuredSafeApps","featured","nonPinnedApps","has","app","useCallback","debounce","appUrl","AppRoutes","open","safe","Head","BRAND_NAME","SafeAppsSDKLink","SafeAppsHeader","main","SafeAppList","bookmarkedSafeAppsId","eventLabel","SAFE_APPS_LABELS","apps_pinned","apps_featured","safeAppsListLoading","apps_all","showNativeSwapsCard"],"sourceRoot":"","ignoreList":[]}