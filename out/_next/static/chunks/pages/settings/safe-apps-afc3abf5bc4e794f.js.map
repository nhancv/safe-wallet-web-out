{"version":3,"file":"static/chunks/pages/settings/safe-apps-afc3abf5bc4e794f.js","mappings":"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","sources":["webpack://_N_E/./src/components/common/Mui/index.tsx","webpack://_N_E/?88c9","webpack://_N_E/./src/components/safe-apps/PermissionCheckbox.tsx","webpack://_N_E/./src/components/common/NavTabs/index.tsx","webpack://_N_E/./src/components/common/NavTabs/styles.module.css","webpack://_N_E/./src/hooks/safe-apps/useCustomSafeApps.ts","webpack://_N_E/./src/hooks/safe-apps/usePinnedSafeApps.ts","webpack://_N_E/./src/hooks/safe-apps/useRankedSafeApps.ts","webpack://_N_E/./src/hooks/safe-apps/useSafeApps.ts","webpack://_N_E/./src/services/safe-apps/manifest.ts","webpack://_N_E/./src/components/common/PageHeader/index.tsx","webpack://_N_E/./src/components/settings/SafeAppsPermissions/index.tsx","webpack://_N_E/./src/components/settings/SafeAppsSigningMethod/index.tsx","webpack://_N_E/./src/pages/settings/safe-apps/index.tsx","webpack://_N_E/./src/components/settings/SettingsHeader/index.tsx","webpack://_N_E/./src/components/common/PageHeader/styles.module.css"],"sourcesContent":["export * from \"/app/apps/web/src/components/common/Mui/index.tsx\"","\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/settings/safe-apps\",\n      function () {\n        return require(\"private-next-pages/settings/safe-apps/index.tsx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/settings/safe-apps\"])\n      });\n    }\n  ","import { Checkbox, FormControlLabel } from '@mui/material'\n\ntype PermissionsCheckboxProps = {\n  label: string\n  name: string\n  checked: boolean\n  onChange: (event: React.ChangeEvent<HTMLInputElement>, checked: boolean) => void\n}\n\nconst PermissionsCheckbox = ({ label, checked, onChange, name }: PermissionsCheckboxProps): React.ReactElement => (\n  <FormControlLabel\n    sx={({ palette }) => ({\n      flex: 1,\n      '.MuiIconButton-root:not(.Mui-checked)': {\n        color: palette.text.disabled,\n      },\n    })}\n    control={<Checkbox checked={checked} onChange={onChange} name={name} />}\n    label={label}\n  />\n)\n\nexport default PermissionsCheckbox\n","import React from 'react'\nimport NextLink from 'next/link'\nimport { Tab, Tabs, Typography } from '@mui/material'\nimport { useRouter } from 'next/router'\nimport type { NavItem } from '@/components/sidebar/SidebarNavigation/config'\nimport css from './styles.module.css'\n\nconst NavTabs = ({ tabs }: { tabs: NavItem[] }) => {\n  const router = useRouter()\n  const activeTab = Math.max(0, tabs.map((tab) => tab.href).indexOf(router.pathname))\n  const query = router.query.safe ? { safe: router.query.safe } : undefined\n\n  return (\n    <Tabs value={activeTab} variant=\"scrollable\" allowScrollButtonsMobile className={css.tabs}>\n      {tabs.map((tab, idx) => (\n        <Tab\n          key={tab.href}\n          href={{ pathname: tab.href, query }}\n          component={NextLink}\n          tabIndex={0}\n          className={css.tab}\n          label={\n            <Typography\n              variant=\"body2\"\n              fontWeight={700}\n              color={activeTab === idx ? 'primary' : 'primary.light'}\n              className={css.label}\n            >\n              {tab.label}\n            </Typography>\n          }\n        />\n      ))}\n    </Tabs>\n  )\n}\n\nexport default NavTabs\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tabs\":\"styles_tabs__8AoqD\",\"tab\":\"styles_tab__WjqMe\",\"label\":\"styles_label__D53iN\"};","import { useState, useEffect, useCallback } from 'react'\nimport type { SafeAppData } from '@safe-global/safe-gateway-typescript-sdk'\nimport local from '@/services/local-storage/local'\nimport { fetchSafeAppFromManifest } from '@/services/safe-apps/manifest'\nimport useChainId from '@/hooks/useChainId'\n\ntype ReturnType = {\n  customSafeApps: SafeAppData[]\n  loading: boolean\n  updateCustomSafeApps: (newCustomSafeApps: SafeAppData[]) => void\n}\n\nconst CUSTOM_SAFE_APPS_STORAGE_KEY = 'customSafeApps'\n\nconst getChainSpecificSafeAppsStorageKey = (chainId: string) => `${CUSTOM_SAFE_APPS_STORAGE_KEY}-${chainId}`\n\ntype StoredCustomSafeApp = { url: string }\n\n/*\n  This hook is used to manage the list of custom safe apps.\n  What it does:\n  1. Loads a list of custom safe apps from local storage\n  2. Does some backward compatibility checks (supported app networks, etc)\n  3. Tries to fetch the app info (manifest.json) from the app url\n*/\nconst useCustomSafeApps = (): ReturnType => {\n  const [customSafeApps, setCustomSafeApps] = useState<SafeAppData[]>([])\n  const [loading, setLoading] = useState(false)\n  const chainId = useChainId()\n\n  const updateCustomSafeApps = useCallback(\n    (newCustomSafeApps: SafeAppData[]) => {\n      setCustomSafeApps(newCustomSafeApps)\n\n      const chainSpecificSafeAppsStorageKey = getChainSpecificSafeAppsStorageKey(chainId)\n      local.setItem(\n        chainSpecificSafeAppsStorageKey,\n        newCustomSafeApps.map((app) => ({ url: app.url })),\n      )\n    },\n    [chainId],\n  )\n\n  useEffect(() => {\n    const loadCustomApps = async () => {\n      setLoading(true)\n      const chainSpecificSafeAppsStorageKey = getChainSpecificSafeAppsStorageKey(chainId)\n      const storedApps = local.getItem<StoredCustomSafeApp[]>(chainSpecificSafeAppsStorageKey) || []\n      const appManifests = await Promise.allSettled(storedApps.map((app) => fetchSafeAppFromManifest(app.url, chainId)))\n      const resolvedApps = appManifests\n        .filter((promiseResult) => promiseResult.status === 'fulfilled')\n        .map((promiseResult) => (promiseResult as PromiseFulfilledResult<SafeAppData>).value)\n\n      setCustomSafeApps(resolvedApps)\n      setLoading(false)\n    }\n\n    loadCustomApps()\n  }, [chainId])\n\n  return { customSafeApps, loading, updateCustomSafeApps }\n}\n\nexport { useCustomSafeApps }\n","import { useCallback, useMemo } from 'react'\nimport { useAppDispatch, useAppSelector } from '@/store'\nimport { selectPinned, setPinned } from '@/store/safeAppsSlice'\nimport useChainId from '../useChainId'\n\ntype ReturnType = {\n  pinnedSafeAppIds: Set<number>\n  updatePinnedSafeApps: (newPinnedSafeAppIds: Set<number>) => void\n}\n\n// Return the pinned app ids across all chains\nexport const usePinnedSafeApps = (): ReturnType => {\n  const chainId = useChainId()\n  const pinned = useAppSelector((state) => selectPinned(state, chainId))\n  const pinnedSafeAppIds = useMemo(() => new Set(pinned), [pinned])\n  const dispatch = useAppDispatch()\n\n  const updatePinnedSafeApps = useCallback(\n    (ids: Set<number>) => {\n      dispatch(setPinned({ pinned: Array.from(ids), chainId }))\n    },\n    [dispatch, chainId],\n  )\n\n  return { pinnedSafeAppIds, updatePinnedSafeApps }\n}\n","import { useMemo } from 'react'\nimport type { SafeAppData } from '@safe-global/safe-gateway-typescript-sdk'\nimport { rankSafeApps } from '@/services/safe-apps/track-app-usage-count'\n\n// number of ranked Safe Apps that we want to display\nconst NUMBER_OF_SAFE_APPS = 5\n\nconst useRankedSafeApps = (safeApps: SafeAppData[], pinnedSafeApps: SafeAppData[]): SafeAppData[] => {\n  return useMemo(() => {\n    if (!safeApps.length) return []\n\n    // TODO: Remove assertion after migrating to new SDK\n    const featuredApps = safeApps.filter((app) => (app as SafeAppData & { featured: boolean }).featured)\n    const rankedPinnedApps = rankSafeApps(pinnedSafeApps)\n\n    const allRankedApps = featuredApps.concat(rankedPinnedApps, pinnedSafeApps)\n\n    // Use a Set to remove duplicates\n    return [...new Set(allRankedApps)].slice(0, NUMBER_OF_SAFE_APPS)\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [safeApps])\n}\n\nexport { useRankedSafeApps }\n","import { useMemo, useCallback } from 'react'\nimport type { SafeAppData } from '@safe-global/safe-gateway-typescript-sdk'\nimport { useRemoteSafeApps } from '@/hooks/safe-apps/useRemoteSafeApps'\nimport { useCustomSafeApps } from '@/hooks/safe-apps/useCustomSafeApps'\nimport { usePinnedSafeApps } from '@/hooks/safe-apps/usePinnedSafeApps'\nimport { useBrowserPermissions, useSafePermissions } from './permissions'\nimport { useRankedSafeApps } from '@/hooks/safe-apps/useRankedSafeApps'\nimport { SAFE_APPS_EVENTS, type SAFE_APPS_LABELS, trackSafeAppEvent } from '@/services/analytics'\n\ntype ReturnType = {\n  allSafeApps: SafeAppData[]\n  pinnedSafeApps: SafeAppData[]\n  pinnedSafeAppIds: Set<number>\n  remoteSafeApps: SafeAppData[]\n  customSafeApps: SafeAppData[]\n  rankedSafeApps: SafeAppData[]\n  remoteSafeAppsLoading: boolean\n  customSafeAppsLoading: boolean\n  remoteSafeAppsError?: Error\n  addCustomApp: (app: SafeAppData) => void\n  togglePin: (appId: number, eventLabel: SAFE_APPS_LABELS) => void\n  removeCustomApp: (appId: number) => void\n}\n\nconst useSafeApps = (): ReturnType => {\n  const [remoteSafeApps = [], remoteSafeAppsError, remoteSafeAppsLoading] = useRemoteSafeApps()\n  const { customSafeApps, loading: customSafeAppsLoading, updateCustomSafeApps } = useCustomSafeApps()\n  const { pinnedSafeAppIds, updatePinnedSafeApps } = usePinnedSafeApps()\n  const { removePermissions: removeSafePermissions } = useSafePermissions()\n  const { removePermissions: removeBrowserPermissions } = useBrowserPermissions()\n\n  const allSafeApps = useMemo(\n    () => remoteSafeApps.concat(customSafeApps).sort((a, b) => a.name.localeCompare(b.name)),\n    [remoteSafeApps, customSafeApps],\n  )\n\n  const pinnedSafeApps = useMemo(\n    () => remoteSafeApps.filter((app) => pinnedSafeAppIds.has(app.id)),\n    [remoteSafeApps, pinnedSafeAppIds],\n  )\n\n  const rankedSafeApps = useRankedSafeApps(allSafeApps, pinnedSafeApps)\n\n  const addCustomApp = useCallback(\n    (app: SafeAppData) => {\n      updateCustomSafeApps([...customSafeApps, app])\n    },\n    [updateCustomSafeApps, customSafeApps],\n  )\n\n  const removeCustomApp = useCallback(\n    (appId: number) => {\n      updateCustomSafeApps(customSafeApps.filter((app) => app.id !== appId))\n      const app = customSafeApps.find((app) => app.id === appId)\n\n      if (app) {\n        removeSafePermissions(app.url)\n        removeBrowserPermissions(app.url)\n      }\n    },\n    [updateCustomSafeApps, customSafeApps, removeSafePermissions, removeBrowserPermissions],\n  )\n\n  const togglePin = (appId: number, eventLabel: SAFE_APPS_LABELS) => {\n    const alreadyPinned = pinnedSafeAppIds.has(appId)\n    const newSet = new Set(pinnedSafeAppIds)\n    const appName = allSafeApps.find((app) => app.id === appId)?.name\n\n    if (alreadyPinned) {\n      newSet.delete(appId)\n      trackSafeAppEvent({ ...SAFE_APPS_EVENTS.UNPIN, label: eventLabel }, appName)\n    } else {\n      newSet.add(appId)\n      trackSafeAppEvent({ ...SAFE_APPS_EVENTS.PIN, label: eventLabel }, appName)\n    }\n    updatePinnedSafeApps(newSet)\n  }\n\n  return {\n    allSafeApps,\n    rankedSafeApps,\n\n    remoteSafeApps,\n    remoteSafeAppsLoading: remoteSafeAppsLoading || !(remoteSafeApps || remoteSafeAppsError),\n    remoteSafeAppsError,\n\n    pinnedSafeApps,\n    pinnedSafeAppIds,\n    togglePin,\n\n    customSafeApps,\n    customSafeAppsLoading,\n    addCustomApp,\n    removeCustomApp,\n  }\n}\n\nexport { useSafeApps }\n","import type { AllowedFeatures, SafeAppDataWithPermissions } from '@/components/safe-apps/types'\nimport { isRelativeUrl, trimTrailingSlash, stripUrlParams } from '@/utils/url'\nimport { SafeAppAccessPolicyTypes } from '@safe-global/safe-gateway-typescript-sdk'\n\ntype AppManifestIcon = {\n  src: string\n  sizes: string\n  type?: string\n  purpose?: string\n}\n\nexport type AppManifest = {\n  // SPEC: https://developer.mozilla.org/en-US/docs/Web/Manifest\n  name: string\n  short_name?: string\n  description: string\n  icons?: AppManifestIcon[]\n  iconPath?: string\n  safe_apps_permissions?: AllowedFeatures[]\n}\n\nconst MIN_ICON_WIDTH = 128\n\nconst chooseBestIcon = (icons: AppManifestIcon[]): string => {\n  const svgIcon = icons.find((icon) => icon?.sizes?.includes('any') || icon?.type === 'image/svg+xml')\n\n  if (svgIcon) {\n    return svgIcon.src\n  }\n\n  for (const icon of icons) {\n    for (const size of icon.sizes.split(' ')) {\n      if (Number(size.split('x')[0]) >= MIN_ICON_WIDTH) {\n        return icon.src\n      }\n    }\n  }\n\n  return icons[0].src || ''\n}\n\n// The icons URL can be any of the following format:\n// - https://example.com/icon.png\n// - icon.png\n// - /icon.png\n// This function calculates the absolute URL of the icon taking into account the\n// different formats.\nconst getAppLogoUrl = (appUrl: string, { icons = [], iconPath = '' }: AppManifest) => {\n  const iconUrl = icons.length ? chooseBestIcon(icons) : iconPath\n  const includesBaseUrl = iconUrl.startsWith('https://')\n  if (includesBaseUrl) {\n    return iconUrl\n  }\n\n  return `${appUrl}${isRelativeUrl(iconUrl) ? '' : '/'}${iconUrl}`\n}\n\nconst fetchAppManifest = async (appUrl: string, timeout = 5000): Promise<unknown> => {\n  // Strip URL parameters for fetching the manifest\n  const baseUrl = stripUrlParams(appUrl)\n  const normalizedUrl = trimTrailingSlash(baseUrl)\n  const manifestUrl = `${normalizedUrl}/manifest.json`\n\n  // A lot of apps are hosted on IPFS and IPFS never times out, so we add our own timeout\n  const controller = new AbortController()\n  const id = setTimeout(() => controller.abort(), timeout)\n\n  const response = await fetch(manifestUrl, {\n    signal: controller.signal,\n  })\n  clearTimeout(id)\n\n  if (!response.ok) {\n    throw new Error(`Failed to fetch manifest from ${manifestUrl}`)\n  }\n\n  return response.json()\n}\n\nconst isAppManifestValid = (json: unknown): json is AppManifest => {\n  return (\n    json != null &&\n    typeof json === 'object' &&\n    'name' in json &&\n    'description' in json &&\n    ('icons' in json || 'iconPath' in json)\n  )\n}\n\nconst fetchSafeAppFromManifest = async (\n  appUrl: string,\n  currentChainId: string,\n): Promise<SafeAppDataWithPermissions> => {\n  // Strip URL parameters for the normalized app URL but keep the original URL for the iframe\n  const baseUrl = stripUrlParams(appUrl)\n  const normalizedAppUrl = trimTrailingSlash(baseUrl)\n  // Use the base URL to fetch the manifest\n  const appManifest = await fetchAppManifest(appUrl)\n\n  if (!isAppManifestValid(appManifest)) {\n    throw new Error('Invalid Safe App manifest')\n  }\n\n  const iconUrl = getAppLogoUrl(normalizedAppUrl, appManifest)\n\n  // Preserve the original URL with parameters\n  const originalUrl = appUrl\n\n  return {\n    // Must satisfy https://docs.djangoproject.com/en/5.0/ref/models/fields/#positiveintegerfield\n    id: Math.round(Math.random() * 1e9 + 1e6),\n    url: normalizedAppUrl, // Store the base URL without parameters for matching\n    originalUrl, // Store the original URL with parameters\n    name: appManifest.name,\n    description: appManifest.description,\n    accessControl: { type: SafeAppAccessPolicyTypes.NoRestrictions },\n    tags: [],\n    features: [],\n    socialProfiles: [],\n    developerWebsite: '',\n    chainIds: [currentChainId],\n    iconUrl,\n    safeAppsPermissions: appManifest.safe_apps_permissions || [],\n  }\n}\n\nexport { fetchAppManifest, isAppManifestValid, getAppLogoUrl, fetchSafeAppFromManifest }\n","import { Box, Typography } from '@mui/material'\nimport classNames from 'classnames'\n\nimport type { ReactElement } from 'react'\n\nimport css from './styles.module.css'\n\nconst PageHeader = ({\n  title,\n  action,\n  noBorder,\n}: {\n  title: string\n  action?: ReactElement\n  noBorder?: boolean\n}): ReactElement => {\n  return (\n    <Box className={classNames(css.container, { [css.border]: !noBorder })}>\n      <Typography variant=\"h3\" className={css.title}>\n        {title}\n      </Typography>\n      {action}\n    </Box>\n  )\n}\n\nexport default PageHeader\n","import { useSafeApps } from '@/hooks/safe-apps/useSafeApps'\nimport {\n  getBrowserPermissionDisplayValues,\n  getSafePermissionDisplayValues,\n  useBrowserPermissions,\n  useSafePermissions,\n} from '@/hooks/safe-apps/permissions'\nimport type { ReactElement } from 'react'\nimport { useCallback, useMemo } from 'react'\nimport type { AllowedFeatures } from '@/components/safe-apps/types'\nimport { PermissionStatus } from '@/components/safe-apps/types'\nimport type { SafeAppData } from '@safe-global/safe-gateway-typescript-sdk'\nimport { Grid, Link, Paper, SvgIcon, Typography } from '@mui/material'\nimport PermissionsCheckbox from '@/components/safe-apps/PermissionCheckbox'\nimport DeleteIcon from '@/public/images/common/delete.svg'\n\nconst SafeAppsPermissions = (): ReactElement => {\n  const { allSafeApps } = useSafeApps()\n  const {\n    permissions: safePermissions,\n    updatePermission: updateSafePermission,\n    removePermissions: removeSafePermissions,\n    isUserRestricted,\n  } = useSafePermissions()\n  const {\n    permissions: browserPermissions,\n    updatePermission: updateBrowserPermission,\n    removePermissions: removeBrowserPermissions,\n  } = useBrowserPermissions()\n  const domains = useMemo(() => {\n    const mergedPermissionsSet = new Set(Object.keys(browserPermissions).concat(Object.keys(safePermissions)))\n\n    return Array.from(mergedPermissionsSet)\n  }, [safePermissions, browserPermissions])\n\n  const handleSafePermissionsChange = (origin: string, capability: string, checked: boolean) =>\n    updateSafePermission(origin, [{ capability, selected: checked }])\n\n  const handleBrowserPermissionsChange = (origin: string, feature: AllowedFeatures, checked: boolean) =>\n    updateBrowserPermission(origin, [{ feature, selected: checked }])\n\n  const updateAllPermissions = useCallback(\n    (origin: string, selected: boolean) => {\n      if (safePermissions[origin]?.length)\n        updateSafePermission(\n          origin,\n          safePermissions[origin].map(({ parentCapability }) => ({ capability: parentCapability, selected })),\n        )\n\n      if (browserPermissions[origin]?.length)\n        updateBrowserPermission(\n          origin,\n          browserPermissions[origin].map(({ feature }) => ({ feature, selected })),\n        )\n    },\n    [browserPermissions, safePermissions, updateBrowserPermission, updateSafePermission],\n  )\n\n  const handleAllowAll = useCallback(\n    (event: React.MouseEvent, origin: string) => {\n      event.preventDefault()\n      updateAllPermissions(origin, true)\n    },\n    [updateAllPermissions],\n  )\n\n  const handleClearAll = useCallback(\n    (event: React.MouseEvent, origin: string) => {\n      event.preventDefault()\n      updateAllPermissions(origin, false)\n    },\n    [updateAllPermissions],\n  )\n\n  const handleRemoveApp = useCallback(\n    (event: React.MouseEvent, origin: string) => {\n      event.preventDefault()\n      removeSafePermissions(origin)\n      removeBrowserPermissions(origin)\n    },\n    [removeBrowserPermissions, removeSafePermissions],\n  )\n\n  const appNames = useMemo(() => {\n    const appNames = allSafeApps.reduce((acc: Record<string, string>, app: SafeAppData) => {\n      acc[app.url] = app.name\n      return acc\n    }, {})\n\n    return appNames\n  }, [allSafeApps])\n\n  if (!allSafeApps.length) {\n    return <div />\n  }\n\n  return (\n    <Paper sx={{ padding: 4 }}>\n      <Typography variant=\"h4\" fontWeight={700}>\n        Safe Apps permissions\n      </Typography>\n      <br />\n      {!domains.length && (\n        <Typography variant=\"body1\" sx={{ color: ({ palette }) => palette.primary.light }}>\n          There are no Safe Apps using permissions.\n        </Typography>\n      )}\n      {domains.map((domain) => (\n        <Grid\n          item\n          key={domain}\n          sx={({ palette, shape }) => ({\n            border: `1px solid ${palette.border.light}`,\n            borderRadius: shape.borderRadius,\n            marginBottom: '16px',\n          })}\n        >\n          <Grid\n            container\n            sx={({ palette }) => ({\n              padding: '15px 24px',\n              borderBottom: `1px solid ${palette.border.light}`,\n            })}\n          >\n            <Grid\n              item\n              xs={12}\n              sm={5}\n              sx={{\n                padding: '9px 0',\n              }}\n            >\n              <Typography variant=\"h5\" fontWeight={700}>\n                {appNames[domain]}\n              </Typography>\n              <Typography variant=\"body2\">{domain}</Typography>\n            </Grid>\n            <Grid container item xs={12} sm={7}>\n              {safePermissions[domain]?.map(({ parentCapability, caveats }) => {\n                return (\n                  <Grid key={parentCapability} item xs={12} sm={6} lg={4} xl={3}>\n                    <PermissionsCheckbox\n                      name={parentCapability}\n                      label={getSafePermissionDisplayValues(parentCapability).displayName}\n                      onChange={(_, checked: boolean) => handleSafePermissionsChange(domain, parentCapability, checked)}\n                      checked={!isUserRestricted(caveats)}\n                    />\n                  </Grid>\n                )\n              })}\n              {browserPermissions[domain]?.map(({ feature, status }) => {\n                return (\n                  <Grid key={feature} item xs={12} sm={6} lg={4} xl={3}>\n                    <PermissionsCheckbox\n                      name={feature.toString()}\n                      label={getBrowserPermissionDisplayValues(feature).displayName}\n                      onChange={(_, checked: boolean) => handleBrowserPermissionsChange(domain, feature, checked)}\n                      checked={status === PermissionStatus.GRANTED ? true : false}\n                    />\n                  </Grid>\n                )\n              })}\n            </Grid>\n          </Grid>\n          <Grid\n            container\n            item\n            justifyContent=\"flex-end\"\n            sx={{\n              padding: '12px 24px',\n            }}\n          >\n            <Link href=\"#\" onClick={(event) => handleAllowAll(event, domain)} sx={{ textDecoration: 'none' }}>\n              Allow all\n            </Link>\n            <Link\n              href=\"#\"\n              color=\"error\"\n              onClick={(event) => handleClearAll(event, domain)}\n              sx={{ textDecoration: 'none' }}\n              ml={2}\n            >\n              Clear all\n            </Link>\n            <Link href=\"#\" color=\"error\" onClick={(event) => handleRemoveApp(event, domain)} ml={2}>\n              <SvgIcon component={DeleteIcon} inheritViewBox color=\"error\" fontSize=\"small\" />\n            </Link>\n          </Grid>\n        </Grid>\n      ))}\n    </Paper>\n  )\n}\n\nexport default SafeAppsPermissions\n","import ExternalLink from '@/components/common/ExternalLink'\nimport { SETTINGS_EVENTS, trackEvent } from '@/services/analytics'\nimport { useAppDispatch, useAppSelector } from '@/store'\nimport { selectOnChainSigning, setOnChainSigning } from '@/store/settingsSlice'\nimport { FormControlLabel, Checkbox, Paper, Typography, FormGroup, Grid } from '@mui/material'\nimport { BRAND_NAME } from '@/config/constants'\nimport { HelpCenterArticle } from '@safe-global/utils/config/constants'\n\nexport const SafeAppsSigningMethod = () => {\n  const onChainSigning = useAppSelector(selectOnChainSigning)\n\n  const dispatch = useAppDispatch()\n\n  const onChange = () => {\n    trackEvent(SETTINGS_EVENTS.SAFE_APPS.CHANGE_SIGNING_METHOD)\n    dispatch(setOnChainSigning(!onChainSigning))\n  }\n\n  return (\n    <Paper sx={{ padding: 4, mt: 2 }}>\n      <Grid container spacing={3}>\n        <Grid item lg={4} xs={12}>\n          <Typography variant=\"h4\" fontWeight=\"bold\" mb={1}>\n            Signing method\n          </Typography>\n        </Grid>\n\n        <Grid item xs>\n          <Typography mb={2}>\n            This setting determines how the {BRAND_NAME} will sign message requests from Safe Apps. Gasless, off-chain\n            signing is used by default. Learn more about message signing{' '}\n            <ExternalLink href={HelpCenterArticle.SIGNED_MESSAGES}>here</ExternalLink>.\n          </Typography>\n          <FormGroup>\n            <FormControlLabel\n              sx={({ palette }) => ({\n                flex: 1,\n                '.MuiIconButton-root:not(.Mui-checked)': {\n                  color: palette.text.disabled,\n                },\n              })}\n              control={<Checkbox checked={onChainSigning} onChange={onChange} name=\"use-on-chain-signing\" />}\n              label=\"Always use on-chain signatures\"\n            />\n          </FormGroup>\n        </Grid>\n      </Grid>\n    </Paper>\n  )\n}\n","import type { NextPage } from 'next'\nimport Head from 'next/head'\n\nimport SafeAppsPermissions from '@/components/settings/SafeAppsPermissions'\nimport SettingsHeader from '@/components/settings/SettingsHeader'\nimport { SafeAppsSigningMethod } from '@/components/settings/SafeAppsSigningMethod'\nimport { BRAND_NAME } from '@/config/constants'\n\nconst SafeAppsPermissionsPage: NextPage = () => {\n  return (\n    <>\n      <Head>\n        <title>{`${BRAND_NAME} – Settings – Safe Apps`}</title>\n      </Head>\n\n      <SettingsHeader />\n\n      <main>\n        <SafeAppsPermissions />\n        <SafeAppsSigningMethod />\n      </main>\n    </>\n  )\n}\n\nexport default SafeAppsPermissionsPage\n","import type { ReactElement } from 'react'\n\nimport NavTabs from '@/components/common/NavTabs'\nimport PageHeader from '@/components/common/PageHeader'\nimport { generalSettingsNavItems, settingsNavItems } from '@/components/sidebar/SidebarNavigation/config'\nimport css from '@/components/common/PageHeader/styles.module.css'\nimport useSafeAddress from '@/hooks/useSafeAddress'\nimport { useCurrentChain } from '@/hooks/useChains'\nimport { isRouteEnabled } from '@/utils/chains'\nimport madProps from '@/utils/mad-props'\n\nexport const SettingsHeader = ({\n  safeAddress,\n  chain,\n}: {\n  safeAddress: ReturnType<typeof useSafeAddress>\n  chain: ReturnType<typeof useCurrentChain>\n}): ReactElement => {\n  const navItems = safeAddress\n    ? settingsNavItems.filter((route) => isRouteEnabled(route.href, chain))\n    : generalSettingsNavItems\n\n  return (\n    <PageHeader\n      title={safeAddress ? 'Settings' : 'Preferences'}\n      action={\n        <div className={css.navWrapper}>\n          <NavTabs tabs={navItems} />\n        </div>\n      }\n    />\n  )\n}\n\nexport default madProps(SettingsHeader, {\n  safeAddress: useSafeAddress,\n  chain: useCurrentChain,\n})\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__sGid8\",\"title\":\"styles_title___s0jt\",\"border\":\"styles_border__BkX1U\",\"pageHeader\":\"styles_pageHeader__fRL7d\",\"actionsWrapper\":\"styles_actionsWrapper__g_Tq2\",\"navWrapper\":\"styles_navWrapper__XNqgs\"};"],"names":["label","PermissionsCheckbox","checked","onChange","name","FormControlLabel","sx","palette","flex","color","text","disabled","control","Checkbox","tabs","NavTabs","router","useRouter","activeTab","Math","max","map","tab","href","indexOf","pathname","query","safe","undefined","Tabs","value","variant","allowScrollButtonsMobile","className","css","idx","Tab","component","NextLink","tabIndex","Typography","fontWeight","getChainSpecificSafeAppsStorageKey","chainId","CUSTOM_SAFE_APPS_STORAGE_KEY","useCustomSafeApps","customSafeApps","setCustomSafeApps","useState","loading","setLoading","useChainId","updateCustomSafeApps","useCallback","newCustomSafeApps","chainSpecificSafeAppsStorageKey","local","setItem","url","app","useEffect","loadCustomApps","storedApps","getItem","appManifests","Promise","allSettled","resolvedApps","fetchSafeAppFromManifest","filter","status","usePinnedSafeApps","pinned","useAppSelector","selectPinned","state","pinnedSafeAppIds","useMemo","Set","dispatch","useAppDispatch","updatePinnedSafeApps","setPinned","Array","from","ids","useRankedSafeApps","safeApps","pinnedSafeApps","length","featuredApps","featured","rankedPinnedApps","rankSafeApps","concat","slice","NUMBER_OF_SAFE_APPS","useSafeApps","remoteSafeApps","remoteSafeAppsError","remoteSafeAppsLoading","useRemoteSafeApps","customSafeAppsLoading","removePermissions","removeSafePermissions","useSafePermissions","removeBrowserPermissions","useBrowserPermissions","allSafeApps","sort","a","b","localeCompare","has","id","rankedSafeApps","addCustomApp","removeCustomApp","appId","find","togglePin","eventLabel","alreadyPinned","newSet","appName","delete","trackSafeAppEvent","SAFE_APPS_EVENTS","UNPIN","add","PIN","chooseBestIcon","svgIcon","icons","icon","sizes","includes","type","src","size","split","Number","MIN_ICON_WIDTH","getAppLogoUrl","appUrl","iconPath","iconUrl","startsWith","includesBaseUrl","isRelativeUrl","fetchAppManifest","timeout","baseUrl","stripUrlParams","normalizedUrl","trimTrailingSlash","manifestUrl","controller","AbortController","setTimeout","abort","response","fetch","signal","clearTimeout","ok","json","isAppManifestValid","currentChainId","normalizedAppUrl","appManifest","round","random","originalUrl","description","accessControl","SafeAppAccessPolicyTypes","NoRestrictions","tags","features","socialProfiles","developerWebsite","chainIds","safeAppsPermissions","safe_apps_permissions","title","action","PageHeader","noBorder","Box","classNames","permissions","safePermissions","updatePermission","updateSafePermission","isUserRestricted","browserPermissions","updateBrowserPermission","domains","mergedPermissionsSet","Object","keys","handleSafePermissionsChange","origin","capability","selected","handleBrowserPermissionsChange","feature","updateAllPermissions","parentCapability","handleAllowAll","event","preventDefault","handleClearAll","handleRemoveApp","appNames","reduce","acc","Paper","padding","br","primary","light","domain","Grid","item","shape","border","borderRadius","marginBottom","container","borderBottom","xs","sm","caveats","lg","xl","getSafePermissionDisplayValues","displayName","_","toString","getBrowserPermissionDisplayValues","PermissionStatus","GRANTED","justifyContent","Link","onClick","textDecoration","ml","SvgIcon","DeleteIcon","inheritViewBox","fontSize","div","SafeAppsSigningMethod","onChainSigning","selectOnChainSigning","mt","spacing","mb","BRAND_NAME","ExternalLink","HelpCenterArticle","SIGNED_MESSAGES","FormGroup","trackEvent","SETTINGS_EVENTS","SAFE_APPS","CHANGE_SIGNING_METHOD","setOnChainSigning","SafeAppsPermissionsPage","Head","SettingsHeader","main","SafeAppsPermissions","madProps","safeAddress","chain","navItems","settingsNavItems","isRouteEnabled","route","generalSettingsNavItems","useSafeAddress","useCurrentChain"],"sourceRoot":"","ignoreList":[]}