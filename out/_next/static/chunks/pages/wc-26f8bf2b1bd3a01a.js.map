{"version":3,"file":"static/chunks/pages/wc-26f8bf2b1bd3a01a.js","mappings":"kJAYA,MARoB,KAClB,IAAMA,EAAYC,CAAAA,EAAAA,EAAAA,EAAAA,CAAeA,GAC3BC,EAAUF,IAMHG,GANGH,EAAAA,KAAAA,CAMQG,CANRH,CAMQ,CANGE,OAAAA,GAAW,CAAtBF,EACVI,EAASJ,OAAAA,EAAAA,KAAAA,EAAAA,EAAWK,SAAAA,EAAXL,CAAwB,GACjCM,EAAkBC,CAAAA,EAAAA,EAAAA,EAAAA,CAAcA,CAAC,GAAWC,CAAAA,EAAAA,EAAAA,EAAAA,CAAqBA,CAACC,EAAOP,IAC/E,OAAOE,GAAUE,EAAkB,GAAaA,MAAAA,CAAVF,EAAO,KAAmB,OAAhBE,QAAoBI,CACtE,kIC6BA,MAhCyB,KACvB,IAAMC,EAASC,CAAAA,EAAAA,EAAAA,SAAAA,CAASA,EA+BXC,CA9BPC,EAAWX,CAAAA,EAAAA,EAAAA,CAAAA,CAAWA,GA2B5B,MAzBAY,CAAAA,EAAAA,EAAAA,SAAAA,CAASA,CAAC,KACR,GAAI,CAACJ,EAAOK,OAAO,EAAIL,EAAOM,QAAQ,GAAKC,EAAAA,CAASA,CAACC,EAAE,CACrD,CADuD,MAIzD,GAAM,KAAEC,CAAG,CAAE,CAAGT,EAAOU,KAAK,CAE5BV,EAAOW,OAAO,CACZR,EACI,CACEG,SAAUC,EAAAA,CAASA,CAACK,IAAI,CACxBF,MAAO,CACLG,KAAMV,EACN,CAACW,EAAAA,CAAmBA,CAAC,CAAEL,CACzB,CACF,EACA,CACEH,SAAUC,EAAAA,CAASA,CAACQ,OAAO,CAACC,KAAK,CACjCN,MAAO,CACL,CAACI,EAAAA,CAAmBA,CAAC,CAAEL,CACzB,CACF,EAER,EAAG,CAACT,EAAQG,EAAS,EAEd,wBACT,mFClCO,IAAMW,EAAsB,KAAI,SAEvBG,IACd,IAAMjB,EAASC,CAAAA,EAAAA,EAAAA,SAAAA,CAASA,GAqBxB,MAAO,CApBO,CAACD,EAAOU,KAAK,CAACI,EAAoB,EAAI,GAAC,CAAGI,QAAQ,IAAM,KAErDC,CAAAA,EAAAA,EAAAA,WAAAA,CAAWA,CAC1B,IACE,IAAMC,EAAW,CAAE,GAAGpB,EAAOU,KAAM,EAE9BW,EAGHD,CAAQ,CAACN,EAAoB,CAHnB,EACV,OAAOM,CAAQ,CAACN,EAAoB,CAKtCd,EAAOW,OAAO,CAAC,CACbL,SAAUN,EAAOM,QAAQ,CACzBI,MAAOU,CACT,EACF,EACA,CAACpB,EAAO,EAGc,mBC1B1B,4CACA,MACA,WACA,OAAe,EAAQ,KAA2B,CAClD,EACA,SAFsB","sources":["webpack://_N_E/./src/hooks/useLastSafe.ts","webpack://_N_E/./src/pages/wc.tsx","webpack://_N_E/./src/features/walletconnect/hooks/useWalletConnectSearchParamUri.ts","webpack://_N_E/"],"sourcesContent":["import { useAppSelector } from '@/store'\nimport { selectLastSafeAddress } from '@/store/sessionSlice'\nimport { useCurrentChain } from './useChains'\n\nconst useLastSafe = (): string | undefined => {\n  const chainInfo = useCurrentChain()\n  const chainId = chainInfo?.chainId || ''\n  const prefix = chainInfo?.shortName || ''\n  const lastSafeAddress = useAppSelector((state) => selectLastSafeAddress(state, chainId))\n  return prefix && lastSafeAddress ? `${prefix}:${lastSafeAddress}` : undefined\n}\n\nexport default useLastSafe\n","import { useEffect } from 'react'\nimport type { NextPage } from 'next'\nimport { useRouter } from 'next/router'\nimport useLastSafe from '@/hooks/useLastSafe'\nimport { AppRoutes } from '@/config/routes'\nimport { WC_URI_SEARCH_PARAM } from '@/features/walletconnect/hooks/useWalletConnectSearchParamUri'\n\nconst WcPage: NextPage = () => {\n  const router = useRouter()\n  const lastSafe = useLastSafe()\n\n  useEffect(() => {\n    if (!router.isReady || router.pathname !== AppRoutes.wc) {\n      return\n    }\n\n    const { uri } = router.query\n\n    router.replace(\n      lastSafe\n        ? {\n            pathname: AppRoutes.home,\n            query: {\n              safe: lastSafe,\n              [WC_URI_SEARCH_PARAM]: uri,\n            },\n          }\n        : {\n            pathname: AppRoutes.welcome.index,\n            query: {\n              [WC_URI_SEARCH_PARAM]: uri,\n            },\n          },\n    )\n  }, [router, lastSafe])\n\n  return <></>\n}\n\nexport default WcPage\n","import { useRouter } from 'next/router'\nimport { useCallback } from 'react'\n\nexport const WC_URI_SEARCH_PARAM = 'wc'\n\nexport function useWalletConnectSearchParamUri(): [string | null, (wcUri: string | null) => void] {\n  const router = useRouter()\n  const wcUri = (router.query[WC_URI_SEARCH_PARAM] || '').toString() || null\n\n  const setWcUri = useCallback(\n    (wcUri: string | null) => {\n      const newQuery = { ...router.query }\n\n      if (!wcUri) {\n        delete newQuery[WC_URI_SEARCH_PARAM]\n      } else {\n        newQuery[WC_URI_SEARCH_PARAM] = wcUri\n      }\n\n      router.replace({\n        pathname: router.pathname,\n        query: newQuery,\n      })\n    },\n    [router],\n  )\n\n  return [wcUri, setWcUri]\n}\n","\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/wc\",\n      function () {\n        return require(\"private-next-pages/wc.tsx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/wc\"])\n      });\n    }\n  "],"names":["chainInfo","useCurrentChain","chainId","useLastSafe","prefix","shortName","lastSafeAddress","useAppSelector","selectLastSafeAddress","state","undefined","router","useRouter","WcPage","lastSafe","useEffect","isReady","pathname","AppRoutes","wc","uri","query","replace","home","safe","WC_URI_SEARCH_PARAM","welcome","index","useWalletConnectSearchParamUri","toString","useCallback","newQuery","wcUri"],"sourceRoot":"","ignoreList":[]}